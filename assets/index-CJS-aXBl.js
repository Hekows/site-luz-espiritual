function c_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function h_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},lu={},p0={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=Symbol.for("react.element"),d_=Symbol.for("react.portal"),f_=Symbol.for("react.fragment"),m_=Symbol.for("react.strict_mode"),p_=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),y_=Symbol.for("react.context"),v_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),__=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),Am=Symbol.iterator;function E_(t){return t===null||typeof t!="object"?null:(t=Am&&t[Am]||t["@@iterator"],typeof t=="function"?t:null)}var g0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y0=Object.assign,v0={};function ui(t,e,n){this.props=t,this.context=e,this.refs=v0,this.updater=n||g0}ui.prototype.isReactComponent={};ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=ui.prototype;function yd(t,e,n){this.props=t,this.context=e,this.refs=v0,this.updater=n||g0}var vd=yd.prototype=new x0;vd.constructor=yd;y0(vd,ui.prototype);vd.isPureReactComponent=!0;var km=Array.isArray,_0=Object.prototype.hasOwnProperty,xd={current:null},w0={key:!0,ref:!0,__self:!0,__source:!0};function E0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)_0.call(e,r)&&!w0.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Bo,type:t,key:i,ref:o,props:s,_owner:xd.current}}function T_(t,e){return{$$typeof:Bo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _d(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bo}function N_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rm=/\/+/g;function uc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?N_(""+t.key):e.toString(36)}function Qa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Bo:case d_:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+uc(o,0):r,km(s)?(n="",t!=null&&(n=t.replace(Rm,"$&/")+"/"),Qa(s,e,n,"",function(h){return h})):s!=null&&(_d(s)&&(s=T_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",km(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+uc(i,u);o+=Qa(i,e,n,c,s)}else if(c=E_(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+uc(i,u++),o+=Qa(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wa(t,e,n){if(t==null)return t;var r=[],s=0;return Qa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function S_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},Xa={transition:null},b_={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:Xa,ReactCurrentOwner:xd};function T0(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:wa,forEach:function(t,e,n){wa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wa(t,function(){e++}),e},toArray:function(t){return wa(t,function(e){return e})||[]},only:function(t){if(!_d(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=ui;re.Fragment=f_;re.Profiler=p_;re.PureComponent=yd;re.StrictMode=m_;re.Suspense=x_;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b_;re.act=T0;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=y0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)_0.call(e,c)&&!w0.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Bo,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:y_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g_,_context:t},t.Consumer=t};re.createElement=E0;re.createFactory=function(t){var e=E0.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:v_,render:t}};re.isValidElement=_d;re.lazy=function(t){return{$$typeof:w_,_payload:{_status:-1,_result:t},_init:S_}};re.memo=function(t,e){return{$$typeof:__,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Xa.transition;Xa.transition={};try{t()}finally{Xa.transition=e}};re.unstable_act=T0;re.useCallback=function(t,e){return wt.current.useCallback(t,e)};re.useContext=function(t){return wt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};re.useEffect=function(t,e){return wt.current.useEffect(t,e)};re.useId=function(){return wt.current.useId()};re.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return wt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};re.useRef=function(t){return wt.current.useRef(t)};re.useState=function(t){return wt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return wt.current.useTransition()};re.version="18.3.1";p0.exports=re;var j=p0.exports;const N0=h_(j),I_=c_({__proto__:null,default:N0},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_=j,A_=Symbol.for("react.element"),k_=Symbol.for("react.fragment"),R_=Object.prototype.hasOwnProperty,j_=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P_={key:!0,ref:!0,__self:!0,__source:!0};function S0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)R_.call(e,r)&&!P_.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:A_,type:t,key:i,ref:o,props:s,_owner:j_.current}}lu.Fragment=k_;lu.jsx=S0;lu.jsxs=S0;m0.exports=lu;var l=m0.exports,b0={exports:{}},Ot={},I0={exports:{}},C0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Q){var Y=q.length;q.push(Q);e:for(;0<Y;){var ge=Y-1>>>1,fe=q[ge];if(0<s(fe,Q))q[ge]=Q,q[Y]=fe,Y=ge;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Q=q[0],Y=q.pop();if(Y!==Q){q[0]=Y;e:for(var ge=0,fe=q.length,Kt=fe>>>1;ge<Kt;){var Be=2*(ge+1)-1,Qt=q[Be],Je=Be+1,Lt=q[Je];if(0>s(Qt,Y))Je<fe&&0>s(Lt,Qt)?(q[ge]=Lt,q[Je]=Y,ge=Je):(q[ge]=Qt,q[Be]=Y,ge=Be);else if(Je<fe&&0>s(Lt,Y))q[ge]=Lt,q[Je]=Y,ge=Je;else break e}}return Q}function s(q,Q){var Y=q.sortIndex-Q.sortIndex;return Y!==0?Y:q.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],m=1,p=null,g=3,E=!1,A=!1,k=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var Q=n(h);Q!==null;){if(Q.callback===null)r(h);else if(Q.startTime<=q)r(h),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(h)}}function C(q){if(k=!1,N(q),!A)if(n(c)!==null)A=!0,Dr(O);else{var Q=n(h);Q!==null&&on(C,Q.startTime-q)}}function O(q,Q){A=!1,k&&(k=!1,T(y),y=-1),E=!0;var Y=g;try{for(N(Q),p=n(c);p!==null&&(!(p.expirationTime>Q)||q&&!I());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var fe=ge(p.expirationTime<=Q);Q=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(c)&&r(c),N(Q)}else r(c);p=n(c)}if(p!==null)var Kt=!0;else{var Be=n(h);Be!==null&&on(C,Be.startTime-Q),Kt=!1}return Kt}finally{p=null,g=Y,E=!1}}var L=!1,x=null,y=-1,w=5,S=-1;function I(){return!(t.unstable_now()-S<w)}function D(){if(x!==null){var q=t.unstable_now();S=q;var Q=!0;try{Q=x(!0,q)}finally{Q?b():(L=!1,x=null)}}else L=!1}var b;if(typeof _=="function")b=function(){_(D)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,Tt=$e.port2;$e.port1.onmessage=D,b=function(){Tt.postMessage(null)}}else b=function(){R(D,0)};function Dr(q){x=q,L||(L=!0,b())}function on(q,Q){y=R(function(){q(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,Dr(O))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Y=g;g=Q;try{return q()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=g;g=q;try{return Q()}finally{g=Y}},t.unstable_scheduleCallback=function(q,Q,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,q={id:m++,callback:Q,priorityLevel:q,startTime:Y,expirationTime:fe,sortIndex:-1},Y>ge?(q.sortIndex=Y,e(h,q),n(c)===null&&q===n(h)&&(k?(T(y),y=-1):k=!0,on(C,Y-ge))):(q.sortIndex=fe,e(c,q),A||E||(A=!0,Dr(O))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var Q=g;return function(){var Y=g;g=Q;try{return q.apply(this,arguments)}finally{g=Y}}}})(C0);I0.exports=C0;var D_=I0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=j,Vt=D_;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var A0=new Set,po={};function ls(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(po[t]=e,t=0;t<e.length;t++)A0.add(e[t])}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=Object.prototype.hasOwnProperty,O_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Pm={};function M_(t){return Xc.call(Pm,t)?!0:Xc.call(jm,t)?!1:O_.test(t)?Pm[t]=!0:(jm[t]=!0,!1)}function L_(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F_(t,e,n,r){if(e===null||typeof e>"u"||L_(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ct[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ct[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ct[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ct[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ct[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ct[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ct[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ct[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ct[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var wd=/[\-:]([a-z])/g;function Ed(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wd,Ed);ct[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wd,Ed);ct[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wd,Ed);ct[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ct[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});ct.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ct[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Td(t,e,n,r){var s=ct.hasOwnProperty(e)?ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F_(e,n,s,r)&&(n=null),r||s===null?M_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=V_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ea=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Cs=Symbol.for("react.fragment"),Nd=Symbol.for("react.strict_mode"),Yc=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),R0=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),Jc=Symbol.for("react.suspense"),Zc=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),Jn=Symbol.for("react.lazy"),j0=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=Dm&&t[Dm]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,cc;function Wi(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||""}return`
`+cc+t}var hc=!1;function dc(t,e){if(!t||hc)return"";hc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{hc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wi(t):""}function U_(t){switch(t.tag){case 5:return Wi(t.type);case 16:return Wi("Lazy");case 13:return Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 2:case 15:return t=dc(t.type,!1),t;case 11:return t=dc(t.type.render,!1),t;case 1:return t=dc(t.type,!0),t;default:return""}}function eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cs:return"Fragment";case Is:return"Portal";case Yc:return"Profiler";case Nd:return"StrictMode";case Jc:return"Suspense";case Zc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R0:return(t.displayName||"Context")+".Consumer";case k0:return(t._context.displayName||"Context")+".Provider";case Sd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bd:return e=t.displayName||null,e!==null?e:eh(t.type)||"Memo";case Jn:e=t._payload,t=t._init;try{return eh(t(e))}catch{}}return null}function z_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eh(e);case 8:return e===Nd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Er(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $_(t){var e=P0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=$_(t))}function D0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=P0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function gl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function th(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Er(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function V0(t,e){e=e.checked,e!=null&&Td(t,"checked",e,!1)}function nh(t,e){V0(t,e);var n=Er(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&rh(t,e.type,Er(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Om(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rh(t,e,n){(e!=="number"||gl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gi=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Er(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Gi(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Er(n)}}function O0(t,e){var n=Er(e.value),r=Er(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Lm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ih(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Na,L0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Na.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function go(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B_=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(t){B_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eo[e]=eo[t]})});function F0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eo.hasOwnProperty(t)&&eo[t]?(""+e).trim():e+"px"}function U0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=F0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var q_=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(t,e){if(e){if(q_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ah(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lh=null;function Id(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uh=null,Us=null,zs=null;function Fm(t){if(t=Wo(t)){if(typeof uh!="function")throw Error($(280));var e=t.stateNode;e&&(e=fu(e),uh(t.stateNode,t.type,e))}}function z0(t){Us?zs?zs.push(t):zs=[t]:Us=t}function $0(){if(Us){var t=Us,e=zs;if(zs=Us=null,Fm(t),e)for(t=0;t<e.length;t++)Fm(e[t])}}function B0(t,e){return t(e)}function q0(){}var fc=!1;function H0(t,e,n){if(fc)return t(e,n);fc=!0;try{return B0(t,e,n)}finally{fc=!1,(Us!==null||zs!==null)&&(q0(),$0())}}function yo(t,e){var n=t.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var ch=!1;if(jn)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{ch=!1}function H_(t,e,n,r,s,i,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(m){this.onError(m)}}var to=!1,yl=null,vl=!1,hh=null,W_={onError:function(t){to=!0,yl=t}};function G_(t,e,n,r,s,i,o,u,c){to=!1,yl=null,H_.apply(W_,arguments)}function K_(t,e,n,r,s,i,o,u,c){if(G_.apply(this,arguments),to){if(to){var h=yl;to=!1,yl=null}else throw Error($(198));vl||(vl=!0,hh=h)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function W0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Um(t){if(us(t)!==t)throw Error($(188))}function Q_(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Um(s),t;if(i===r)return Um(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function G0(t){return t=Q_(t),t!==null?K0(t):null}function K0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K0(t);if(e!==null)return e;t=t.sibling}return null}var Q0=Vt.unstable_scheduleCallback,zm=Vt.unstable_cancelCallback,X_=Vt.unstable_shouldYield,Y_=Vt.unstable_requestPaint,Oe=Vt.unstable_now,J_=Vt.unstable_getCurrentPriorityLevel,Cd=Vt.unstable_ImmediatePriority,X0=Vt.unstable_UserBlockingPriority,xl=Vt.unstable_NormalPriority,Z_=Vt.unstable_LowPriority,Y0=Vt.unstable_IdlePriority,uu=null,mn=null;function ew(t){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(uu,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:rw,tw=Math.log,nw=Math.LN2;function rw(t){return t>>>=0,t===0?32:31-(tw(t)/nw|0)|0}var Sa=64,ba=4194304;function Ki(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=Ki(u):(i&=o,i!==0&&(r=Ki(i)))}else o=n&~s,o!==0?r=Ki(o):i!==0&&(r=Ki(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),s=1<<n,r|=t[n],e&=~s;return r}function sw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nn(i),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=sw(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function dh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J0(){var t=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),t}function mc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function ow(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ad(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var de=0;function Z0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ey,kd,ty,ny,ry,fh=!1,Ia=[],ar=null,lr=null,ur=null,vo=new Map,xo=new Map,er=[],aw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $m(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(e.pointerId)}}function Ui(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Wo(e),e!==null&&kd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lw(t,e,n,r,s){switch(e){case"focusin":return ar=Ui(ar,t,e,n,r,s),!0;case"dragenter":return lr=Ui(lr,t,e,n,r,s),!0;case"mouseover":return ur=Ui(ur,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return vo.set(i,Ui(vo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,xo.set(i,Ui(xo.get(i)||null,t,e,n,r,s)),!0}return!1}function sy(t){var e=qr(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=W0(n),e!==null){t.blockedOn=e,ry(t.priority,function(){ty(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ya(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lh=r,n.target.dispatchEvent(r),lh=null}else return e=Wo(n),e!==null&&kd(e),t.blockedOn=n,!1;e.shift()}return!0}function Bm(t,e,n){Ya(t)&&n.delete(e)}function uw(){fh=!1,ar!==null&&Ya(ar)&&(ar=null),lr!==null&&Ya(lr)&&(lr=null),ur!==null&&Ya(ur)&&(ur=null),vo.forEach(Bm),xo.forEach(Bm)}function zi(t,e){t.blockedOn===e&&(t.blockedOn=null,fh||(fh=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,uw)))}function _o(t){function e(s){return zi(s,t)}if(0<Ia.length){zi(Ia[0],t);for(var n=1;n<Ia.length;n++){var r=Ia[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ar!==null&&zi(ar,t),lr!==null&&zi(lr,t),ur!==null&&zi(ur,t),vo.forEach(e),xo.forEach(e),n=0;n<er.length;n++)r=er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<er.length&&(n=er[0],n.blockedOn===null);)sy(n),n.blockedOn===null&&er.shift()}var $s=Un.ReactCurrentBatchConfig,wl=!0;function cw(t,e,n,r){var s=de,i=$s.transition;$s.transition=null;try{de=1,Rd(t,e,n,r)}finally{de=s,$s.transition=i}}function hw(t,e,n,r){var s=de,i=$s.transition;$s.transition=null;try{de=4,Rd(t,e,n,r)}finally{de=s,$s.transition=i}}function Rd(t,e,n,r){if(wl){var s=mh(t,e,n,r);if(s===null)Nc(t,e,r,El,n),$m(t,r);else if(lw(s,t,e,n,r))r.stopPropagation();else if($m(t,r),e&4&&-1<aw.indexOf(t)){for(;s!==null;){var i=Wo(s);if(i!==null&&ey(i),i=mh(t,e,n,r),i===null&&Nc(t,e,r,El,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Nc(t,e,r,null,n)}}var El=null;function mh(t,e,n,r){if(El=null,t=Id(r),t=qr(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=W0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return El=t,null}function iy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J_()){case Cd:return 1;case X0:return 4;case xl:case Z_:return 16;case Y0:return 536870912;default:return 16}default:return 16}}var rr=null,jd=null,Ja=null;function oy(){if(Ja)return Ja;var t,e=jd,n=e.length,r,s="value"in rr?rr.value:rr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ja=s.slice(t,1<r?1-r:void 0)}function Za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ca(){return!0}function qm(){return!1}function Mt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ca:qm,this.isPropagationStopped=qm,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),e}var ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pd=Mt(ci),Ho=ke({},ci,{view:0,detail:0}),dw=Mt(Ho),pc,gc,$i,cu=ke({},Ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(pc=t.screenX-$i.screenX,gc=t.screenY-$i.screenY):gc=pc=0,$i=t),pc)},movementY:function(t){return"movementY"in t?t.movementY:gc}}),Hm=Mt(cu),fw=ke({},cu,{dataTransfer:0}),mw=Mt(fw),pw=ke({},Ho,{relatedTarget:0}),yc=Mt(pw),gw=ke({},ci,{animationName:0,elapsedTime:0,pseudoElement:0}),yw=Mt(gw),vw=ke({},ci,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xw=Mt(vw),_w=ke({},ci,{data:0}),Wm=Mt(_w),ww={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ew={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Tw[t])?!!e[t]:!1}function Dd(){return Nw}var Sw=ke({},Ho,{key:function(t){if(t.key){var e=ww[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ew[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dd,charCode:function(t){return t.type==="keypress"?Za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bw=Mt(Sw),Iw=ke({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=Mt(Iw),Cw=ke({},Ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dd}),Aw=Mt(Cw),kw=ke({},ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rw=Mt(kw),jw=ke({},cu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pw=Mt(jw),Dw=[9,13,27,32],Vd=jn&&"CompositionEvent"in window,no=null;jn&&"documentMode"in document&&(no=document.documentMode);var Vw=jn&&"TextEvent"in window&&!no,ay=jn&&(!Vd||no&&8<no&&11>=no),Km=" ",Qm=!1;function ly(t,e){switch(t){case"keyup":return Dw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uy(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function Ow(t,e){switch(t){case"compositionend":return uy(e);case"keypress":return e.which!==32?null:(Qm=!0,Km);case"textInput":return t=e.data,t===Km&&Qm?null:t;default:return null}}function Mw(t,e){if(As)return t==="compositionend"||!Vd&&ly(t,e)?(t=oy(),Ja=jd=rr=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ay&&e.locale!=="ko"?null:e.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Lw[t.type]:e==="textarea"}function cy(t,e,n,r){z0(r),e=Tl(e,"onChange"),0<e.length&&(n=new Pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ro=null,wo=null;function Fw(t){wy(t,0)}function hu(t){var e=js(t);if(D0(e))return t}function Uw(t,e){if(t==="change")return e}var hy=!1;if(jn){var vc;if(jn){var xc="oninput"in document;if(!xc){var Ym=document.createElement("div");Ym.setAttribute("oninput","return;"),xc=typeof Ym.oninput=="function"}vc=xc}else vc=!1;hy=vc&&(!document.documentMode||9<document.documentMode)}function Jm(){ro&&(ro.detachEvent("onpropertychange",dy),wo=ro=null)}function dy(t){if(t.propertyName==="value"&&hu(wo)){var e=[];cy(e,wo,t,Id(t)),H0(Fw,e)}}function zw(t,e,n){t==="focusin"?(Jm(),ro=e,wo=n,ro.attachEvent("onpropertychange",dy)):t==="focusout"&&Jm()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(wo)}function Bw(t,e){if(t==="click")return hu(e)}function qw(t,e){if(t==="input"||t==="change")return hu(e)}function Hw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sn=typeof Object.is=="function"?Object.is:Hw;function Eo(t,e){if(sn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xc.call(e,s)||!sn(t[s],e[s]))return!1}return!0}function Zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ep(t,e){var n=Zm(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function fy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function my(){for(var t=window,e=gl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gl(t.document)}return e}function Od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ww(t){var e=my(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fy(n.ownerDocument.documentElement,n)){if(r!==null&&Od(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ep(n,i);var o=ep(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Gw=jn&&"documentMode"in document&&11>=document.documentMode,ks=null,ph=null,so=null,gh=!1;function tp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gh||ks==null||ks!==gl(r)||(r=ks,"selectionStart"in r&&Od(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),so&&Eo(so,r)||(so=r,r=Tl(ph,"onSelect"),0<r.length&&(e=new Pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ks)))}function Aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rs={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},_c={},py={};jn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Rs.animationend.animation,delete Rs.animationiteration.animation,delete Rs.animationstart.animation),"TransitionEvent"in window||delete Rs.transitionend.transition);function du(t){if(_c[t])return _c[t];if(!Rs[t])return t;var e=Rs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in py)return _c[t]=e[n];return t}var gy=du("animationend"),yy=du("animationiteration"),vy=du("animationstart"),xy=du("transitionend"),_y=new Map,np="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){_y.set(t,e),ls(e,[t])}for(var wc=0;wc<np.length;wc++){var Ec=np[wc],Kw=Ec.toLowerCase(),Qw=Ec[0].toUpperCase()+Ec.slice(1);kr(Kw,"on"+Qw)}kr(gy,"onAnimationEnd");kr(yy,"onAnimationIteration");kr(vy,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(xy,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qi));function rp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K_(r,e,void 0,t),t.currentTarget=null}function wy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==i&&s.isPropagationStopped())break e;rp(s,u,h),i=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==i&&s.isPropagationStopped())break e;rp(s,u,h),i=c}}}if(vl)throw t=hh,vl=!1,hh=null,t}function _e(t,e){var n=e[wh];n===void 0&&(n=e[wh]=new Set);var r=t+"__bubble";n.has(r)||(Ey(e,t,2,!1),n.add(r))}function Tc(t,e,n){var r=0;e&&(r|=4),Ey(n,t,r,e)}var ka="_reactListening"+Math.random().toString(36).slice(2);function To(t){if(!t[ka]){t[ka]=!0,A0.forEach(function(n){n!=="selectionchange"&&(Xw.has(n)||Tc(n,!1,t),Tc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ka]||(e[ka]=!0,Tc("selectionchange",!1,e))}}function Ey(t,e,n,r){switch(iy(e)){case 1:var s=cw;break;case 4:s=hw;break;default:s=Rd}n=s.bind(null,e,n,t),s=void 0,!ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=qr(u),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}u=u.parentNode}}r=r.return}H0(function(){var h=i,m=Id(n),p=[];e:{var g=_y.get(t);if(g!==void 0){var E=Pd,A=t;switch(t){case"keypress":if(Za(n)===0)break e;case"keydown":case"keyup":E=bw;break;case"focusin":A="focus",E=yc;break;case"focusout":A="blur",E=yc;break;case"beforeblur":case"afterblur":E=yc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Hm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=mw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Aw;break;case gy:case yy:case vy:E=yw;break;case xy:E=Rw;break;case"scroll":E=dw;break;case"wheel":E=Pw;break;case"copy":case"cut":case"paste":E=xw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Gm}var k=(e&4)!==0,R=!k&&t==="scroll",T=k?g!==null?g+"Capture":null:g;k=[];for(var _=h,N;_!==null;){N=_;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,T!==null&&(C=yo(_,T),C!=null&&k.push(No(_,C,N)))),R)break;_=_.return}0<k.length&&(g=new E(g,A,null,n,m),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==lh&&(A=n.relatedTarget||n.fromElement)&&(qr(A)||A[Pn]))break e;if((E||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,E?(A=n.relatedTarget||n.toElement,E=h,A=A?qr(A):null,A!==null&&(R=us(A),A!==R||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=h),E!==A)){if(k=Hm,C="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(k=Gm,C="onPointerLeave",T="onPointerEnter",_="pointer"),R=E==null?g:js(E),N=A==null?g:js(A),g=new k(C,_+"leave",E,n,m),g.target=R,g.relatedTarget=N,C=null,qr(m)===h&&(k=new k(T,_+"enter",A,n,m),k.target=N,k.relatedTarget=R,C=k),R=C,E&&A)t:{for(k=E,T=A,_=0,N=k;N;N=ws(N))_++;for(N=0,C=T;C;C=ws(C))N++;for(;0<_-N;)k=ws(k),_--;for(;0<N-_;)T=ws(T),N--;for(;_--;){if(k===T||T!==null&&k===T.alternate)break t;k=ws(k),T=ws(T)}k=null}else k=null;E!==null&&sp(p,g,E,k,!1),A!==null&&R!==null&&sp(p,R,A,k,!0)}}e:{if(g=h?js(h):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var O=Uw;else if(Xm(g))if(hy)O=qw;else{O=$w;var L=zw}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=Bw);if(O&&(O=O(t,h))){cy(p,O,n,m);break e}L&&L(t,g,h),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&rh(g,"number",g.value)}switch(L=h?js(h):window,t){case"focusin":(Xm(L)||L.contentEditable==="true")&&(ks=L,ph=h,so=null);break;case"focusout":so=ph=ks=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,tp(p,n,m);break;case"selectionchange":if(Gw)break;case"keydown":case"keyup":tp(p,n,m)}var x;if(Vd)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else As?ly(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(ay&&n.locale!=="ko"&&(As||y!=="onCompositionStart"?y==="onCompositionEnd"&&As&&(x=oy()):(rr=m,jd="value"in rr?rr.value:rr.textContent,As=!0)),L=Tl(h,y),0<L.length&&(y=new Wm(y,t,null,n,m),p.push({event:y,listeners:L}),x?y.data=x:(x=uy(n),x!==null&&(y.data=x)))),(x=Vw?Ow(t,n):Mw(t,n))&&(h=Tl(h,"onBeforeInput"),0<h.length&&(m=new Wm("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=x))}wy(p,e)})}function No(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=yo(t,n),i!=null&&r.unshift(No(t,i,s)),i=yo(t,e),i!=null&&r.push(No(t,i,s))),t=t.return}return r}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sp(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,s?(c=yo(n,i),c!=null&&o.unshift(No(n,c,u))):s||(c=yo(n,i),c!=null&&o.push(No(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Yw=/\r\n?/g,Jw=/\u0000|\uFFFD/g;function ip(t){return(typeof t=="string"?t:""+t).replace(Yw,`
`).replace(Jw,"")}function Ra(t,e,n){if(e=ip(e),ip(t)!==e&&n)throw Error($(425))}function Nl(){}var yh=null,vh=null;function xh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _h=typeof setTimeout=="function"?setTimeout:void 0,Zw=typeof clearTimeout=="function"?clearTimeout:void 0,op=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof op<"u"?function(t){return op.resolve(null).then(t).catch(t2)}:_h;function t2(t){setTimeout(function(){throw t})}function Sc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),_o(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);_o(e)}function cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),dn="__reactFiber$"+hi,So="__reactProps$"+hi,Pn="__reactContainer$"+hi,wh="__reactEvents$"+hi,n2="__reactListeners$"+hi,r2="__reactHandles$"+hi;function qr(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ap(t);t!==null;){if(n=t[dn])return n;t=ap(t)}return e}t=n,n=t.parentNode}return null}function Wo(t){return t=t[dn]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function js(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function fu(t){return t[So]||null}var Eh=[],Ps=-1;function Rr(t){return{current:t}}function Te(t){0>Ps||(t.current=Eh[Ps],Eh[Ps]=null,Ps--)}function ye(t,e){Ps++,Eh[Ps]=t.current,t.current=e}var Tr={},vt=Rr(Tr),It=Rr(!1),Zr=Tr;function Ks(t,e){var n=t.type.contextTypes;if(!n)return Tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ct(t){return t=t.childContextTypes,t!=null}function Sl(){Te(It),Te(vt)}function lp(t,e,n){if(vt.current!==Tr)throw Error($(168));ye(vt,e),ye(It,n)}function Ty(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,z_(t)||"Unknown",s));return ke({},n,r)}function bl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,Zr=vt.current,ye(vt,t),ye(It,It.current),!0}function up(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Ty(t,e,Zr),r.__reactInternalMemoizedMergedChildContext=t,Te(It),Te(vt),ye(vt,t)):Te(It),ye(It,n)}var Cn=null,mu=!1,bc=!1;function Ny(t){Cn===null?Cn=[t]:Cn.push(t)}function s2(t){mu=!0,Ny(t)}function jr(){if(!bc&&Cn!==null){bc=!0;var t=0,e=de;try{var n=Cn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cn=null,mu=!1}catch(s){throw Cn!==null&&(Cn=Cn.slice(t+1)),Q0(Cd,jr),s}finally{de=e,bc=!1}}return null}var Ds=[],Vs=0,Il=null,Cl=0,Ft=[],Ut=0,es=null,An=1,kn="";function Ur(t,e){Ds[Vs++]=Cl,Ds[Vs++]=Il,Il=t,Cl=e}function Sy(t,e,n){Ft[Ut++]=An,Ft[Ut++]=kn,Ft[Ut++]=es,es=t;var r=An;t=kn;var s=32-nn(r)-1;r&=~(1<<s),n+=1;var i=32-nn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,An=1<<32-nn(e)+s|n<<s|r,kn=i+t}else An=1<<i|n<<s|r,kn=t}function Md(t){t.return!==null&&(Ur(t,1),Sy(t,1,0))}function Ld(t){for(;t===Il;)Il=Ds[--Vs],Ds[Vs]=null,Cl=Ds[--Vs],Ds[Vs]=null;for(;t===es;)es=Ft[--Ut],Ft[Ut]=null,kn=Ft[--Ut],Ft[Ut]=null,An=Ft[--Ut],Ft[Ut]=null}var Dt=null,Pt=null,Se=!1,Zt=null;function by(t,e){var n=qt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:An,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,Pt=null,!0):!1;default:return!1}}function Th(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nh(t){if(Se){var e=Pt;if(e){var n=e;if(!cp(t,e)){if(Th(t))throw Error($(418));e=cr(n.nextSibling);var r=Dt;e&&cp(t,e)?by(r,n):(t.flags=t.flags&-4097|2,Se=!1,Dt=t)}}else{if(Th(t))throw Error($(418));t.flags=t.flags&-4097|2,Se=!1,Dt=t}}}function hp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function ja(t){if(t!==Dt)return!1;if(!Se)return hp(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!xh(t.type,t.memoizedProps)),e&&(e=Pt)){if(Th(t))throw Iy(),Error($(418));for(;e;)by(t,e),e=cr(e.nextSibling)}if(hp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=Dt?cr(t.stateNode.nextSibling):null;return!0}function Iy(){for(var t=Pt;t;)t=cr(t.nextSibling)}function Qs(){Pt=Dt=null,Se=!1}function Fd(t){Zt===null?Zt=[t]:Zt.push(t)}var i2=Un.ReactCurrentBatchConfig;function Bi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function Pa(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dp(t){var e=t._init;return e(t._payload)}function Cy(t){function e(T,_){if(t){var N=T.deletions;N===null?(T.deletions=[_],T.flags|=16):N.push(_)}}function n(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function s(T,_){return T=mr(T,_),T.index=0,T.sibling=null,T}function i(T,_,N){return T.index=N,t?(N=T.alternate,N!==null?(N=N.index,N<_?(T.flags|=2,_):N):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function u(T,_,N,C){return _===null||_.tag!==6?(_=Pc(N,T.mode,C),_.return=T,_):(_=s(_,N),_.return=T,_)}function c(T,_,N,C){var O=N.type;return O===Cs?m(T,_,N.props.children,C,N.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jn&&dp(O)===_.type)?(C=s(_,N.props),C.ref=Bi(T,_,N),C.return=T,C):(C=ol(N.type,N.key,N.props,null,T.mode,C),C.ref=Bi(T,_,N),C.return=T,C)}function h(T,_,N,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==N.containerInfo||_.stateNode.implementation!==N.implementation?(_=Dc(N,T.mode,C),_.return=T,_):(_=s(_,N.children||[]),_.return=T,_)}function m(T,_,N,C,O){return _===null||_.tag!==7?(_=Qr(N,T.mode,C,O),_.return=T,_):(_=s(_,N),_.return=T,_)}function p(T,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Pc(""+_,T.mode,N),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ea:return N=ol(_.type,_.key,_.props,null,T.mode,N),N.ref=Bi(T,null,_),N.return=T,N;case Is:return _=Dc(_,T.mode,N),_.return=T,_;case Jn:var C=_._init;return p(T,C(_._payload),N)}if(Gi(_)||Li(_))return _=Qr(_,T.mode,N,null),_.return=T,_;Pa(T,_)}return null}function g(T,_,N,C){var O=_!==null?_.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return O!==null?null:u(T,_,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ea:return N.key===O?c(T,_,N,C):null;case Is:return N.key===O?h(T,_,N,C):null;case Jn:return O=N._init,g(T,_,O(N._payload),C)}if(Gi(N)||Li(N))return O!==null?null:m(T,_,N,C,null);Pa(T,N)}return null}function E(T,_,N,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return T=T.get(N)||null,u(_,T,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ea:return T=T.get(C.key===null?N:C.key)||null,c(_,T,C,O);case Is:return T=T.get(C.key===null?N:C.key)||null,h(_,T,C,O);case Jn:var L=C._init;return E(T,_,N,L(C._payload),O)}if(Gi(C)||Li(C))return T=T.get(N)||null,m(_,T,C,O,null);Pa(_,C)}return null}function A(T,_,N,C){for(var O=null,L=null,x=_,y=_=0,w=null;x!==null&&y<N.length;y++){x.index>y?(w=x,x=null):w=x.sibling;var S=g(T,x,N[y],C);if(S===null){x===null&&(x=w);break}t&&x&&S.alternate===null&&e(T,x),_=i(S,_,y),L===null?O=S:L.sibling=S,L=S,x=w}if(y===N.length)return n(T,x),Se&&Ur(T,y),O;if(x===null){for(;y<N.length;y++)x=p(T,N[y],C),x!==null&&(_=i(x,_,y),L===null?O=x:L.sibling=x,L=x);return Se&&Ur(T,y),O}for(x=r(T,x);y<N.length;y++)w=E(x,T,y,N[y],C),w!==null&&(t&&w.alternate!==null&&x.delete(w.key===null?y:w.key),_=i(w,_,y),L===null?O=w:L.sibling=w,L=w);return t&&x.forEach(function(I){return e(T,I)}),Se&&Ur(T,y),O}function k(T,_,N,C){var O=Li(N);if(typeof O!="function")throw Error($(150));if(N=O.call(N),N==null)throw Error($(151));for(var L=O=null,x=_,y=_=0,w=null,S=N.next();x!==null&&!S.done;y++,S=N.next()){x.index>y?(w=x,x=null):w=x.sibling;var I=g(T,x,S.value,C);if(I===null){x===null&&(x=w);break}t&&x&&I.alternate===null&&e(T,x),_=i(I,_,y),L===null?O=I:L.sibling=I,L=I,x=w}if(S.done)return n(T,x),Se&&Ur(T,y),O;if(x===null){for(;!S.done;y++,S=N.next())S=p(T,S.value,C),S!==null&&(_=i(S,_,y),L===null?O=S:L.sibling=S,L=S);return Se&&Ur(T,y),O}for(x=r(T,x);!S.done;y++,S=N.next())S=E(x,T,y,S.value,C),S!==null&&(t&&S.alternate!==null&&x.delete(S.key===null?y:S.key),_=i(S,_,y),L===null?O=S:L.sibling=S,L=S);return t&&x.forEach(function(D){return e(T,D)}),Se&&Ur(T,y),O}function R(T,_,N,C){if(typeof N=="object"&&N!==null&&N.type===Cs&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Ea:e:{for(var O=N.key,L=_;L!==null;){if(L.key===O){if(O=N.type,O===Cs){if(L.tag===7){n(T,L.sibling),_=s(L,N.props.children),_.return=T,T=_;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Jn&&dp(O)===L.type){n(T,L.sibling),_=s(L,N.props),_.ref=Bi(T,L,N),_.return=T,T=_;break e}n(T,L);break}else e(T,L);L=L.sibling}N.type===Cs?(_=Qr(N.props.children,T.mode,C,N.key),_.return=T,T=_):(C=ol(N.type,N.key,N.props,null,T.mode,C),C.ref=Bi(T,_,N),C.return=T,T=C)}return o(T);case Is:e:{for(L=N.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===N.containerInfo&&_.stateNode.implementation===N.implementation){n(T,_.sibling),_=s(_,N.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else e(T,_);_=_.sibling}_=Dc(N,T.mode,C),_.return=T,T=_}return o(T);case Jn:return L=N._init,R(T,_,L(N._payload),C)}if(Gi(N))return A(T,_,N,C);if(Li(N))return k(T,_,N,C);Pa(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,_!==null&&_.tag===6?(n(T,_.sibling),_=s(_,N),_.return=T,T=_):(n(T,_),_=Pc(N,T.mode,C),_.return=T,T=_),o(T)):n(T,_)}return R}var Xs=Cy(!0),Ay=Cy(!1),Al=Rr(null),kl=null,Os=null,Ud=null;function zd(){Ud=Os=kl=null}function $d(t){var e=Al.current;Te(Al),t._currentValue=e}function Sh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){kl=t,Ud=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(bt=!0),t.firstContext=null)}function Wt(t){var e=t._currentValue;if(Ud!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(kl===null)throw Error($(308));Os=t,kl.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Hr=null;function Bd(t){Hr===null?Hr=[t]:Hr.push(t)}function ky(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Bd(e)):(n.next=s.next,s.next=n),e.interleaved=n,Dn(t,r)}function Dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Zn=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ry(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function hr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Dn(t,n)}return s=r.interleaved,s===null?(e.next=e,Bd(r)):(e.next=s.next,s.next=e),r.interleaved=e,Dn(t,n)}function el(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ad(t,n)}}function fp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rl(t,e,n,r){var s=t.updateQueue;Zn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,m=h=c=null,u=i;do{var g=u.lane,E=u.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=t,k=u;switch(g=e,E=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){p=A.call(E,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,g=typeof A=="function"?A.call(E,p,g):A,g==null)break e;p=ke({},p,g);break e;case 2:Zn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else E={eventTime:E,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=E,c=p):m=m.next=E,o|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(c=p),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=m,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=p}}function mp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Go={},pn=Rr(Go),bo=Rr(Go),Io=Rr(Go);function Wr(t){if(t===Go)throw Error($(174));return t}function Hd(t,e){switch(ye(Io,e),ye(bo,t),ye(pn,Go),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ih(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ih(e,t)}Te(pn),ye(pn,e)}function Ys(){Te(pn),Te(bo),Te(Io)}function jy(t){Wr(Io.current);var e=Wr(pn.current),n=ih(e,t.type);e!==n&&(ye(bo,t),ye(pn,n))}function Wd(t){bo.current===t&&(Te(pn),Te(bo))}var Ce=Rr(0);function jl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ic=[];function Gd(){for(var t=0;t<Ic.length;t++)Ic[t]._workInProgressVersionPrimary=null;Ic.length=0}var tl=Un.ReactCurrentDispatcher,Cc=Un.ReactCurrentBatchConfig,ts=0,Ae=null,We=null,rt=null,Pl=!1,io=!1,Co=0,o2=0;function dt(){throw Error($(321))}function Kd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sn(t[n],e[n]))return!1;return!0}function Qd(t,e,n,r,s,i){if(ts=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tl.current=t===null||t.memoizedState===null?c2:h2,t=n(r,s),io){i=0;do{if(io=!1,Co=0,25<=i)throw Error($(301));i+=1,rt=We=null,e.updateQueue=null,tl.current=d2,t=n(r,s)}while(io)}if(tl.current=Dl,e=We!==null&&We.next!==null,ts=0,rt=We=Ae=null,Pl=!1,e)throw Error($(300));return t}function Xd(){var t=Co!==0;return Co=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Ae.memoizedState=rt=t:rt=rt.next=t,rt}function Gt(){if(We===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var e=rt===null?Ae.memoizedState:rt.next;if(e!==null)rt=e,We=t;else{if(t===null)throw Error($(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},rt===null?Ae.memoizedState=rt=t:rt=rt.next=t}return rt}function Ao(t,e){return typeof e=="function"?e(t):e}function Ac(t){var e=Gt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=We,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=o=null,c=null,h=i;do{var m=h.lane;if((ts&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=p,o=r):c=c.next=p,Ae.lanes|=m,ns|=m}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=u,sn(r,e.memoizedState)||(bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,ns|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kc(t){var e=Gt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sn(i,e.memoizedState)||(bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Py(){}function Dy(t,e){var n=Ae,r=Gt(),s=e(),i=!sn(r.memoizedState,s);if(i&&(r.memoizedState=s,bt=!0),r=r.queue,Yd(My.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,ko(9,Oy.bind(null,n,r,s,e),void 0,null),st===null)throw Error($(349));ts&30||Vy(n,e,s)}return s}function Vy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Oy(t,e,n,r){e.value=n,e.getSnapshot=r,Ly(e)&&Fy(t)}function My(t,e,n){return n(function(){Ly(e)&&Fy(t)})}function Ly(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sn(t,n)}catch{return!0}}function Fy(t){var e=Dn(t,1);e!==null&&rn(e,t,1,-1)}function pp(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:t},e.queue=t,t=t.dispatch=u2.bind(null,Ae,t),[e.memoizedState,t]}function ko(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Uy(){return Gt().memoizedState}function nl(t,e,n,r){var s=cn();Ae.flags|=t,s.memoizedState=ko(1|e,n,void 0,r===void 0?null:r)}function pu(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(We!==null){var o=We.memoizedState;if(i=o.destroy,r!==null&&Kd(r,o.deps)){s.memoizedState=ko(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=ko(1|e,n,i,r)}function gp(t,e){return nl(8390656,8,t,e)}function Yd(t,e){return pu(2048,8,t,e)}function zy(t,e){return pu(4,2,t,e)}function $y(t,e){return pu(4,4,t,e)}function By(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qy(t,e,n){return n=n!=null?n.concat([t]):null,pu(4,4,By.bind(null,e,t),n)}function Jd(){}function Hy(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wy(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Gy(t,e,n){return ts&21?(sn(n,e)||(n=J0(),Ae.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,bt=!0),t.memoizedState=n)}function a2(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Cc.transition;Cc.transition={};try{t(!1),e()}finally{de=n,Cc.transition=r}}function Ky(){return Gt().memoizedState}function l2(t,e,n){var r=fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qy(t))Xy(e,n);else if(n=ky(t,e,n,r),n!==null){var s=_t();rn(n,t,r,s),Yy(n,e,r)}}function u2(t,e,n){var r=fr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qy(t))Xy(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,u=i(o,n);if(s.hasEagerState=!0,s.eagerState=u,sn(u,o)){var c=e.interleaved;c===null?(s.next=s,Bd(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=ky(t,e,s,r),n!==null&&(s=_t(),rn(n,t,r,s),Yy(n,e,r))}}function Qy(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Xy(t,e){io=Pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ad(t,n)}}var Dl={readContext:Wt,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},c2={readContext:Wt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:Wt,useEffect:gp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nl(4194308,4,By.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nl(4194308,4,t,e)},useInsertionEffect:function(t,e){return nl(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l2.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:pp,useDebugValue:Jd,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=pp(!1),e=t[0];return t=a2.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=cn();if(Se){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),st===null)throw Error($(349));ts&30||Vy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gp(My.bind(null,r,i,t),[t]),r.flags|=2048,ko(9,Oy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=cn(),e=st.identifierPrefix;if(Se){var n=kn,r=An;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},h2={readContext:Wt,useCallback:Hy,useContext:Wt,useEffect:Yd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Wy,useReducer:Ac,useRef:Uy,useState:function(){return Ac(Ao)},useDebugValue:Jd,useDeferredValue:function(t){var e=Gt();return Gy(e,We.memoizedState,t)},useTransition:function(){var t=Ac(Ao)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Py,useSyncExternalStore:Dy,useId:Ky,unstable_isNewReconciler:!1},d2={readContext:Wt,useCallback:Hy,useContext:Wt,useEffect:Yd,useImperativeHandle:qy,useInsertionEffect:zy,useLayoutEffect:$y,useMemo:Wy,useReducer:kc,useRef:Uy,useState:function(){return kc(Ao)},useDebugValue:Jd,useDeferredValue:function(t){var e=Gt();return We===null?e.memoizedState=t:Gy(e,We.memoizedState,t)},useTransition:function(){var t=kc(Ao)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:Py,useSyncExternalStore:Dy,useId:Ky,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gu={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_t(),s=fr(t),i=Rn(r,s);i.payload=e,n!=null&&(i.callback=n),e=hr(t,i,s),e!==null&&(rn(e,t,s,r),el(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_t(),s=fr(t),i=Rn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=hr(t,i,s),e!==null&&(rn(e,t,s,r),el(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_t(),r=fr(t),s=Rn(n,r);s.tag=2,e!=null&&(s.callback=e),e=hr(t,s,r),e!==null&&(rn(e,t,r,n),el(e,t,r))}};function yp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Eo(n,r)||!Eo(s,i):!0}function Jy(t,e,n){var r=!1,s=Tr,i=e.contextType;return typeof i=="object"&&i!==null?i=Wt(i):(s=Ct(e)?Zr:vt.current,r=e.contextTypes,i=(r=r!=null)?Ks(t,s):Tr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function vp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gu.enqueueReplaceState(e,e.state,null)}function Ih(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qd(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wt(i):(i=Ct(e)?Zr:vt.current,s.context=Ks(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&gu.enqueueReplaceState(s,s.state,null),Rl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Js(t,e){try{var n="",r=e;do n+=U_(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Rc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ch(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f2=typeof WeakMap=="function"?WeakMap:Map;function Zy(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ol||(Ol=!0,Lh=r),Ch(t,e)},n}function ev(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ch(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ch(t,e),typeof r!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=I2.bind(null,t,e,n),e.then(t,t))}function _p(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wp(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,hr(n,e,1))),n.lanes|=1),t)}var m2=Un.ReactCurrentOwner,bt=!1;function xt(t,e,n,r){e.child=t===null?Ay(e,null,n,r):Xs(e,t.child,n,r)}function Ep(t,e,n,r,s){n=n.render;var i=e.ref;return Bs(e,s),r=Qd(t,e,n,r,i,s),n=Xd(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Se&&n&&Md(e),e.flags|=1,xt(t,e,r,s),e.child)}function Tp(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!af(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tv(t,e,i,r,s)):(t=ol(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(o,r)&&t.ref===e.ref)return Vn(t,e,s)}return e.flags|=1,t=mr(i,r),t.ref=e.ref,t.return=e,e.child=t}function tv(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Eo(i,r)&&t.ref===e.ref)if(bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(bt=!0);else return e.lanes=t.lanes,Vn(t,e,s)}return Ah(t,e,n,r,s)}function nv(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ls,jt),jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ls,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ls,jt),jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Ls,jt),jt|=r;return xt(t,e,s,n),e.child}function rv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ah(t,e,n,r,s){var i=Ct(n)?Zr:vt.current;return i=Ks(e,i),Bs(e,s),n=Qd(t,e,n,r,i,s),r=Xd(),t!==null&&!bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vn(t,e,s)):(Se&&r&&Md(e),e.flags|=1,xt(t,e,n,s),e.child)}function Np(t,e,n,r,s){if(Ct(n)){var i=!0;bl(e)}else i=!1;if(Bs(e,s),e.stateNode===null)rl(t,e),Jy(e,n,r),Ih(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Wt(h):(h=Ct(n)?Zr:vt.current,h=Ks(e,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==h)&&vp(e,o,r,h),Zn=!1;var g=e.memoizedState;o.state=g,Rl(e,r,o,s),c=e.memoizedState,u!==r||g!==c||It.current||Zn?(typeof m=="function"&&(bh(e,n,m,r),c=e.memoizedState),(u=Zn||yp(e,n,u,r,g,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ry(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Yt(e.type,u),o.props=h,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wt(c):(c=Ct(n)?Zr:vt.current,c=Ks(e,c));var E=n.getDerivedStateFromProps;(m=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==c)&&vp(e,o,r,c),Zn=!1,g=e.memoizedState,o.state=g,Rl(e,r,o,s);var A=e.memoizedState;u!==p||g!==A||It.current||Zn?(typeof E=="function"&&(bh(e,n,E,r),A=e.memoizedState),(h=Zn||yp(e,n,h,r,g,A,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return kh(t,e,n,r,i,s)}function kh(t,e,n,r,s,i){rv(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&up(e,n,!1),Vn(t,e,i);r=e.stateNode,m2.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xs(e,t.child,null,i),e.child=Xs(e,null,u,i)):xt(t,e,u,i),e.memoizedState=r.state,s&&up(e,n,!0),e.child}function sv(t){var e=t.stateNode;e.pendingContext?lp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lp(t,e.context,!1),Hd(t,e.containerInfo)}function Sp(t,e,n,r,s){return Qs(),Fd(s),e.flags|=256,xt(t,e,n,r),e.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function jh(t){return{baseLanes:t,cachePool:null,transitions:null}}function iv(t,e,n){var r=e.pendingProps,s=Ce.current,i=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ce,s&1),t===null)return Nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xu(o,r,0,null),t=Qr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=jh(n),e.memoizedState=Rh,t):Zd(e,o));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return p2(t,e,o,r,u,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=mr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=mr(u,i):(i=Qr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?jh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Rh,r}return i=t.child,t=i.sibling,r=mr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zd(t,e){return e=xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Da(t,e,n,r){return r!==null&&Fd(r),Xs(e,t.child,null,n),t=Zd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Rc(Error($(422))),Da(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xu({mode:"visible",children:r.children},s,0,null),i=Qr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xs(e,t.child,null,o),e.child.memoizedState=jh(o),e.memoizedState=Rh,i);if(!(e.mode&1))return Da(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error($(419)),r=Rc(i,r,void 0),Da(t,e,o,r)}if(u=(o&t.childLanes)!==0,bt||u){if(r=st,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dn(t,s),rn(r,t,s,-1))}return of(),r=Rc(Error($(421))),Da(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pt=cr(s.nextSibling),Dt=e,Se=!0,Zt=null,t!==null&&(Ft[Ut++]=An,Ft[Ut++]=kn,Ft[Ut++]=es,An=t.id,kn=t.overflow,es=e),e=Zd(e,r.children),e.flags|=4096,e)}function bp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sh(t.return,e,n)}function jc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ov(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(xt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bp(t,n,e);else if(t.tag===19)bp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&jl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),jc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&jl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}jc(e,!0,n,null,i);break;case"together":jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=mr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=mr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g2(t,e,n){switch(e.tag){case 3:sv(e),Qs();break;case 5:jy(e);break;case 1:Ct(e.type)&&bl(e);break;case 4:Hd(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(Al,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?iv(t,e,n):(ye(Ce,Ce.current&1),t=Vn(t,e,n),t!==null?t.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ov(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,nv(t,e,n)}return Vn(t,e,n)}var av,Ph,lv,uv;av=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ph=function(){};lv=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Wr(pn.current);var i=null;switch(n){case"input":s=th(t,s),r=th(t,r),i=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":s=sh(t,s),r=sh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nl)}oh(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(po.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(po.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&_e("scroll",t),i||u===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};uv=function(t,e,n,r){n!==r&&(e.flags|=4)};function qi(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y2(t,e,n){var r=e.pendingProps;switch(Ld(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Ct(e.type)&&Sl(),ft(e),null;case 3:return r=e.stateNode,Ys(),Te(It),Te(vt),Gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ja(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(zh(Zt),Zt=null))),Ph(t,e),ft(e),null;case 5:Wd(e);var s=Wr(Io.current);if(n=e.type,t!==null&&e.stateNode!=null)lv(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return ft(e),null}if(t=Wr(pn.current),ja(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dn]=e,r[So]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<Qi.length;s++)_e(Qi[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Vm(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":Mm(r,i),_e("invalid",r)}oh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Ra(r.textContent,u,t),s=["children",""+u]):po.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Ta(r),Om(r,i,!0);break;case"textarea":Ta(r),Lm(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Nl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dn]=e,t[So]=r,av(t,e,!1,!1),e.stateNode=t;e:{switch(o=ah(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<Qi.length;s++)_e(Qi[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Vm(t,r),s=th(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),_e("invalid",t);break;case"textarea":Mm(t,r),s=sh(t,r),_e("invalid",t);break;default:s=r}oh(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?U0(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&L0(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&go(t,c):typeof c=="number"&&go(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(po.hasOwnProperty(i)?c!=null&&i==="onScroll"&&_e("scroll",t):c!=null&&Td(t,i,c,o))}switch(n){case"input":Ta(t),Om(t,r,!1);break;case"textarea":Ta(t),Lm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Er(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)uv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Wr(Io.current),Wr(pn.current),ja(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(i=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:Ra(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ra(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return ft(e),null;case 13:if(Te(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Pt!==null&&e.mode&1&&!(e.flags&128))Iy(),Qs(),e.flags|=98560,i=!1;else if(i=ja(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[dn]=e}else Qs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else Zt!==null&&(zh(Zt),Zt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Qe===0&&(Qe=3):of())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Ys(),Ph(t,e),t===null&&To(e.stateNode.containerInfo),ft(e),null;case 10:return $d(e.type._context),ft(e),null;case 17:return Ct(e.type)&&Sl(),ft(e),null;case 19:if(Te(Ce),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)qi(i,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=jl(t),o!==null){for(e.flags|=128,qi(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&Oe()>Zs&&(e.flags|=128,r=!0,qi(i,!1),e.lanes=4194304)}else{if(!r)if(t=jl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return ft(e),null}else 2*Oe()-i.renderingStartTime>Zs&&n!==1073741824&&(e.flags|=128,r=!0,qi(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Oe(),e.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return sf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function v2(t,e){switch(Ld(e),e.tag){case 1:return Ct(e.type)&&Sl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ys(),Te(It),Te(vt),Gd(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wd(e),null;case 13:if(Te(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Qs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Te(Ce),null;case 4:return Ys(),null;case 10:return $d(e.type._context),null;case 22:case 23:return sf(),null;case 24:return null;default:return null}}var Va=!1,gt=!1,x2=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ms(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Dh(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Ip=!1;function _2(t,e){if(yh=wl,t=my(),Od(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,h=0,m=0,p=t,g=null;t:for(;;){for(var E;p!==n||s!==0&&p.nodeType!==3||(u=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===t)break t;if(g===n&&++h===s&&(u=o),g===i&&++m===r&&(c=o),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vh={focusedElem:t,selectionRange:n},wl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,R=A.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?k:Yt(e.type,k),R);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(C){Pe(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=Ip,Ip=!1,A}function oo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dh(e,n,i)}s=s.next}while(s!==r)}}function yu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cv(t){var e=t.alternate;e!==null&&(t.alternate=null,cv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[So],delete e[wh],delete e[n2],delete e[r2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hv(t){return t.tag===5||t.tag===3||t.tag===4}function Cp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nl));else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}function Mh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Mh(t,e,n),t=t.sibling;t!==null;)Mh(t,e,n),t=t.sibling}var ot=null,Jt=!1;function Xn(t,e,n){for(n=n.child;n!==null;)dv(t,e,n),n=n.sibling}function dv(t,e,n){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 5:gt||Ms(n,e);case 6:var r=ot,s=Jt;ot=null,Xn(t,e,n),ot=r,Jt=s,ot!==null&&(Jt?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(Jt?(t=ot,n=n.stateNode,t.nodeType===8?Sc(t.parentNode,n):t.nodeType===1&&Sc(t,n),_o(t)):Sc(ot,n.stateNode));break;case 4:r=ot,s=Jt,ot=n.stateNode.containerInfo,Jt=!0,Xn(t,e,n),ot=r,Jt=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dh(n,e,o),s=s.next}while(s!==r)}Xn(t,e,n);break;case 1:if(!gt&&(Ms(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Pe(n,e,u)}Xn(t,e,n);break;case 21:Xn(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Xn(t,e,n),gt=r):Xn(t,e,n);break;default:Xn(t,e,n)}}function Ap(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x2),e.forEach(function(r){var s=A2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:ot=u.stateNode,Jt=!1;break e;case 3:ot=u.stateNode.containerInfo,Jt=!0;break e;case 4:ot=u.stateNode.containerInfo,Jt=!0;break e}u=u.return}if(ot===null)throw Error($(160));dv(i,o,s),ot=null,Jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){Pe(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fv(e,t),e=e.sibling}function fv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),un(t),r&4){try{oo(3,t,t.return),yu(3,t)}catch(k){Pe(t,t.return,k)}try{oo(5,t,t.return)}catch(k){Pe(t,t.return,k)}}break;case 1:Xt(e,t),un(t),r&512&&n!==null&&Ms(n,n.return);break;case 5:if(Xt(e,t),un(t),r&512&&n!==null&&Ms(n,n.return),t.flags&32){var s=t.stateNode;try{go(s,"")}catch(k){Pe(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&V0(s,i),ah(u,o);var h=ah(u,i);for(o=0;o<c.length;o+=2){var m=c[o],p=c[o+1];m==="style"?U0(s,p):m==="dangerouslySetInnerHTML"?L0(s,p):m==="children"?go(s,p):Td(s,m,p,h)}switch(u){case"input":nh(s,i);break;case"textarea":O0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?Fs(s,!!i.multiple,E,!1):g!==!!i.multiple&&(i.defaultValue!=null?Fs(s,!!i.multiple,i.defaultValue,!0):Fs(s,!!i.multiple,i.multiple?[]:"",!1))}s[So]=i}catch(k){Pe(t,t.return,k)}}break;case 6:if(Xt(e,t),un(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){Pe(t,t.return,k)}}break;case 3:if(Xt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_o(e.containerInfo)}catch(k){Pe(t,t.return,k)}break;case 4:Xt(e,t),un(t);break;case 13:Xt(e,t),un(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nf=Oe())),r&4&&Ap(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(h=gt)||m,Xt(e,t),gt=h):Xt(e,t),un(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(W=t,m=t.child;m!==null;){for(p=W=m;W!==null;){switch(g=W,E=g.child,g.tag){case 0:case 11:case 14:case 15:oo(4,g,g.return);break;case 1:Ms(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){Pe(r,n,k)}}break;case 5:Ms(g,g.return);break;case 22:if(g.memoizedState!==null){Rp(p);continue}}E!==null?(E.return=g,W=E):Rp(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=F0("display",o))}catch(k){Pe(t,t.return,k)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(k){Pe(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xt(e,t),un(t),r&4&&Ap(t);break;case 21:break;default:Xt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hv(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(go(s,""),r.flags&=-33);var i=Cp(t);Mh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Cp(t);Oh(t,u,o);break;default:throw Error($(161))}}catch(c){Pe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function w2(t,e,n){W=t,mv(t)}function mv(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Va;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||gt;u=Va;var h=gt;if(Va=o,(gt=c)&&!h)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?jp(s):c!==null?(c.return=o,W=c):jp(s);for(;i!==null;)W=i,mv(i),i=i.sibling;W=s,Va=u,gt=h}kp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):kp(t)}}function kp(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||yu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&mp(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}mp(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&_o(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}gt||e.flags&512&&Vh(e)}catch(g){Pe(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Rp(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function jp(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{yu(4,e)}catch(c){Pe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Pe(e,s,c)}}var i=e.return;try{Vh(e)}catch(c){Pe(e,i,c)}break;case 5:var o=e.return;try{Vh(e)}catch(c){Pe(e,o,c)}}}catch(c){Pe(e,e.return,c)}if(e===t){W=null;break}var u=e.sibling;if(u!==null){u.return=e.return,W=u;break}W=e.return}}var E2=Math.ceil,Vl=Un.ReactCurrentDispatcher,ef=Un.ReactCurrentOwner,Ht=Un.ReactCurrentBatchConfig,ce=0,st=null,Fe=null,ut=0,jt=0,Ls=Rr(0),Qe=0,Ro=null,ns=0,vu=0,tf=0,ao=null,St=null,nf=0,Zs=1/0,In=null,Ol=!1,Lh=null,dr=null,Oa=!1,sr=null,Ml=0,lo=0,Fh=null,sl=-1,il=0;function _t(){return ce&6?Oe():sl!==-1?sl:sl=Oe()}function fr(t){return t.mode&1?ce&2&&ut!==0?ut&-ut:i2.transition!==null?(il===0&&(il=J0()),il):(t=de,t!==0||(t=window.event,t=t===void 0?16:iy(t.type)),t):1}function rn(t,e,n,r){if(50<lo)throw lo=0,Fh=null,Error($(185));qo(t,n,r),(!(ce&2)||t!==st)&&(t===st&&(!(ce&2)&&(vu|=n),Qe===4&&tr(t,ut)),At(t,r),n===1&&ce===0&&!(e.mode&1)&&(Zs=Oe()+500,mu&&jr()))}function At(t,e){var n=t.callbackNode;iw(t,e);var r=_l(t,t===st?ut:0);if(r===0)n!==null&&zm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zm(n),e===1)t.tag===0?s2(Pp.bind(null,t)):Ny(Pp.bind(null,t)),e2(function(){!(ce&6)&&jr()}),n=null;else{switch(Z0(r)){case 1:n=Cd;break;case 4:n=X0;break;case 16:n=xl;break;case 536870912:n=Y0;break;default:n=xl}n=Ev(n,pv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pv(t,e){if(sl=-1,il=0,ce&6)throw Error($(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=_l(t,t===st?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ll(t,r);else{e=r;var s=ce;ce|=2;var i=yv();(st!==t||ut!==e)&&(In=null,Zs=Oe()+500,Kr(t,e));do try{S2();break}catch(u){gv(t,u)}while(!0);zd(),Vl.current=i,ce=s,Fe!==null?e=0:(st=null,ut=0,e=Qe)}if(e!==0){if(e===2&&(s=dh(t),s!==0&&(r=s,e=Uh(t,s))),e===1)throw n=Ro,Kr(t,0),tr(t,r),At(t,Oe()),n;if(e===6)tr(t,r);else{if(s=t.current.alternate,!(r&30)&&!T2(s)&&(e=Ll(t,r),e===2&&(i=dh(t),i!==0&&(r=i,e=Uh(t,i))),e===1))throw n=Ro,Kr(t,0),tr(t,r),At(t,Oe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:zr(t,St,In);break;case 3:if(tr(t,r),(r&130023424)===r&&(e=nf+500-Oe(),10<e)){if(_l(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){_t(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_h(zr.bind(null,t,St,In),e);break}zr(t,St,In);break;case 4:if(tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-nn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E2(r/1960))-r,10<r){t.timeoutHandle=_h(zr.bind(null,t,St,In),r);break}zr(t,St,In);break;case 5:zr(t,St,In);break;default:throw Error($(329))}}}return At(t,Oe()),t.callbackNode===n?pv.bind(null,t):null}function Uh(t,e){var n=ao;return t.current.memoizedState.isDehydrated&&(Kr(t,e).flags|=256),t=Ll(t,e),t!==2&&(e=St,St=n,e!==null&&zh(e)),t}function zh(t){St===null?St=t:St.push.apply(St,t)}function T2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(t,e){for(e&=~tf,e&=~vu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function Pp(t){if(ce&6)throw Error($(327));qs();var e=_l(t,0);if(!(e&1))return At(t,Oe()),null;var n=Ll(t,e);if(t.tag!==0&&n===2){var r=dh(t);r!==0&&(e=r,n=Uh(t,r))}if(n===1)throw n=Ro,Kr(t,0),tr(t,e),At(t,Oe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,St,In),At(t,Oe()),null}function rf(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Zs=Oe()+500,mu&&jr())}}function rs(t){sr!==null&&sr.tag===0&&!(ce&6)&&qs();var e=ce;ce|=1;var n=Ht.transition,r=de;try{if(Ht.transition=null,de=1,t)return t()}finally{de=r,Ht.transition=n,ce=e,!(ce&6)&&jr()}}function sf(){jt=Ls.current,Te(Ls)}function Kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Zw(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Ld(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sl();break;case 3:Ys(),Te(It),Te(vt),Gd();break;case 5:Wd(r);break;case 4:Ys();break;case 13:Te(Ce);break;case 19:Te(Ce);break;case 10:$d(r.type._context);break;case 22:case 23:sf()}n=n.return}if(st=t,Fe=t=mr(t.current,null),ut=jt=e,Qe=0,Ro=null,tf=vu=ns=0,St=ao=null,Hr!==null){for(e=0;e<Hr.length;e++)if(n=Hr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Hr=null}return t}function gv(t,e){do{var n=Fe;try{if(zd(),tl.current=Dl,Pl){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pl=!1}if(ts=0,rt=We=Ae=null,io=!1,Co=0,ef.current=null,n===null||n.return===null){Qe=1,Ro=e,Fe=null;break}e:{var i=t,o=n.return,u=n,c=e;if(e=ut,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=u,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var E=_p(o);if(E!==null){E.flags&=-257,wp(E,o,u,i,e),E.mode&1&&xp(i,h,e),e=E,c=h;var A=e.updateQueue;if(A===null){var k=new Set;k.add(c),e.updateQueue=k}else A.add(c);break e}else{if(!(e&1)){xp(i,h,e),of();break e}c=Error($(426))}}else if(Se&&u.mode&1){var R=_p(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),wp(R,o,u,i,e),Fd(Js(c,u));break e}}i=c=Js(c,u),Qe!==4&&(Qe=2),ao===null?ao=[i]:ao.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=Zy(i,c,e);fp(i,T);break e;case 1:u=c;var _=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(dr===null||!dr.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=ev(i,u,e);fp(i,C);break e}}i=i.return}while(i!==null)}xv(n)}catch(O){e=O,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function yv(){var t=Vl.current;return Vl.current=Dl,t===null?Dl:t}function of(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),st===null||!(ns&268435455)&&!(vu&268435455)||tr(st,ut)}function Ll(t,e){var n=ce;ce|=2;var r=yv();(st!==t||ut!==e)&&(In=null,Kr(t,e));do try{N2();break}catch(s){gv(t,s)}while(!0);if(zd(),ce=n,Vl.current=r,Fe!==null)throw Error($(261));return st=null,ut=0,Qe}function N2(){for(;Fe!==null;)vv(Fe)}function S2(){for(;Fe!==null&&!X_();)vv(Fe)}function vv(t){var e=wv(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?xv(t):Fe=e,ef.current=null}function xv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v2(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,Fe=null;return}}else if(n=y2(n,e,jt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Qe===0&&(Qe=5)}function zr(t,e,n){var r=de,s=Ht.transition;try{Ht.transition=null,de=1,b2(t,e,n,r)}finally{Ht.transition=s,de=r}return null}function b2(t,e,n,r){do qs();while(sr!==null);if(ce&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ow(t,i),t===st&&(Fe=st=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Oa||(Oa=!0,Ev(xl,function(){return qs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ht.transition,Ht.transition=null;var o=de;de=1;var u=ce;ce|=4,ef.current=null,_2(t,n),fv(n,t),Ww(vh),wl=!!yh,vh=yh=null,t.current=n,w2(n),Y_(),ce=u,de=o,Ht.transition=i}else t.current=n;if(Oa&&(Oa=!1,sr=t,Ml=s),i=t.pendingLanes,i===0&&(dr=null),ew(n.stateNode),At(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ol)throw Ol=!1,t=Lh,Lh=null,t;return Ml&1&&t.tag!==0&&qs(),i=t.pendingLanes,i&1?t===Fh?lo++:(lo=0,Fh=t):lo=0,jr(),null}function qs(){if(sr!==null){var t=Z0(Ml),e=Ht.transition,n=de;try{if(Ht.transition=null,de=16>t?16:t,sr===null)var r=!1;else{if(t=sr,sr=null,Ml=0,ce&6)throw Error($(331));var s=ce;for(ce|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(W=h;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:oo(8,m,i)}var p=m.child;if(p!==null)p.return=m,W=p;else for(;W!==null;){m=W;var g=m.sibling,E=m.return;if(cv(m),m===h){W=null;break}if(g!==null){g.return=E,W=g;break}W=E}}}var A=i.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var R=k.sibling;k.sibling=null,k=R}while(k!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oo(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,W=T;break e}W=i.return}}var _=t.current;for(W=_;W!==null;){o=W;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,W=N;else e:for(o=_;W!==null;){if(u=W,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:yu(9,u)}}catch(O){Pe(u,u.return,O)}if(u===o){W=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,W=C;break e}W=u.return}}if(ce=s,jr(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(uu,t)}catch{}r=!0}return r}finally{de=n,Ht.transition=e}}return!1}function Dp(t,e,n){e=Js(n,e),e=Zy(t,e,1),t=hr(t,e,1),e=_t(),t!==null&&(qo(t,1,e),At(t,e))}function Pe(t,e,n){if(t.tag===3)Dp(t,t,n);else for(;e!==null;){if(e.tag===3){Dp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(dr===null||!dr.has(r))){t=Js(n,t),t=ev(e,t,1),e=hr(e,t,1),t=_t(),e!==null&&(qo(e,1,t),At(e,t));break}}e=e.return}}function I2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_t(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(ut&n)===n&&(Qe===4||Qe===3&&(ut&130023424)===ut&&500>Oe()-nf?Kr(t,0):tf|=n),At(t,e)}function _v(t,e){e===0&&(t.mode&1?(e=ba,ba<<=1,!(ba&130023424)&&(ba=4194304)):e=1);var n=_t();t=Dn(t,e),t!==null&&(qo(t,e,n),At(t,n))}function C2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_v(t,n)}function A2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),_v(t,n)}var wv;wv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return bt=!1,g2(t,e,n);bt=!!(t.flags&131072)}else bt=!1,Se&&e.flags&1048576&&Sy(e,Cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rl(t,e),t=e.pendingProps;var s=Ks(e,vt.current);Bs(e,n),s=Qd(null,e,r,t,s,n);var i=Xd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(i=!0,bl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qd(e),s.updater=gu,e.stateNode=s,s._reactInternals=e,Ih(e,r,t,n),e=kh(null,e,r,!0,i,n)):(e.tag=0,Se&&i&&Md(e),xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=R2(r),t=Yt(r,t),s){case 0:e=Ah(null,e,r,t,n);break e;case 1:e=Np(null,e,r,t,n);break e;case 11:e=Ep(null,e,r,t,n);break e;case 14:e=Tp(null,e,r,Yt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ah(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Np(t,e,r,s,n);case 3:e:{if(sv(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ry(t,e),Rl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Js(Error($(423)),e),e=Sp(t,e,r,n,s);break e}else if(r!==s){s=Js(Error($(424)),e),e=Sp(t,e,r,n,s);break e}else for(Pt=cr(e.stateNode.containerInfo.firstChild),Dt=e,Se=!0,Zt=null,n=Ay(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qs(),r===s){e=Vn(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 5:return jy(e),t===null&&Nh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,xh(r,s)?o=null:i!==null&&xh(r,i)&&(e.flags|=32),rv(t,e),xt(t,e,o,n),e.child;case 6:return t===null&&Nh(e),null;case 13:return iv(t,e,n);case 4:return Hd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xs(e,null,r,n):xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),Ep(t,e,r,s,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(Al,r._currentValue),r._currentValue=o,i!==null)if(sn(i.value,o)){if(i.children===s.children&&!It.current){e=Vn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Rn(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Sh(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Sh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Bs(e,n),s=Wt(s),r=r(s),e.flags|=1,xt(t,e,r,n),e.child;case 14:return r=e.type,s=Yt(r,e.pendingProps),s=Yt(r.type,s),Tp(t,e,r,s,n);case 15:return tv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yt(r,s),rl(t,e),e.tag=1,Ct(r)?(t=!0,bl(e)):t=!1,Bs(e,n),Jy(e,r,s),Ih(e,r,s,n),kh(null,e,r,!0,t,n);case 19:return ov(t,e,n);case 22:return nv(t,e,n)}throw Error($(156,e.tag))};function Ev(t,e){return Q0(t,e)}function k2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(t,e,n,r){return new k2(t,e,n,r)}function af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R2(t){if(typeof t=="function")return af(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sd)return 11;if(t===bd)return 14}return 2}function mr(t,e){var n=t.alternate;return n===null?(n=qt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ol(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")af(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cs:return Qr(n.children,s,i,e);case Nd:o=8,s|=8;break;case Yc:return t=qt(12,n,e,s|2),t.elementType=Yc,t.lanes=i,t;case Jc:return t=qt(13,n,e,s),t.elementType=Jc,t.lanes=i,t;case Zc:return t=qt(19,n,e,s),t.elementType=Zc,t.lanes=i,t;case j0:return xu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k0:o=10;break e;case R0:o=9;break e;case Sd:o=11;break e;case bd:o=14;break e;case Jn:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=qt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qr(t,e,n,r){return t=qt(7,t,r,e),t.lanes=n,t}function xu(t,e,n,r){return t=qt(22,t,r,e),t.elementType=j0,t.lanes=n,t.stateNode={isHidden:!1},t}function Pc(t,e,n){return t=qt(6,t,null,e),t.lanes=n,t}function Dc(t,e,n){return e=qt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mc(0),this.expirationTimes=mc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function lf(t,e,n,r,s,i,o,u,c){return t=new j2(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(i),t}function P2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Tv(t){if(!t)return Tr;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Ct(n))return Ty(t,n,e)}return e}function Nv(t,e,n,r,s,i,o,u,c){return t=lf(n,r,!0,t,s,i,o,u,c),t.context=Tv(null),n=t.current,r=_t(),s=fr(n),i=Rn(r,s),i.callback=e??null,hr(n,i,s),t.current.lanes=s,qo(t,s,r),At(t,r),t}function _u(t,e,n,r){var s=e.current,i=_t(),o=fr(s);return n=Tv(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=hr(s,e,o),t!==null&&(rn(t,s,o,i),el(t,s,o)),o}function Fl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function uf(t,e){Vp(t,e),(t=t.alternate)&&Vp(t,e)}function D2(){return null}var Sv=typeof reportError=="function"?reportError:function(t){console.error(t)};function cf(t){this._internalRoot=t}wu.prototype.render=cf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));_u(t,e,null,null)};wu.prototype.unmount=cf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rs(function(){_u(null,t,null,null)}),e[Pn]=null}};function wu(t){this._internalRoot=t}wu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ny();t={blockedOn:null,target:t,priority:e};for(var n=0;n<er.length&&e!==0&&e<er[n].priority;n++);er.splice(n,0,t),n===0&&sy(t)}};function hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Eu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Op(){}function V2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=Fl(o);i.call(h)}}var o=Nv(e,r,t,0,null,!1,!1,"",Op);return t._reactRootContainer=o,t[Pn]=o.current,To(t.nodeType===8?t.parentNode:t),rs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=Fl(c);u.call(h)}}var c=lf(t,0,!1,null,null,!1,!1,"",Op);return t._reactRootContainer=c,t[Pn]=c.current,To(t.nodeType===8?t.parentNode:t),rs(function(){_u(e,c,n,r)}),c}function Tu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var c=Fl(o);u.call(c)}}_u(e,o,t,s)}else o=V2(n,e,t,s,r);return Fl(o)}ey=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ki(e.pendingLanes);n!==0&&(Ad(e,n|1),At(e,Oe()),!(ce&6)&&(Zs=Oe()+500,jr()))}break;case 13:rs(function(){var r=Dn(t,1);if(r!==null){var s=_t();rn(r,t,1,s)}}),uf(t,1)}};kd=function(t){if(t.tag===13){var e=Dn(t,134217728);if(e!==null){var n=_t();rn(e,t,134217728,n)}uf(t,134217728)}};ty=function(t){if(t.tag===13){var e=fr(t),n=Dn(t,e);if(n!==null){var r=_t();rn(n,t,e,r)}uf(t,e)}};ny=function(){return de};ry=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};uh=function(t,e,n){switch(e){case"input":if(nh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fu(r);if(!s)throw Error($(90));D0(r),nh(r,s)}}}break;case"textarea":O0(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};B0=rf;q0=rs;var O2={usingClientEntryPoint:!1,Events:[Wo,js,fu,z0,$0,rf]},Hi={findFiberByHostInstance:qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M2={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G0(t),t===null?null:t.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||D2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{uu=Ma.inject(M2),mn=Ma}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O2;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(e))throw Error($(200));return P2(t,e,null,n)};Ot.createRoot=function(t,e){if(!hf(t))throw Error($(299));var n=!1,r="",s=Sv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=lf(t,1,!1,null,null,n,!1,r,s),t[Pn]=e.current,To(t.nodeType===8?t.parentNode:t),new cf(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=G0(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return rs(t)};Ot.hydrate=function(t,e,n){if(!Eu(e))throw Error($(200));return Tu(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!hf(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Sv;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nv(e,null,t,1,n??null,s,!1,i,o),t[Pn]=e.current,To(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wu(e)};Ot.render=function(t,e,n){if(!Eu(e))throw Error($(200));return Tu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!Eu(t))throw Error($(40));return t._reactRootContainer?(rs(function(){Tu(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Ot.unstable_batchedUpdates=rf;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Eu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Tu(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function bv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bv)}catch(t){console.error(t)}}bv(),b0.exports=Ot;var L2=b0.exports,Iv,Mp=L2;Iv=Mp.createRoot,Mp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jo(){return jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jo.apply(this,arguments)}var ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ir||(ir={}));const Lp="popstate";function F2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return $h("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ul(s)}return z2(e,n,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U2(){return Math.random().toString(36).substr(2,8)}function Fp(t,e){return{usr:t.state,key:t.key,idx:e}}function $h(t,e,n,r){return n===void 0&&(n=null),jo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?di(e):e,{state:n,key:e&&e.key||r||U2()})}function Ul(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function di(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u=ir.Pop,c=null,h=m();h==null&&(h=0,o.replaceState(jo({},o.state,{idx:h}),""));function m(){return(o.state||{idx:null}).idx}function p(){u=ir.Pop;let R=m(),T=R==null?null:R-h;h=R,c&&c({action:u,location:k.location,delta:T})}function g(R,T){u=ir.Push;let _=$h(k.location,R,T);h=m()+1;let N=Fp(_,h),C=k.createHref(_);try{o.pushState(N,"",C)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(C)}i&&c&&c({action:u,location:k.location,delta:1})}function E(R,T){u=ir.Replace;let _=$h(k.location,R,T);h=m();let N=Fp(_,h),C=k.createHref(_);o.replaceState(N,"",C),i&&c&&c({action:u,location:k.location,delta:0})}function A(R){let T=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof R=="string"?R:Ul(R);return _=_.replace(/ $/,"%20"),ze(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let k={get action(){return u},get location(){return t(s,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lp,p),c=R,()=>{s.removeEventListener(Lp,p),c=null}},createHref(R){return e(s,R)},createURL:A,encodeLocation(R){let T=A(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:E,go(R){return o.go(R)}};return k}var Up;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Up||(Up={}));function $2(t,e,n){return n===void 0&&(n="/"),B2(t,e,n)}function B2(t,e,n,r){let s=typeof e=="string"?di(e):e,i=df(s.pathname||"/",n);if(i==null)return null;let o=Av(t);q2(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let h=nE(i);u=Z2(o[c],h)}return u}function Av(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ze(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=pr([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(ze(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Av(i.children,e,m,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:Y2(h,i.index),routesMeta:m})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let c of kv(i.path))s(i,o,c)}),e}function kv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=kv(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function q2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:J2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H2=/^:[\w-]+$/,W2=3,G2=2,K2=1,Q2=10,X2=-2,zp=t=>t==="*";function Y2(t,e){let n=t.split("/"),r=n.length;return n.some(zp)&&(r+=X2),e&&(r+=G2),n.filter(s=>!zp(s)).reduce((s,i)=>s+(H2.test(i)?W2:i===""?K2:Q2),r)}function J2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Z2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=eE({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),g=c.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:pr([i,p.pathname]),pathnameBase:oE(pr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=pr([i,p.pathnameBase]))}return o}function eE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tE(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,m,p)=>{let{paramName:g,isOptional:E}=m;if(g==="*"){let k=u[p]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const A=u[p];return E&&!A?h[g]=void 0:h[g]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function tE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function df(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?di(t):t;return{pathname:n?n.startsWith("/")?n:sE(n,e):e,search:aE(r),hash:lE(s)}}function sE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Rv(t,e){let n=iE(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function jv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=di(t):(s=jo({},t),ze(!s.pathname||!s.pathname.includes("?"),Vc("?","pathname","search",s)),ze(!s.pathname||!s.pathname.includes("#"),Vc("#","pathname","hash",s)),ze(!s.search||!s.search.includes("#"),Vc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=rE(s,u),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),oE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function uE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pv=["post","put","patch","delete"];new Set(Pv);const cE=["get",...Pv];new Set(cE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}const ff=j.createContext(null),hE=j.createContext(null),cs=j.createContext(null),Nu=j.createContext(null),hs=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Dv=j.createContext(null);function dE(t,e){let{relative:n}=e===void 0?{}:e;Ko()||ze(!1);let{basename:r,navigator:s}=j.useContext(cs),{hash:i,pathname:o,search:u}=Mv(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:pr([r,o])),s.createHref({pathname:c,search:u,hash:i})}function Ko(){return j.useContext(Nu)!=null}function Qo(){return Ko()||ze(!1),j.useContext(Nu).location}function Vv(t){j.useContext(cs).static||j.useLayoutEffect(t)}function Ov(){let{isDataRoute:t}=j.useContext(hs);return t?SE():fE()}function fE(){Ko()||ze(!1);let t=j.useContext(ff),{basename:e,future:n,navigator:r}=j.useContext(cs),{matches:s}=j.useContext(hs),{pathname:i}=Qo(),o=JSON.stringify(Rv(s,n.v7_relativeSplatPath)),u=j.useRef(!1);return Vv(()=>{u.current=!0}),j.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let p=jv(h,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pr([e,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[e,r,o,i,t])}function Mv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(cs),{matches:s}=j.useContext(hs),{pathname:i}=Qo(),o=JSON.stringify(Rv(s,r.v7_relativeSplatPath));return j.useMemo(()=>jv(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function mE(t,e){return pE(t,e)}function pE(t,e,n,r){Ko()||ze(!1);let{navigator:s}=j.useContext(cs),{matches:i}=j.useContext(hs),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Qo(),m;if(e){var p;let R=typeof e=="string"?di(e):e;c==="/"||(p=R.pathname)!=null&&p.startsWith(c)||ze(!1),m=R}else m=h;let g=m.pathname||"/",E=g;if(c!=="/"){let R=c.replace(/^\//,"").split("/");E="/"+g.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=$2(t,{pathname:E}),k=_E(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},u,R.params),pathname:pr([c,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?c:pr([c,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,n,r);return e&&k?j.createElement(Nu.Provider,{value:{location:Po({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ir.Pop}},k):k}function gE(){let t=NE(),e=uE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const yE=j.createElement(gE,null);class vE extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(hs.Provider,{value:this.props.routeContext},j.createElement(Dv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xE(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(ff);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(hs.Provider,{value:e},r)}function _E(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||ze(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:g,errors:E}=n,A=p.route.loader&&g[p.route.id]===void 0&&(!E||E[p.route.id]===void 0);if(p.route.lazy||A){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,g)=>{let E,A=!1,k=null,R=null;n&&(E=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||yE,c&&(h<0&&g===0?(bE("route-fallback"),A=!0,R=null):h===g&&(A=!0,R=p.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,g+1)),_=()=>{let N;return E?N=k:A?N=R:p.route.Component?N=j.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,j.createElement(xE,{match:p,routeContext:{outlet:m,matches:T,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(vE,{location:n.location,revalidation:n.revalidation,component:k,error:E,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var Lv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Lv||{}),Fv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Fv||{});function wE(t){let e=j.useContext(ff);return e||ze(!1),e}function EE(t){let e=j.useContext(hE);return e||ze(!1),e}function TE(t){let e=j.useContext(hs);return e||ze(!1),e}function Uv(t){let e=TE(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function NE(){var t;let e=j.useContext(Dv),n=EE(),r=Uv();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function SE(){let{router:t}=wE(Lv.UseNavigateStable),e=Uv(Fv.UseNavigateStable),n=j.useRef(!1);return Vv(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Po({fromRouteId:e},i)))},[t,e])}const $p={};function bE(t,e,n){$p[t]||($p[t]=!0)}function IE(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function $r(t){ze(!1)}function CE(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ir.Pop,navigator:i,static:o=!1,future:u}=t;Ko()&&ze(!1);let c=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:i,static:o,future:Po({v7_relativeSplatPath:!1},u)}),[c,u,i,o]);typeof r=="string"&&(r=di(r));let{pathname:m="/",search:p="",hash:g="",state:E=null,key:A="default"}=r,k=j.useMemo(()=>{let R=df(m,c);return R==null?null:{location:{pathname:R,search:p,hash:g,state:E,key:A},navigationType:s}},[c,m,p,g,E,A,s]);return k==null?null:j.createElement(cs.Provider,{value:h},j.createElement(Nu.Provider,{children:n,value:k}))}function AE(t){let{children:e,location:n}=t;return mE(Bh(e),n)}new Promise(()=>{});function Bh(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Bh(r.props.children,i));return}r.type!==$r&&ze(!1),!r.props.index||!r.props.children||ze(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bh(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qh.apply(this,arguments)}function kE(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function RE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jE(t,e){return t.button===0&&(!e||e==="_self")&&!RE(t)}const PE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DE="6";try{window.__reactRouterVersion=DE}catch{}const VE="startTransition",Bp=I_[VE];function OE(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=F2({window:s,v5Compat:!0}));let o=i.current,[u,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},m=j.useCallback(p=>{h&&Bp?Bp(()=>c(p)):c(p)},[c,h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.useEffect(()=>IE(r),[r]),j.createElement(CE,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const ME=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qp=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:u,target:c,to:h,preventScrollReset:m,viewTransition:p}=e,g=kE(e,PE),{basename:E}=j.useContext(cs),A,k=!1;if(typeof h=="string"&&LE.test(h)&&(A=h,ME))try{let N=new URL(window.location.href),C=h.startsWith("//")?new URL(N.protocol+h):new URL(h),O=df(C.pathname,E);C.origin===N.origin&&O!=null?h=O+C.search+C.hash:k=!0}catch{}let R=dE(h,{relative:s}),T=FE(h,{replace:o,state:u,target:c,preventScrollReset:m,relative:s,viewTransition:p});function _(N){r&&r(N),N.defaultPrevented||T(N)}return j.createElement("a",qh({},g,{href:A||R,onClick:k||i?r:_,ref:n,target:c}))});var Hp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Hp||(Hp={}));var Wp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Wp||(Wp={}));function FE(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:u}=e===void 0?{}:e,c=Ov(),h=Qo(),m=Mv(t,{relative:o});return j.useCallback(p=>{if(jE(p,n)){p.preventDefault();let g=r!==void 0?r:Ul(h)===Ul(m);c(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:u})}},[h,c,m,r,s,n,t,i,o,u])}let UE={data:""},zE=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||UE},$E=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,BE=/\/\*[^]*?\*\/|  +/g,Gp=/\n+/g,nr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?nr(o,i):i+"{"+nr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=nr(o,e?e.replace(/([^,])+/g,u=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=nr.p?nr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},bn={},zv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zv(t[n]);return e}return t},qE=(t,e,n,r,s)=>{let i=zv(t),o=bn[i]||(bn[i]=(c=>{let h=0,m=11;for(;h<c.length;)m=101*m+c.charCodeAt(h++)>>>0;return"go"+m})(i));if(!bn[o]){let c=i!==t?t:(h=>{let m,p,g=[{}];for(;m=$E.exec(h.replace(BE,""));)m[4]?g.shift():m[3]?(p=m[3].replace(Gp," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(Gp," ").trim();return g[0]})(t);bn[o]=nr(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let u=n&&bn.g?bn.g:null;return n&&(bn.g=bn[o]),((c,h,m,p)=>{p?h.data=h.data.replace(p,c):h.data.indexOf(c)===-1&&(h.data=m?c+h.data:h.data+c)})(bn[o],e,r,u),o},HE=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let u=o(n),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;o=c?"."+c:u&&typeof u=="object"?u.props?"":nr(u,""):u===!1?"":u}return r+s+(o??"")},"");function Su(t){let e=this||{},n=t.call?t(e.p):t;return qE(n.unshift?n.raw?HE(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,zE(e.target),e.g,e.o,e.k)}let $v,Hh,Wh;Su.bind({g:1});let On=Su.bind({k:1});function WE(t,e,n,r){nr.p=e,$v=t,Hh=n,Wh=r}function Pr(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let u=Object.assign({},i),c=u.className||s.className;n.p=Object.assign({theme:Hh&&Hh()},u),n.o=/ *go\d+/.test(c),u.className=Su.apply(n,r)+(c?" "+c:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),Wh&&h[0]&&Wh(u),$v(h,u)}return s}}var GE=t=>typeof t=="function",zl=(t,e)=>GE(t)?t(e):t,KE=(()=>{let t=0;return()=>(++t).toString()})(),Bv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),QE=20,mf="default",qv=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return qv(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},al=[],Hv={toasts:[],pausedAt:void 0,settings:{toastLimit:QE}},fn={},Wv=(t,e=mf)=>{fn[e]=qv(fn[e]||Hv,t),al.forEach(([n,r])=>{n===e&&r(fn[e])})},Gv=t=>Object.keys(fn).forEach(e=>Wv(t,e)),XE=t=>Object.keys(fn).find(e=>fn[e].toasts.some(n=>n.id===t)),bu=(t=mf)=>e=>{Wv(e,t)},YE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},JE=(t={},e=mf)=>{let[n,r]=j.useState(fn[e]||Hv),s=j.useRef(fn[e]);j.useEffect(()=>(s.current!==fn[e]&&r(fn[e]),al.push([e,r]),()=>{let o=al.findIndex(([u])=>u===e);o>-1&&al.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var u,c,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((u=t[o.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||YE[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...n,toasts:i}},ZE=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||KE()}),Xo=t=>(e,n)=>{let r=ZE(e,t,n);return bu(r.toasterId||XE(r.id))({type:2,toast:r}),r.id},Ge=(t,e)=>Xo("blank")(t,e);Ge.error=Xo("error");Ge.success=Xo("success");Ge.loading=Xo("loading");Ge.custom=Xo("custom");Ge.dismiss=(t,e)=>{let n={type:3,toastId:t};e?bu(e)(n):Gv(n)};Ge.dismissAll=t=>Ge.dismiss(void 0,t);Ge.remove=(t,e)=>{let n={type:4,toastId:t};e?bu(e)(n):Gv(n)};Ge.removeAll=t=>Ge.remove(void 0,t);Ge.promise=(t,e,n)=>{let r=Ge.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?zl(e.success,s):void 0;return i?Ge.success(i,{id:r,...n,...n==null?void 0:n.success}):Ge.dismiss(r),s}).catch(s=>{let i=e.error?zl(e.error,s):void 0;i?Ge.error(i,{id:r,...n,...n==null?void 0:n.error}):Ge.dismiss(r)}),t};var eT=1e3,tT=(t,e="default")=>{let{toasts:n,pausedAt:r}=JE(t,e),s=j.useRef(new Map).current,i=j.useCallback((p,g=eT)=>{if(s.has(p))return;let E=setTimeout(()=>{s.delete(p),o({type:4,toastId:p})},g);s.set(p,E)},[]);j.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(E=>{if(E.duration===1/0)return;let A=(E.duration||0)+E.pauseDuration-(p-E.createdAt);if(A<0){E.visible&&Ge.dismiss(E.id);return}return setTimeout(()=>Ge.dismiss(E.id,e),A)});return()=>{g.forEach(E=>E&&clearTimeout(E))}},[n,r,e]);let o=j.useCallback(bu(e),[e]),u=j.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=j.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),h=j.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=j.useCallback((p,g)=>{let{reverseOrder:E=!1,gutter:A=8,defaultPosition:k}=g||{},R=n.filter(N=>(N.position||k)===(p.position||k)&&N.height),T=R.findIndex(N=>N.id===p.id),_=R.filter((N,C)=>C<T&&N.visible).length;return R.filter(N=>N.visible).slice(...E?[_+1]:[0,_]).reduce((N,C)=>N+(C.height||0)+A,0)},[n]);return j.useEffect(()=>{n.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let g=s.get(p.id);g&&(clearTimeout(g),s.delete(p.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:u,endPause:h,calculateOffset:m}}},nT=On`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rT=On`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sT=On`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,iT=Pr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rT} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sT} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oT=On`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aT=Pr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${oT} 1s linear infinite;
`,lT=On`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uT=On`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cT=Pr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hT=Pr("div")`
  position: absolute;
`,dT=Pr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fT=On`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mT=Pr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pT=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(mT,null,e):e:n==="blank"?null:j.createElement(dT,null,j.createElement(aT,{...r}),n!=="loading"&&j.createElement(hT,null,n==="error"?j.createElement(iT,{...r}):j.createElement(cT,{...r})))},gT=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yT=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,vT="0%{opacity:0;} 100%{opacity:1;}",xT="0%{opacity:1;} 100%{opacity:0;}",_T=Pr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wT=Pr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ET=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Bv()?[vT,xT]:[gT(n),yT(n)];return{animation:e?`${On(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${On(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},TT=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?ET(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(pT,{toast:t}),o=j.createElement(wT,{...t.ariaProps},zl(t.message,t));return j.createElement(_T,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});WE(j.createElement);var NT=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(o=>{if(o){let u=()=>{let c=o.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},ST=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Bv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},bT=Su`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,La=16,IT=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:u})=>{let{toasts:c,handlers:h}=tT(n,i);return j.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:La,left:La,right:La,bottom:La,pointerEvents:"none",...o},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(m=>{let p=m.position||e,g=h.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),E=ST(p,g);return j.createElement(NT,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?bT:"",style:E},m.type==="custom"?zl(m.message,m):s?s(m):j.createElement(TT,{toast:m,position:p}))}))},ee=Ge;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AT=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Kp=t=>{const e=AT(t);return e.charAt(0).toUpperCase()+e.slice(1)},Kv=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),kT=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>j.createElement("svg",{ref:c,...RT,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Kv("lucide",s),...!i&&!kT(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,m])=>j.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(jT,{ref:i,iconNode:e,className:Kv(`lucide-${CT(Kp(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Kp(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gr=ne("calendar",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Oc=ne("camera",DT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gh=ne("chevron-left",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kh=ne("chevron-right",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],LT=ne("circle-check-big",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zt=ne("clock",FT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qp=ne("eye",UT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],$T=ne("facebook",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],Mc=ne("file-image",BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],HT=ne("heart",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ll=ne("image",WT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],KT=ne("instagram",GT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lc=ne("link",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fc=ne("lock",XT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ei=ne("mail",YT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ti=ne("map-pin",JT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],e4=ne("menu",ZT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.72a10 10 0 0 1 2.69 2.7",key:"jiglxs"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.28 17.61a10 10 0 0 1-2.7 2.69",key:"elg7ff"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"m6.163 21.117-2.906.85a1 1 0 0 1-1.236-1.169l.965-2.98",key:"1qsu07"}]],$l=ne("message-circle-dashed",t4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],r4=ne("message-square",n4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],i4=ne("monitor",s4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Xp=ne("music",o4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ss=ne("phone",a4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yp=ne("plus",l4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yn=ne("save",u4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],h4=ne("send",c4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Qh=ne("settings",d4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fa=ne("square-pen",f4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Bl=ne("star",m4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ua=ne("trash-2",p4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],y4=ne("triangle-alert",g4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],x4=ne("twitter",v4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],w4=ne("upload",_4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ql=ne("user",E4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ul=ne("users",T4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Jp=ne("volume-2",N4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Zp=ne("volume-x",S4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yo=ne("x",b4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],C4=ne("youtube",I4),A4=({onLogoClick:t,isAdmin:e,onLogout:n})=>{const[r,s]=j.useState(!1),[i,o]=j.useState({title:"Luz Espiritual",logoImage:""}),u=Qo(),c=Ov();j.useEffect(()=>{const p=localStorage.getItem("siteSettings");p&&o(g=>({...g,...JSON.parse(p)}))},[]);const h=()=>{e&&c("/admin")},m=[{name:"Incio",path:"/"},{name:"Servios",path:"/services"},{name:"Galeria",path:"/gallery"},{name:"Contato",path:"/contact"},{name:"Agendar",path:"/booking"}];return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-sm shadow-lg border-b border-yellow-500/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:t,className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-300",children:[i.logoImage?l.jsx("img",{src:i.logoImage,alt:i.title,className:"h-12 w-12 object-cover rounded-full"}):l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-slate-900 font-bold text-xl",children:"L"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-yellow-400 font-serif",children:i.title}),l.jsx("p",{className:"text-sm text-yellow-200 hidden sm:block",children:"Tradio e Espiritualidade"})]})]})}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[m.map(p=>l.jsxs(qp,{to:p.path,className:`text-white hover:text-yellow-400 font-medium transition-colors duration-300 relative ${u.pathname===p.path?"text-yellow-400":""}`,children:[p.name,u.pathname===p.path&&l.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-yellow-400"})]},p.name)),e&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-colors duration-300 font-semibold",children:[l.jsx(Qh,{className:"w-4 h-4"}),"Painel Admin"]}),l.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300 font-semibold",children:[l.jsx(ql,{className:"w-4 h-4"}),"Sair"]})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>s(!r),className:"text-white hover:text-yellow-400 transition-colors duration-300",children:r?l.jsx(Yo,{className:"h-6 w-6"}):l.jsx(e4,{className:"h-6 w-6"})})})]}),r&&l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-slate-800 border-t border-yellow-500/20",children:[m.map(p=>l.jsx(qp,{to:p.path,className:`block px-3 py-2 text-white hover:text-yellow-400 hover:bg-slate-700 rounded-md font-medium transition-colors duration-300 ${u.pathname===p.path?"text-yellow-400 bg-slate-700":""}`,onClick:()=>s(!1),children:p.name},p.name)),e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{h(),s(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-2 bg-yellow-500 text-slate-900 rounded-md hover:bg-yellow-400 transition-colors duration-300 font-semibold",children:[l.jsx(Qh,{className:"w-4 h-4"}),"Painel Admin"]}),l.jsxs("button",{onClick:()=>{n(),s(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-300 font-semibold",children:[l.jsx(ql,{className:"w-4 h-4"}),"Sair"]})]})]})})]})})},k4=()=>{const[t,e]=j.useState({title:"Luz Espiritual",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com"}),[n,r]=j.useState([]);j.useEffect(()=>{const i=()=>{const c=localStorage.getItem("siteSettings");c&&e(JSON.parse(c));const h=localStorage.getItem("socialProfiles");if(h){const m=JSON.parse(h);r(m.filter(p=>p.active))}};i();const o=()=>{i()};window.addEventListener("storage",o);const u=setInterval(i,1e3);return()=>{window.removeEventListener("storage",o),clearInterval(u)}},[]);const s=i=>{switch(i){case"Instagram":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"instagramGradient",cx:"30%",cy:"107%",r:"150%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#fdf497"}}),l.jsx("stop",{offset:"5%",style:{stopColor:"#fdf497"}}),l.jsx("stop",{offset:"45%",style:{stopColor:"#fd5949"}}),l.jsx("stop",{offset:"60%",style:{stopColor:"#d6249f"}}),l.jsx("stop",{offset:"90%",style:{stopColor:"#285AEB"}})]})}),l.jsx("path",{fill:"url(#instagramGradient)",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})]});case"Facebook":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#1877F2"}),l.jsx("path",{fill:"white",d:"M13.397 20.997v-8.196h2.765l.411-3.209h-3.176V7.548c0-.926.258-1.56 1.587-1.56h1.684V3.127A22.336 22.336 0 0014.201 3c-2.444 0-4.122 1.492-4.122 4.231v2.355H7.332v3.209h2.753v8.202h3.312z"})]});case"TikTok":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("path",{fill:"#000000",d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"}),l.jsx("path",{fill:"#EE1D52",d:"M9.68 10.7a2.89 2.89 0 00-2.31 4.64 2.89 2.89 0 005.2-1.74V2h3.45a4.83 4.83 0 003.77 4.25c.34.05.68.08 1 .1v3.4a8.16 8.16 0 01-4.77-1.52v7a6.34 6.34 0 01-10.86 4.43A6.33 6.33 0 019.36 9.35c.34 0 .67.02 1 .05v3.5a2.93 2.93 0 00-.88-.13z"}),l.jsx("path",{fill:"#69C9D0",d:"M19.59 6.69c-.34-.02-.68-.05-1-.1a4.83 4.83 0 01-3.77-4.25h.18v4.35a8.16 8.16 0 004.77 1.52v-3.4c.34.05.68.08 1 .1v3.4c-1.84 0-3.48-.64-4.77-1.52v7a6.34 6.34 0 01-10.86 4.43 6.33 6.33 0 009.36-5.57V2h3.45c0 .26.05.52.09.78.24 1.63 1.16 3.03 2.46 3.91z"})]});case"YouTube":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("path",{fill:"#FF0000",d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814z"}),l.jsx("path",{fill:"white",d:"M9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]});case"Twitter":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#1DA1F2"}),l.jsx("path",{fill:"white",d:"M18.244 8.603c.01.14.01.281.01.422 0 4.301-3.273 9.256-9.256 9.256-1.84 0-3.552-.537-4.992-1.459.261.03.512.04.783.04 1.52 0 2.918-.512 4.032-1.388a3.263 3.263 0 01-3.043-2.26c.2.03.402.05.613.05.291 0 .582-.04.853-.11a3.257 3.257 0 01-2.61-3.194v-.04c.432.241.934.392 1.467.412a3.254 3.254 0 01-1.448-2.71c0-.603.16-1.156.442-1.638a9.25 9.25 0 006.712 3.404 3.67 3.67 0 01-.08-.743 3.254 3.254 0 013.254-3.254c.934 0 1.779.392 2.37 1.025a6.403 6.403 0 002.067-.784 3.243 3.243 0 01-1.428 1.789A6.515 6.515 0 0020 7.544a6.995 6.995 0 01-1.756 1.059z"})]});case"WhatsApp":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#25D366"}),l.jsx("path",{fill:"white",d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"})]});default:return l.jsx(ul,{className:"w-6 h-6"})}};return l.jsx("footer",{className:"bg-slate-900 text-white border-t border-yellow-500/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:t.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:"Conectando voc com a sabedoria ancestral atravs da tradio If. Nossos servios espirituais oferecem orientao e transformao para sua jornada de vida."}),n.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Siga-nos"}),l.jsx("div",{className:"flex space-x-4",children:n.map(i=>l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl",title:`Seguir no ${i.platform}`,children:s(i.iconName)},i.platform))})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Contato"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ss,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white",children:t.phone}),l.jsx("a",{href:`https://wa.me/55${t.phone.replace(/\D/g,"")}`,className:"text-green-400 hover:text-green-300 text-sm font-semibold",children:"WhatsApp"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ei,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsx("div",{children:l.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-yellow-400",children:t.email})})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ti,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsx("p",{className:"text-white text-sm",children:t.address})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Funcionamento"}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(zt,{className:"w-5 h-5 text-yellow-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white",children:"Segunda a Sbado"}),l.jsx("p",{className:"text-white",children:t.hours})]})]})}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Links Rpidos"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("a",{href:"/services",className:"block text-white hover:text-yellow-400 transition-colors duration-300",children:"Nossos Servios"}),l.jsx("a",{href:"/booking",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Agendar Consulta"}),l.jsx("a",{href:"/gallery",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Galeria"}),l.jsx("a",{href:"/contact",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Contato"})]})]})]})]}),l.jsx("div",{className:"border-t border-yellow-500/30 mt-12 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-white text-sm",children:[" ",new Date().getFullYear()," ",t.title,". Todos os direitos reservados."]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[l.jsx(HT,{className:"w-4 h-4 text-red-400"}),l.jsx("p",{className:"text-white text-sm",children:"Feito com amor e dedicao espiritual"})]})]})})]})})},R4=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState([]),[o,u]=j.useState([]),[c,h]=j.useState("Todos"),[m,p]=j.useState(null),[g,E]=j.useState({title:"Luz Espiritual",slogan:"O destino fala, os bzios revelam, Exu transforma",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"Seg  sexta: 09h s 18h - Sbado: 09h s 13h",email:"contato@luzespiritual.com",headerImage:""});j.useEffect(()=>{const C=localStorage.getItem("services");C&&e(JSON.parse(C).filter(w=>w.active));const O=localStorage.getItem("galleryImages");O&&r(JSON.parse(O));const L=localStorage.getItem("events");L&&i(JSON.parse(L).filter(w=>w.active));const x=localStorage.getItem("socialProfiles");x&&u(JSON.parse(x).filter(w=>w.active));const y=localStorage.getItem("siteSettings");if(y){const w=JSON.parse(y);E(S=>({...S,...w}))}},[]);const A=["Todos",...Array.from(new Set(n.map(C=>C.category)))],k=c==="Todos"?n:n.filter(C=>C.category===c),R=C=>p(C),T=()=>p(null),_=()=>p(C=>(C-1+k.length)%k.length),N=()=>p(C=>(C+1)%k.length);return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40"}),l.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed opacity-30",style:{backgroundImage:g.headerImage?`url("${g.headerImage}")`:'url("https://images.pexels.com/photos/6980523/pexels-photo-6980523.jpeg?auto=compress&cs=tinysrgb&w=1600")'}}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[l.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-6 font-serif animate-fade-in text-yellow-400",children:g.title}),l.jsx("p",{className:"text-2xl md:text-3xl mb-8 opacity-90 font-light animate-fade-in-delay text-white",children:g.slogan}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-delay-2",children:[l.jsxs("a",{href:"/services",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Bl,{className:"w-5 h-5"}),"Nossos Servios"]}),l.jsxs("a",{href:"/booking",className:"inline-flex items-center gap-2 px-8 py-4 border-2 border-yellow-400 text-yellow-400 rounded-full hover:bg-yellow-400 hover:text-slate-900 transition-all duration-300 transform hover:scale-105 font-semibold",children:[l.jsx(gr,{className:"w-5 h-5"}),"Agendar Consulta"]})]})]})]}),t.length>0&&l.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Nossos Servios Espirituais"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Conecte-se com a sabedoria ancestral atravs de nossos servios especializados"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.slice(0,3).map(C=>l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[C.image&&l.jsx("div",{className:"aspect-video rounded-xl overflow-hidden mb-6 shadow-lg",children:l.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover"})}),l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:C.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:C.description}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(zt,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:C.duration})]}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:C.price})]}),l.jsxs("a",{href:"/booking",className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(gr,{className:"w-5 h-5"}),"Agendar Agora"]})]},C.id))}),t.length>3&&l.jsx("div",{className:"text-center mt-12",children:l.jsxs("a",{href:"/services",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Qp,{className:"w-5 h-5"}),"Ver Todos os Servios"]})})]})}),s.length>0&&l.jsx("section",{className:"py-20 bg-slate-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Prximos Eventos"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Participe de nossos eventos e cerimnias especiais"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.slice(0,3).map(C=>l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[C.image&&l.jsx("div",{className:"aspect-video rounded-xl overflow-hidden mb-6 shadow-lg",children:l.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover"})}),l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:C.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:C.description}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(gr,{className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold",children:[C.date," s ",C.time]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(ti,{className:"w-5 h-5"}),l.jsx("span",{children:C.location})]})]})]},C.id))})]})}),n.length>0&&l.jsxs("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 overflow-hidden",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Galeria Espiritual"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Momentos sagrados de nossa jornada espiritual"})]}),A.length>1&&l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:A.map(C=>l.jsx("button",{onClick:()=>h(C),className:`px-6 py-3 rounded-full font-semibold transition-all duration-300 ${c===C?"bg-yellow-500 text-slate-900 shadow-lg":"bg-slate-700 text-white hover:bg-slate-600"}`,children:C},C))}),l.jsxs("div",{className:"relative w-full overflow-hidden",children:[l.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-0%)"},children:k.slice(0,10).map((C,O)=>l.jsx("div",{className:"min-w-[80%] sm:min-w-[45%] md:min-w-[30%] lg:min-w-[25%] px-3",children:l.jsxs("div",{onClick:()=>R(O),className:"relative group overflow-hidden rounded-2xl shadow-lg border border-slate-700 cursor-pointer",children:[l.jsx("img",{src:C.src,alt:"",className:"w-full h-72 object-cover transition-transform duration-500 group-hover:scale-110"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex justify-center items-center",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:C.category})})]})},C.id))}),l.jsx("button",{onClick:_,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Gh,{className:"w-6 h-6"})}),l.jsx("button",{onClick:N,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Kh,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"text-center mt-12",children:l.jsxs("a",{href:"/gallery",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Qp,{className:"w-5 h-5"}),"Ver Galeria Completa"]})})]}),m!==null&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:l.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",children:[l.jsx("button",{onClick:T,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors duration-300",children:l.jsx(Yo,{className:"w-6 h-6"})}),l.jsx("img",{src:k[m].src,alt:"",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg text-center",children:l.jsx("span",{className:"inline-block bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:k[m].category})}),l.jsx("button",{onClick:_,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Gh,{className:"w-6 h-6"})}),l.jsx("button",{onClick:N,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Kh,{className:"w-6 h-6"})})]})})]})]})},j4=()=>{const[t,e]=j.useState([]),[n,r]=j.useState({phone:"(24) 99328-9778",email:"contato@luzespiritual.com"});return j.useEffect(()=>{const s=()=>{const u=localStorage.getItem("services");if(u){const h=JSON.parse(u);e(h.filter(m=>m.active))}const c=localStorage.getItem("siteSettings");c&&r(JSON.parse(c))};s();const i=()=>{s()};window.addEventListener("storage",i);const o=setInterval(s,1e3);return()=>{window.removeEventListener("storage",i),clearInterval(o)}},[]),l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Nossos Servios Espirituais"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Conecte-se com a sabedoria ancestral e transforme sua vida atravs de nossos servios especializados"})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx(Bl,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Servios em Configurao"}),l.jsx("p",{className:"text-xl text-white mb-8",children:"Nossos servios esto sendo preparados com todo carinho e dedicao."}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-white",children:"Entre em contato conosco para mais informaes:"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("a",{href:`https://wa.me/55${n.phone.replace(/\D/g,"")}`,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx(ss,{className:"w-5 h-5 mr-2"}),"WhatsApp: ",n.phone]}),l.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(ei,{className:"w-5 h-5 mr-2"}),"Email: ",n.email]})]})]})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(s=>l.jsxs("div",{className:"group bg-slate-700/50 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[s.image&&l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:s.price})})]}),l.jsxs("div",{className:"p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4",children:s.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:s.description}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center text-yellow-300",children:[l.jsx(zt,{className:"w-5 h-5 mr-2"}),l.jsx("span",{className:"font-medium",children:s.duration})]}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:s.price})]}),l.jsxs("a",{href:"/booking",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-yellow-500 text-slate-900 font-bold rounded-lg hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105",children:[l.jsx(gr,{className:"w-5 h-5 mr-2"}),"Agendar Consulta"]})]})]},s.id))})})}),l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-yellow-400 mb-6",children:"Pronto para Transformar sua Vida?"}),l.jsx("p",{className:"text-xl text-white mb-8",children:"Agende sua consulta e descubra os caminhos que os Orixs tm preparado para voc"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("a",{href:"/booking",className:"px-8 py-4 bg-yellow-500 text-slate-900 font-bold rounded-full text-lg hover:bg-yellow-400 transition-all duration-300",children:[l.jsx(gr,{className:"inline w-5 h-5 mr-2"}),"Agendar Agora"]}),l.jsxs("a",{href:"/contact",className:"px-8 py-4 border-2 border-yellow-400 text-yellow-400 font-bold rounded-full text-lg hover:bg-yellow-400 hover:text-slate-900 transition-all duration-300",children:[l.jsx(ss,{className:"inline w-5 h-5 mr-2"}),"Falar Conosco"]})]})]})})]})},P4=()=>{const[t,e]=j.useState([]),[n,r]=j.useState("Todos"),[s,i]=j.useState(null),o=["Todos","Rituais","Iniciao","Eventos"];j.useEffect(()=>{const g=()=>{const k=localStorage.getItem("galleryImages");k&&e(JSON.parse(k))};g();const E=()=>g();window.addEventListener("storage",E);const A=setInterval(g,1e3);return()=>{window.removeEventListener("storage",E),clearInterval(A)}},[]);const u=n==="Todos"?t:t.filter(g=>g.category===n),c=g=>i(g),h=()=>i(null),m=()=>i(g=>(g-1+u.length)%u.length),p=()=>i(g=>(g+1)%u.length);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Galeria Espiritual"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Momentos especiais de nossa jornada espiritual e cerimnias sagradas"})]})}),l.jsx("section",{className:"py-8 bg-slate-800 shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:o.map(g=>l.jsx("button",{onClick:()=>r(g),className:`px-6 py-3 rounded-full font-semibold transition-all duration-300 ${n===g?"bg-yellow-500 text-slate-900 shadow-lg":"bg-slate-700 text-white hover:bg-slate-600"}`,children:g},g))})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:u.length===0?l.jsxs("div",{className:"col-span-full text-center py-20",children:[l.jsx(ll,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Nenhuma imagem encontrada"}),l.jsx("p",{className:"text-xl text-white",children:"Adicione imagens ao painel administrativo."})]}):u.map((g,E)=>l.jsxs("div",{onClick:()=>c(E),className:"relative group overflow-hidden rounded-2xl shadow-lg border border-slate-700 cursor-pointer transition-transform hover:scale-[1.02]",children:[l.jsx("img",{src:g.src,alt:"",className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex justify-center items-center",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:g.category})})]},g.id))})}),s!==null&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:l.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",children:[l.jsx("button",{onClick:h,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors duration-300",children:l.jsx(Yo,{className:"w-6 h-6"})}),l.jsx("img",{src:u[s].src,alt:"",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg text-center",children:l.jsx("span",{className:"inline-block bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:u[s].category})}),l.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Gh,{className:"w-6 h-6"})}),l.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Kh,{className:"w-6 h-6"})})]})})]})},D4=()=>{const[t,e]=j.useState({name:"",email:"",phone:"",message:""}),[n,r]=j.useState({title:"Luz Espiritual",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com"});j.useEffect(()=>{const c=localStorage.getItem("siteSettings");c&&r(h=>({...h,...JSON.parse(c)}))},[]);const s=c=>{const{name:h,value:m}=c.target;e(p=>({...p,[h]:m}))},i=c=>{if(c.preventDefault(),!t.name||!t.email||!t.message){ee.error("Por favor, preencha todos os campos obrigatrios");return}ee.success("Mensagem enviada com sucesso! Retornaremos em breve."),e({name:"",email:"",phone:"",message:""})},o=()=>{const c=n.phone.replace(/\D/g,""),h=`Ol! Gostaria de mais informaes sobre os servios do ${n.title}.`,m=`https://wa.me/55${c}?text=${encodeURIComponent(h)}`;window.open(m,"_blank")},u=()=>{const h=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(n.address)}`;window.open(h,"_blank")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Entre em Contato"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto leading-relaxed",children:"Estamos aqui para orientar sua jornada espiritual. Entre em contato conosco para agendar uma consulta ou esclarecer suas dvidas."})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-8 font-serif",children:"Informaes de Contato"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(ti,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Endereo"}),l.jsx("p",{className:"text-white mb-3",children:n.address}),l.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300",children:[l.jsx(ti,{className:"w-4 h-4"}),"Ver Rota no Google Maps"]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(ss,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Telefone/WhatsApp"}),l.jsx("p",{className:"text-white",children:n.phone}),l.jsxs("button",{onClick:o,className:"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx($l,{className:"w-4 h-4"}),"Chamar no WhatsApp"]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(ei,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"E-mail"}),l.jsx("p",{className:"text-white",children:n.email})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(zt,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Horrio de Funcionamento"}),l.jsx("p",{className:"text-white",children:n.hours})]})]})]})]})}),l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-8 font-serif",children:"Envie sua Mensagem"}),l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Nome Completo *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu nome completo",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"E-mail *"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu e-mail",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Telefone/WhatsApp"}),l.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"(00) 00000-0000"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Mensagem *"}),l.jsx("textarea",{id:"message",name:"message",rows:6,value:t.message,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300 resize-none",placeholder:"Descreva como podemos ajud-lo em sua jornada espiritual...",required:!0})]}),l.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-slate-900 font-bold py-4 px-6 rounded-lg hover:bg-yellow-400 transform hover:scale-[1.02] transition-all duration-300 shadow-lg flex items-center justify-center gap-2",children:[l.jsx(h4,{className:"w-5 h-5"}),"Enviar Mensagem"]})]}),l.jsx("div",{className:"mt-8 p-4 bg-slate-800 rounded-lg border border-yellow-500/30",children:l.jsxs("p",{className:"text-sm text-white text-center",children:[l.jsx("strong",{children:"Resposta Garantida:"})," Todas as mensagens so respondidas em at 24 horas. Para urgncias, utilize o WhatsApp."]})})]})]}),l.jsxs("div",{className:"mt-16 bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-8 text-white text-center border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 font-serif text-yellow-400",children:"Orientao Espiritual Personalizada"}),l.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Cada consulta  nica, assim como cada caminho espiritual. Estamos aqui para orient-lo com sabedoria ancestral e dedicao."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx($l,{className:"w-5 h-5"}),"Conversar no WhatsApp"]}),l.jsxs("a",{href:"/booking",className:"inline-flex items-center gap-2 px-6 py-3 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:[l.jsx(zt,{className:"w-5 h-5"}),"Agendar Consulta"]})]})]})]})})},V4=()=>{var C;const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState({phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",calendarEmail:"agenda@luzespiritual.com"}),[o,u]=j.useState({name:"",email:"",phone:"",service:"",date:"",time:"",message:""}),[c,h]=j.useState(1),[m,p]=j.useState(!1);j.useEffect(()=>{const O=localStorage.getItem("services");if(O){const y=JSON.parse(O);e(y.filter(w=>w.active))}const L=localStorage.getItem("siteSettings");L&&i(JSON.parse(L));const x=localStorage.getItem("blockedTimes");x&&r(JSON.parse(x))},[]);const g=["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"],E=O=>n.some(L=>L.date===O&&L.isFullDay),A=(O,L)=>n.some(x=>x.date!==O?!1:x.isFullDay?!0:x.startTime&&x.endTime?L>=x.startTime&&L<=x.endTime:!1),k=O=>E(O)?[]:g.filter(L=>!A(O,L)),R=(O,L)=>{const x=n.find(y=>y.date!==O?!1:y.isFullDay?!0:L&&y.startTime&&y.endTime?L>=y.startTime&&L<=y.endTime:!1);return(x==null?void 0:x.reason)||"Ocupado na agenda"},T=O=>{const{name:L,value:x}=O.target;u(L==="date"?y=>({...y,[L]:x,time:""}):y=>({...y,[L]:x}))},_=()=>{if(c===1&&(!o.name||!o.email||!o.phone)){ee.error("Preencha todos os campos obrigatrios");return}if(c===2&&!o.service){ee.error("Selecione um servio");return}if(c===3&&(!o.date||!o.time)){ee.error("Selecione data e horrio");return}if(c===3){if(E(o.date)){ee.error(`Esta data est bloqueada: ${R(o.date)}`);return}if(A(o.date,o.time)){ee.error(`Este horrio est bloqueado: ${R(o.date,o.time)}`);return}}h(O=>O+1)},N=()=>{const O=t.find(y=>y.id===parseInt(o.service)),L=`
 *AGENDAMENTO - LUZ ESPIRITUAL* 

*Nome:* ${o.name}
*Email:* ${o.email}
*Telefone:* ${o.phone}

*Servio:* ${O==null?void 0:O.title}
*Data:* ${new Date(o.date).toLocaleDateString("pt-BR")}
*Horrio:* ${o.time}

*Mensagem:* ${o.message||"Nenhuma mensagem adicional"}

_Agendamento realizado atravs do site_
    `.trim(),x=`https://wa.me/55${s.phone.replace(/\D/g,"")}?text=${encodeURIComponent(L)}`;window.open(x,"_blank"),p(!0),ee.success("Agendamento enviado! Voc ser redirecionado para o WhatsApp.")};return m?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-2xl p-8 text-center",children:[l.jsx(LT,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Agendamento Enviado!"}),l.jsx("p",{className:"text-white mb-6",children:"Seu agendamento foi enviado com sucesso. Em breve entraremos em contato para confirmar."}),l.jsx("button",{onClick:()=>{p(!1),h(1),u({name:"",email:"",phone:"",service:"",date:"",time:"",message:""})},className:"w-full px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:"Fazer Novo Agendamento"})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-b border-yellow-500/30",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Agende Sua Consulta"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Reserve seu momento de conexo espiritual e transformao"})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-slate-800/80 px-8 py-6 border-b border-yellow-500/30",children:[l.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(O=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${c>=O?"bg-yellow-500 text-slate-900":"bg-slate-700 text-gray-400"}`,children:O}),O<4&&l.jsx("div",{className:`w-16 h-1 mx-2 ${c>O?"bg-yellow-500":"bg-slate-700"}`})]},O))}),l.jsxs("div",{className:"flex justify-between mt-4 text-sm font-medium",children:[l.jsx("span",{className:c>=1?"text-yellow-400":"text-gray-400",children:"Dados Pessoais"}),l.jsx("span",{className:c>=2?"text-yellow-400":"text-gray-400",children:"Servio"}),l.jsx("span",{className:c>=3?"text-yellow-400":"text-gray-400",children:"Data e Hora"}),l.jsx("span",{className:c>=4?"text-yellow-400":"text-gray-400",children:"Confirmao"})]})]}),l.jsxs("div",{className:"p-8",children:[c===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Seus Dados Pessoais"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(ql,{className:"w-4 h-4 inline mr-2"}),"Nome Completo *"]}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:T,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"Seu nome completo",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(ei,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:T,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(ss,{className:"w-4 h-4 inline mr-2"}),"Telefone/WhatsApp *"]}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:T,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"(00) 00000-0000",required:!0})]})]}),c===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Escolha o Servio"}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl text-yellow-400 mb-4",children:"Nossos servios esto sendo configurados."}),l.jsx("p",{className:"text-white",children:"Entre em contato conosco pelo WhatsApp para agendar."}),l.jsx("a",{href:`https://wa.me/55${s.phone.replace(/\D/g,"")}`,className:"inline-block mt-4 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors duration-300",children:"Contatar WhatsApp"})]}):l.jsx("div",{className:"space-y-4",children:t.map(O=>l.jsxs("label",{className:`block p-6 border-2 rounded-lg cursor-pointer transition-colors duration-300 ${o.service===O.id.toString()?"border-yellow-500 bg-slate-800":"border-yellow-500/30 hover:border-yellow-500"}`,children:[l.jsx("input",{type:"radio",name:"service",value:O.id,checked:o.service===O.id.toString(),onChange:T,className:"sr-only"}),l.jsxs("div",{className:"flex items-start gap-4",children:[O.image&&l.jsx("img",{src:O.image,alt:O.title,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:O.title}),l.jsx("p",{className:"text-white mt-2",children:O.description}),l.jsxs("div",{className:"flex gap-4 mt-3",children:[l.jsxs("span",{className:"text-sm text-yellow-400 font-medium",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-1"}),O.duration]}),l.jsx("span",{className:"text-sm text-yellow-400 font-bold",children:O.price})]})]})]})]},O.id))})]}),c===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Data e Horrio"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(gr,{className:"w-4 h-4 inline mr-2"}),"Data Preferida"]}),l.jsx("input",{type:"date",name:"date",value:o.date,onChange:T,min:new Date().toISOString().split("T")[0],className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none"}),o.date&&E(o.date)&&l.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(y4,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm font-medium",children:["Data indisponvel: ",R(o.date)]})]})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"Horrio Preferido"]}),l.jsxs("select",{name:"time",value:o.time,onChange:T,disabled:!o.date||E(o.date),className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none disabled:bg-slate-700 disabled:cursor-not-allowed",children:[l.jsx("option",{value:"",children:o.date?E(o.date)?"Data indisponvel":"Selecione um horrio":"Selecione uma data primeiro"}),o.date&&!E(o.date)&&k(o.date).map(O=>l.jsx("option",{value:O,children:O},O))]}),o.date&&!E(o.date)&&l.jsx("div",{className:"mt-2",children:g.filter(O=>A(o.date,O)).length>0&&l.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Horrios indisponveis nesta data:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:g.filter(O=>A(o.date,O)).map(O=>l.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded",children:O},O))})]})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(r4,{className:"w-4 h-4 inline mr-2"}),"Mensagem Adicional (Opcional)"]}),l.jsx("textarea",{name:"message",value:o.message,onChange:T,rows:4,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"Alguma informao adicional que gostaria de compartilhar..."})]}),l.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border border-yellow-500/30",children:[l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Informaes Importantes:"}),l.jsxs("ul",{className:"text-sm text-white space-y-1",children:[l.jsxs("li",{children:[" Funcionamento: Segunda a Sbado, ",s.hours]}),l.jsx("li",{children:" Confirmao ser feita por WhatsApp"}),l.jsx("li",{children:" Chegue 10 minutos antes do horrio agendado"})]})]})]}),c===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Confirme seus Dados"}),l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg border border-yellow-500/30 space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Dados Pessoais:"}),l.jsx("p",{className:"text-white",children:o.name}),l.jsx("p",{className:"text-white",children:o.email}),l.jsx("p",{className:"text-white",children:o.phone})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Servio:"}),l.jsx("p",{className:"text-white",children:(C=t.find(O=>O.id===parseInt(o.service)))==null?void 0:C.title})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Data e Horrio:"}),l.jsxs("p",{className:"text-white",children:[new Date(o.date).toLocaleDateString("pt-BR")," s ",o.time]})]}),o.message&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Mensagem:"}),l.jsx("p",{className:"text-white",children:o.message})]})]}),l.jsx("div",{className:"bg-slate-800 p-4 rounded-lg border border-yellow-500/30",children:l.jsxs("p",{className:"text-white text-sm",children:[l.jsx("strong",{children:"Prximo passo:"})," Ao confirmar, voc ser redirecionado para o WhatsApp para finalizar o agendamento diretamente conosco."]})})]}),l.jsxs("div",{className:"flex justify-between mt-8",children:[c>1&&l.jsx("button",{onClick:()=>h(O=>O-1),className:"px-6 py-3 border-2 border-yellow-500 text-yellow-400 font-semibold rounded-lg hover:bg-yellow-500 hover:text-slate-900 transition-colors duration-300",children:"Voltar"}),l.jsx("div",{className:"flex-1"}),c<4?l.jsx("button",{onClick:_,className:"px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:"Prximo"}):l.jsx("button",{onClick:N,className:"px-8 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors duration-300",children:"Confirmar Agendamento"})]})]})]}),l.jsxs("div",{className:"mt-12 bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center",children:"Outras Formas de Contato"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(ss,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"WhatsApp"}),l.jsx("p",{className:"text-white",children:s.phone})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(ei,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Email"}),l.jsx("p",{className:"text-white",children:s.calendarEmail})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(ti,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Endereo"}),l.jsx("p",{className:"text-white text-sm",children:s.address})]})]})]})]})]})},O4=()=>{};var eg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},M4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,m=i>>2,p=(i&3)<<4|u>>4;let g=(u&15)<<2|h>>6,E=h&63;c||(E=64,o||(g=64)),r.push(n[m],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Qv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||h==null||p==null)throw new L4;const g=i<<2|u>>4;if(r.push(g),h!==64){const E=u<<4&240|h>>2;if(r.push(E),p!==64){const A=h<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class L4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const F4=function(t){const e=Qv(t);return Xv.encodeByteArray(e,!0)},Hl=function(t){return F4(t).replace(/\./g,"")},U4=function(t){try{return Xv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=()=>z4().__FIREBASE_DEFAULTS__,B4=()=>{if(typeof process>"u"||typeof eg>"u")return;const t=eg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&U4(t[1]);return e&&JSON.parse(e)},pf=()=>{try{return O4()||$4()||B4()||q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H4=t=>{var e,n;return(n=(e=pf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Yv=t=>{const e=H4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jv=()=>{var t;return(t=pf())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Zv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hl(JSON.stringify(n)),Hl(JSON.stringify(o)),""].join(".")}const uo={};function G4(){const t={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?t.emulator.push(e):t.prod.push(e);return t}function K4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tg=!1;function tx(t,e){if(typeof window>"u"||typeof document>"u"||!Iu(window.location.host)||uo[t]===e||uo[t]||tg)return;uo[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=G4().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,E){g.setAttribute("width","24"),g.setAttribute("id",E),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{tg=!0,o()},g}function m(g,E){g.setAttribute("id",E),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=K4(r),E=n("text"),A=document.getElementById(E)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),T=n("preprendIcon"),_=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;u(N),m(R,k);const C=h();c(_,T),N.append(_,A,R,C),document.body.appendChild(N)}i?(A.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function X4(){var e;const t=(e=pf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y4(){return!X4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J4(){try{return typeof indexedDB=="object"}catch{return!1}}function Z4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eN,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nx.prototype.create)}}class nx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?tN(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new ds(s,u,r)}}function tN(t,e){return t.replace(nN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nN=/\{\$([^}]+)}/g;function Wl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ng(i)&&ng(o)){if(!Wl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ng(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new W4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iN(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sN(t){return t===Br?void 0:t}function iN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const aN={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},lN=le.INFO,uN={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},cN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=uN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rx{constructor(e){this.name=e,this._logLevel=lN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const hN=(t,e)=>e.some(n=>t instanceof n);let rg,sg;function dN(){return rg||(rg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fN(){return sg||(sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sx=new WeakMap,Xh=new WeakMap,ix=new WeakMap,Uc=new WeakMap,gf=new WeakMap;function mN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(yr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sx.set(n,t)}).catch(()=>{}),gf.set(e,t),e}function pN(t){if(Xh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Xh.set(t,e)}let Yh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ix.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gN(t){Yh=t(Yh)}function yN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zc(this),e,...n);return ix.set(r,e.sort?e.sort():[e]),yr(r)}:fN().includes(t)?function(...e){return t.apply(zc(this),e),yr(sx.get(this))}:function(...e){return yr(t.apply(zc(this),e))}}function vN(t){return typeof t=="function"?yN(t):(t instanceof IDBTransaction&&pN(t),hN(t,dN())?new Proxy(t,Yh):t)}function yr(t){if(t instanceof IDBRequest)return mN(t);if(Uc.has(t))return Uc.get(t);const e=vN(t);return e!==t&&(Uc.set(t,e),gf.set(e,t)),e}const zc=t=>gf.get(t);function xN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=yr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(yr(o.result),c.oldVersion,c.newVersion,yr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const _N=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],$c=new Map;function ig(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($c.get(e))return $c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||_N.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return $c.set(e,i),i}gN(t=>({...t,get:(e,n,r)=>ig(e,n)||t.get(e,n,r),has:(e,n)=>!!ig(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jh="@firebase/app",og="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new rx("@firebase/app"),NN="@firebase/app-compat",SN="@firebase/analytics-compat",bN="@firebase/analytics",IN="@firebase/app-check-compat",CN="@firebase/app-check",AN="@firebase/auth",kN="@firebase/auth-compat",RN="@firebase/database",jN="@firebase/data-connect",PN="@firebase/database-compat",DN="@firebase/functions",VN="@firebase/functions-compat",ON="@firebase/installations",MN="@firebase/installations-compat",LN="@firebase/messaging",FN="@firebase/messaging-compat",UN="@firebase/performance",zN="@firebase/performance-compat",$N="@firebase/remote-config",BN="@firebase/remote-config-compat",qN="@firebase/storage",HN="@firebase/storage-compat",WN="@firebase/firestore",GN="@firebase/ai",KN="@firebase/firestore-compat",QN="firebase",XN="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="[DEFAULT]",YN={[Jh]:"fire-core",[NN]:"fire-core-compat",[bN]:"fire-analytics",[SN]:"fire-analytics-compat",[CN]:"fire-app-check",[IN]:"fire-app-check-compat",[AN]:"fire-auth",[kN]:"fire-auth-compat",[RN]:"fire-rtdb",[jN]:"fire-data-connect",[PN]:"fire-rtdb-compat",[DN]:"fire-fn",[VN]:"fire-fn-compat",[ON]:"fire-iid",[MN]:"fire-iid-compat",[LN]:"fire-fcm",[FN]:"fire-fcm-compat",[UN]:"fire-perf",[zN]:"fire-perf-compat",[$N]:"fire-rc",[BN]:"fire-rc-compat",[qN]:"fire-gcs",[HN]:"fire-gcs-compat",[WN]:"fire-fst",[KN]:"fire-fst-compat",[GN]:"fire-vertex","fire-js":"fire-js",[QN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,JN=new Map,ed=new Map;function ag(t,e){try{t.container.addComponent(e)}catch(n){Mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Do(t){const e=t.name;if(ed.has(e))return Mn.debug(`There were multiple attempts to register component ${e}.`),!1;ed.set(e,t);for(const n of Gl.values())ag(n,t);for(const n of JN.values())ag(n,t);return!0}function ox(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ax(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new nx("app","Firebase",ZN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=XN;function ux(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zh,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw vr.create("bad-app-name",{appName:String(s)});if(n||(n=Jv()),!n)throw vr.create("no-options");const i=Gl.get(s);if(i){if(Wl(n,i.options)&&Wl(r,i.config))return i;throw vr.create("duplicate-app",{appName:s})}const o=new oN(s);for(const c of ed.values())o.addComponent(c);const u=new eS(n,r,o);return Gl.set(s,u),u}function cx(t=Zh){const e=Gl.get(t);if(!e&&t===Zh&&Jv())return ux();if(!e)throw vr.create("no-app",{appName:t});return e}function xr(t,e,n){let r=YN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mn.warn(o.join(" "));return}Do(new ni(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebase-heartbeat-database",nS=1,Vo="firebase-heartbeat-store";let Bc=null;function hx(){return Bc||(Bc=xN(tS,nS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vo)}catch(n){console.warn(n)}}}}).catch(t=>{throw vr.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function rS(t){try{const n=(await hx()).transaction(Vo),r=await n.objectStore(Vo).get(dx(t));return await n.done,r}catch(e){if(e instanceof ds)Mn.warn(e.message);else{const n=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mn.warn(n.message)}}}async function lg(t,e){try{const r=(await hx()).transaction(Vo,"readwrite");await r.objectStore(Vo).put(e,dx(t)),await r.done}catch(n){if(n instanceof ds)Mn.warn(n.message);else{const r=vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mn.warn(r.message)}}}function dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=1024,iS=30;class oS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ug();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>iS){const o=uS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ug(),{heartbeatsToSend:r,unsentEntries:s}=aS(this._heartbeatsCache.heartbeats),i=Hl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Mn.warn(n),""}}}function ug(){return new Date().toISOString().substring(0,10)}function aS(t,e=sS){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),cg(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class lS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J4()?Z4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return lg(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function cg(t){return Hl(JSON.stringify({version:2,heartbeats:t})).length}function uS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){Do(new ni("platform-logger",e=>new EN(e),"PRIVATE")),Do(new ni("heartbeat",e=>new oS(e),"PRIVATE")),xr(Jh,og,t),xr(Jh,og,"esm2020"),xr("fire-js","")}cS("");var hS="firebase",dS="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(hS,dS,"app");var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _r,fx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,y){function w(){}w.prototype=y.prototype,x.F=y.prototype,x.prototype=new w,x.prototype.constructor=x,x.D=function(S,I,D){for(var b=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)b[$e-2]=arguments[$e];return y.prototype[I].apply(S,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,y,w){w||(w=0);const S=Array(16);if(typeof y=="string")for(var I=0;I<16;++I)S[I]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(I=0;I<16;++I)S[I]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=x.g[0],w=x.g[1],I=x.g[2];let D=x.g[3],b;b=y+(D^w&(I^D))+S[0]+3614090360&4294967295,y=w+(b<<7&4294967295|b>>>25),b=D+(I^y&(w^I))+S[1]+3905402710&4294967295,D=y+(b<<12&4294967295|b>>>20),b=I+(w^D&(y^w))+S[2]+606105819&4294967295,I=D+(b<<17&4294967295|b>>>15),b=w+(y^I&(D^y))+S[3]+3250441966&4294967295,w=I+(b<<22&4294967295|b>>>10),b=y+(D^w&(I^D))+S[4]+4118548399&4294967295,y=w+(b<<7&4294967295|b>>>25),b=D+(I^y&(w^I))+S[5]+1200080426&4294967295,D=y+(b<<12&4294967295|b>>>20),b=I+(w^D&(y^w))+S[6]+2821735955&4294967295,I=D+(b<<17&4294967295|b>>>15),b=w+(y^I&(D^y))+S[7]+4249261313&4294967295,w=I+(b<<22&4294967295|b>>>10),b=y+(D^w&(I^D))+S[8]+1770035416&4294967295,y=w+(b<<7&4294967295|b>>>25),b=D+(I^y&(w^I))+S[9]+2336552879&4294967295,D=y+(b<<12&4294967295|b>>>20),b=I+(w^D&(y^w))+S[10]+4294925233&4294967295,I=D+(b<<17&4294967295|b>>>15),b=w+(y^I&(D^y))+S[11]+2304563134&4294967295,w=I+(b<<22&4294967295|b>>>10),b=y+(D^w&(I^D))+S[12]+1804603682&4294967295,y=w+(b<<7&4294967295|b>>>25),b=D+(I^y&(w^I))+S[13]+4254626195&4294967295,D=y+(b<<12&4294967295|b>>>20),b=I+(w^D&(y^w))+S[14]+2792965006&4294967295,I=D+(b<<17&4294967295|b>>>15),b=w+(y^I&(D^y))+S[15]+1236535329&4294967295,w=I+(b<<22&4294967295|b>>>10),b=y+(I^D&(w^I))+S[1]+4129170786&4294967295,y=w+(b<<5&4294967295|b>>>27),b=D+(w^I&(y^w))+S[6]+3225465664&4294967295,D=y+(b<<9&4294967295|b>>>23),b=I+(y^w&(D^y))+S[11]+643717713&4294967295,I=D+(b<<14&4294967295|b>>>18),b=w+(D^y&(I^D))+S[0]+3921069994&4294967295,w=I+(b<<20&4294967295|b>>>12),b=y+(I^D&(w^I))+S[5]+3593408605&4294967295,y=w+(b<<5&4294967295|b>>>27),b=D+(w^I&(y^w))+S[10]+38016083&4294967295,D=y+(b<<9&4294967295|b>>>23),b=I+(y^w&(D^y))+S[15]+3634488961&4294967295,I=D+(b<<14&4294967295|b>>>18),b=w+(D^y&(I^D))+S[4]+3889429448&4294967295,w=I+(b<<20&4294967295|b>>>12),b=y+(I^D&(w^I))+S[9]+568446438&4294967295,y=w+(b<<5&4294967295|b>>>27),b=D+(w^I&(y^w))+S[14]+3275163606&4294967295,D=y+(b<<9&4294967295|b>>>23),b=I+(y^w&(D^y))+S[3]+4107603335&4294967295,I=D+(b<<14&4294967295|b>>>18),b=w+(D^y&(I^D))+S[8]+1163531501&4294967295,w=I+(b<<20&4294967295|b>>>12),b=y+(I^D&(w^I))+S[13]+2850285829&4294967295,y=w+(b<<5&4294967295|b>>>27),b=D+(w^I&(y^w))+S[2]+4243563512&4294967295,D=y+(b<<9&4294967295|b>>>23),b=I+(y^w&(D^y))+S[7]+1735328473&4294967295,I=D+(b<<14&4294967295|b>>>18),b=w+(D^y&(I^D))+S[12]+2368359562&4294967295,w=I+(b<<20&4294967295|b>>>12),b=y+(w^I^D)+S[5]+4294588738&4294967295,y=w+(b<<4&4294967295|b>>>28),b=D+(y^w^I)+S[8]+2272392833&4294967295,D=y+(b<<11&4294967295|b>>>21),b=I+(D^y^w)+S[11]+1839030562&4294967295,I=D+(b<<16&4294967295|b>>>16),b=w+(I^D^y)+S[14]+4259657740&4294967295,w=I+(b<<23&4294967295|b>>>9),b=y+(w^I^D)+S[1]+2763975236&4294967295,y=w+(b<<4&4294967295|b>>>28),b=D+(y^w^I)+S[4]+1272893353&4294967295,D=y+(b<<11&4294967295|b>>>21),b=I+(D^y^w)+S[7]+4139469664&4294967295,I=D+(b<<16&4294967295|b>>>16),b=w+(I^D^y)+S[10]+3200236656&4294967295,w=I+(b<<23&4294967295|b>>>9),b=y+(w^I^D)+S[13]+681279174&4294967295,y=w+(b<<4&4294967295|b>>>28),b=D+(y^w^I)+S[0]+3936430074&4294967295,D=y+(b<<11&4294967295|b>>>21),b=I+(D^y^w)+S[3]+3572445317&4294967295,I=D+(b<<16&4294967295|b>>>16),b=w+(I^D^y)+S[6]+76029189&4294967295,w=I+(b<<23&4294967295|b>>>9),b=y+(w^I^D)+S[9]+3654602809&4294967295,y=w+(b<<4&4294967295|b>>>28),b=D+(y^w^I)+S[12]+3873151461&4294967295,D=y+(b<<11&4294967295|b>>>21),b=I+(D^y^w)+S[15]+530742520&4294967295,I=D+(b<<16&4294967295|b>>>16),b=w+(I^D^y)+S[2]+3299628645&4294967295,w=I+(b<<23&4294967295|b>>>9),b=y+(I^(w|~D))+S[0]+4096336452&4294967295,y=w+(b<<6&4294967295|b>>>26),b=D+(w^(y|~I))+S[7]+1126891415&4294967295,D=y+(b<<10&4294967295|b>>>22),b=I+(y^(D|~w))+S[14]+2878612391&4294967295,I=D+(b<<15&4294967295|b>>>17),b=w+(D^(I|~y))+S[5]+4237533241&4294967295,w=I+(b<<21&4294967295|b>>>11),b=y+(I^(w|~D))+S[12]+1700485571&4294967295,y=w+(b<<6&4294967295|b>>>26),b=D+(w^(y|~I))+S[3]+2399980690&4294967295,D=y+(b<<10&4294967295|b>>>22),b=I+(y^(D|~w))+S[10]+4293915773&4294967295,I=D+(b<<15&4294967295|b>>>17),b=w+(D^(I|~y))+S[1]+2240044497&4294967295,w=I+(b<<21&4294967295|b>>>11),b=y+(I^(w|~D))+S[8]+1873313359&4294967295,y=w+(b<<6&4294967295|b>>>26),b=D+(w^(y|~I))+S[15]+4264355552&4294967295,D=y+(b<<10&4294967295|b>>>22),b=I+(y^(D|~w))+S[6]+2734768916&4294967295,I=D+(b<<15&4294967295|b>>>17),b=w+(D^(I|~y))+S[13]+1309151649&4294967295,w=I+(b<<21&4294967295|b>>>11),b=y+(I^(w|~D))+S[4]+4149444226&4294967295,y=w+(b<<6&4294967295|b>>>26),b=D+(w^(y|~I))+S[11]+3174756917&4294967295,D=y+(b<<10&4294967295|b>>>22),b=I+(y^(D|~w))+S[2]+718787259&4294967295,I=D+(b<<15&4294967295|b>>>17),b=w+(D^(I|~y))+S[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+D&4294967295}r.prototype.v=function(x,y){y===void 0&&(y=x.length);const w=y-this.blockSize,S=this.C;let I=this.h,D=0;for(;D<y;){if(I==0)for(;D<=w;)s(this,x,D),D+=this.blockSize;if(typeof x=="string"){for(;D<y;)if(S[I++]=x.charCodeAt(D++),I==this.blockSize){s(this,S),I=0;break}}else for(;D<y;)if(S[I++]=x[D++],I==this.blockSize){s(this,S),I=0;break}}this.h=I,this.o+=y},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;y=this.o*8;for(var w=x.length-8;w<x.length;++w)x[w]=y&255,y/=256;for(this.v(x),x=Array(16),y=0,w=0;w<4;++w)for(let S=0;S<32;S+=8)x[y++]=this.g[w]>>>S&255;return x};function i(x,y){var w=u;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=y(x)}function o(x,y){this.h=y;const w=[];let S=!0;for(let I=x.length-1;I>=0;I--){const D=x[I]|0;S&&D==y||(w[I]=D,S=!1)}this.g=w}var u={};function c(x){return-128<=x&&x<128?i(x,function(y){return new o([y|0],y<0?-1:0)}):new o([x|0],x<0?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return p;if(x<0)return R(h(-x));const y=[];let w=1;for(let S=0;x>=w;S++)y[S]=x/w|0,w*=4294967296;return new o(y,0)}function m(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return R(m(x.substring(1),y));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=h(Math.pow(y,8));let S=p;for(let D=0;D<x.length;D+=8){var I=Math.min(8,x.length-D);const b=parseInt(x.substring(D,D+I),y);I<8?(I=h(Math.pow(y,I)),S=S.j(I).add(h(b))):(S=S.j(w),S=S.add(h(b)))}return S}var p=c(0),g=c(1),E=c(16777216);t=o.prototype,t.m=function(){if(k(this))return-R(this).m();let x=0,y=1;for(let w=0;w<this.g.length;w++){const S=this.i(w);x+=(S>=0?S:4294967296+S)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(k(this))return"-"+R(this).toString(x);const y=h(Math.pow(x,6));var w=this;let S="";for(;;){const I=C(w,y).g;w=T(w,I.j(y));let D=((w.g.length>0?w.g[0]:w.h)>>>0).toString(x);if(w=I,A(w))return D+S;for(;D.length<6;)D="0"+D;S=D+S}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(let y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function k(x){return x.h==-1}t.l=function(x){return x=T(this,x),k(x)?-1:A(x)?0:1};function R(x){const y=x.g.length,w=[];for(let S=0;S<y;S++)w[S]=~x.g[S];return new o(w,~x.h).add(g)}t.abs=function(){return k(this)?R(this):this},t.add=function(x){const y=Math.max(this.g.length,x.g.length),w=[];let S=0;for(let I=0;I<=y;I++){let D=S+(this.i(I)&65535)+(x.i(I)&65535),b=(D>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);S=b>>>16,D&=65535,b&=65535,w[I]=b<<16|D}return new o(w,w[w.length-1]&-2147483648?-1:0)};function T(x,y){return x.add(R(y))}t.j=function(x){if(A(this)||A(x))return p;if(k(this))return k(x)?R(this).j(R(x)):R(R(this).j(x));if(k(x))return R(this.j(R(x)));if(this.l(E)<0&&x.l(E)<0)return h(this.m()*x.m());const y=this.g.length+x.g.length,w=[];for(var S=0;S<2*y;S++)w[S]=0;for(S=0;S<this.g.length;S++)for(let I=0;I<x.g.length;I++){const D=this.i(S)>>>16,b=this.i(S)&65535,$e=x.i(I)>>>16,Tt=x.i(I)&65535;w[2*S+2*I]+=b*Tt,_(w,2*S+2*I),w[2*S+2*I+1]+=D*Tt,_(w,2*S+2*I+1),w[2*S+2*I+1]+=b*$e,_(w,2*S+2*I+1),w[2*S+2*I+2]+=D*$e,_(w,2*S+2*I+2)}for(x=0;x<y;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=y;x<2*y;x++)w[x]=0;return new o(w,0)};function _(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function N(x,y){this.g=x,this.h=y}function C(x,y){if(A(y))throw Error("division by zero");if(A(x))return new N(p,p);if(k(x))return y=C(R(x),y),new N(R(y.g),R(y.h));if(k(y))return y=C(x,R(y)),new N(R(y.g),y.h);if(x.g.length>30){if(k(x)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,S=y;S.l(x)<=0;)w=O(w),S=O(S);var I=L(w,1),D=L(S,1);for(S=L(S,2),w=L(w,2);!A(S);){var b=D.add(S);b.l(x)<=0&&(I=I.add(w),D=b),S=L(S,1),w=L(w,1)}return y=T(x,I.j(y)),new N(I,y)}for(I=p;x.l(y)>=0;){for(w=Math.max(1,Math.floor(x.m()/y.m())),S=Math.ceil(Math.log(w)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),D=h(w),b=D.j(y);k(b)||b.l(x)>0;)w-=S,D=h(w),b=D.j(y);A(D)&&(D=g),I=I.add(D),x=T(x,b)}return new N(I,x)}t.B=function(x){return C(this,x).h},t.and=function(x){const y=Math.max(this.g.length,x.g.length),w=[];for(let S=0;S<y;S++)w[S]=this.i(S)&x.i(S);return new o(w,this.h&x.h)},t.or=function(x){const y=Math.max(this.g.length,x.g.length),w=[];for(let S=0;S<y;S++)w[S]=this.i(S)|x.i(S);return new o(w,this.h|x.h)},t.xor=function(x){const y=Math.max(this.g.length,x.g.length),w=[];for(let S=0;S<y;S++)w[S]=this.i(S)^x.i(S);return new o(w,this.h^x.h)};function O(x){const y=x.g.length+1,w=[];for(let S=0;S<y;S++)w[S]=x.i(S)<<1|x.i(S-1)>>>31;return new o(w,x.h)}function L(x,y){const w=y>>5;y%=32;const S=x.g.length-w,I=[];for(let D=0;D<S;D++)I[D]=y>0?x.i(D+w)>>>y|x.i(D+w+1)<<32-y:x.i(D+w);return new o(I,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,fx=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,_r=o}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var za=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mx,Xi,px,cl,td,gx,yx,vx;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof za=="object"&&za];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var V=a[v];if(!(V in f))break e;f=f[V]}a=a[a.length-1],v=f[a],d=d(v),d!=v&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(d){var f=[],v;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&f.push([v,d[v]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function c(a,d,f){return a.call.apply(a.bind,arguments)}function h(a,d,f){return h=c,h.apply(null,arguments)}function m(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function p(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(v,V,M){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return d.prototype[V].apply(v,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function E(a){const d=a.length;if(d>0){const f=Array(d);for(let v=0;v<d;v++)f[v]=a[v];return f}return[]}function A(a,d){for(let v=1;v<arguments.length;v++){const V=arguments[v];var f=typeof V;if(f=f!="object"?f:V?Array.isArray(V)?"array":f:"null",f=="array"||f=="object"&&typeof V.length=="number"){f=a.length||0;const M=V.length||0;a.length=f+M;for(let B=0;B<M;B++)a[f+B]=V[B]}else a.push(V)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(a){o.setTimeout(()=>{throw a},0)}function T(){var a=x;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class _{constructor(){this.h=this.g=null}add(d,f){const v=N.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var N=new k(()=>new C,a=>a.reset());class C{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let O,L=!1,x=new _,y=()=>{const a=Promise.resolve(void 0);O=()=>{a.then(w)}};function w(){for(var a;a=T();){try{a.h.call(a.g)}catch(f){R(f)}var d=N;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}L=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a}();function b(a){return/^[\s\xa0]*$/.test(a)}function $e(a,d){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p($e,I),$e.prototype.init=function(a,d){const f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),Dr=0;function on(a,d,f,v,V){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=V,this.key=++Dr,this.da=this.fa=!1}function q(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Q(a,d,f){for(const v in a)d.call(f,a[v],v,a)}function Y(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function ge(a){const d={};for(const f in a)d[f]=a[f];return d}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Kt(a,d){let f,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(f in v)a[f]=v[f];for(let M=0;M<fe.length;M++)f=fe[M],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function Be(a){this.src=a,this.g={},this.h=0}Be.prototype.add=function(a,d,f,v,V){const M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);const B=Je(a,d,v,V);return B>-1?(d=a[B],f||(d.fa=!1)):(d=new on(d,this.src,M,!!v,V),d.fa=f,a.push(d)),d};function Qt(a,d){const f=d.type;if(f in a.g){var v=a.g[f],V=Array.prototype.indexOf.call(v,d,void 0),M;(M=V>=0)&&Array.prototype.splice.call(v,V,1),M&&(q(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function Je(a,d,f,v){for(let V=0;V<a.length;++V){const M=a[V];if(!M.da&&M.listener==d&&M.capture==!!f&&M.ha==v)return V}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),zn={};function yi(a,d,f,v,V){if(Array.isArray(d)){for(let M=0;M<d.length;M++)yi(a,d[M],f,v,V);return null}return f=ia(f),a&&a[Tt]?a.J(d,f,u(v)?!!v.capture:!1,V):vi(a,d,f,!1,v,V)}function vi(a,d,f,v,V,M){if(!d)throw Error("Invalid event type");const B=u(V)?!!V.capture:!!V;let te=wi(a);if(te||(a[Lt]=te=new Be(a)),f=te.add(d,f,v,B,M),f.proxy)return f;if(v=xi(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)D||(V=B),V===void 0&&(V=!1),a.addEventListener(d.toString(),v,V);else if(a.attachEvent)a.attachEvent(sa(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xi(){function a(f){return d.call(a.src,a.listener,f)}const d=$u;return a}function ra(a,d,f,v,V){if(Array.isArray(d))for(var M=0;M<d.length;M++)ra(a,d[M],f,v,V);else v=u(v)?!!v.capture:!!v,f=ia(f),a&&a[Tt]?(a=a.i,M=String(d).toString(),M in a.g&&(d=a.g[M],f=Je(d,f,v,V),f>-1&&(q(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[M],a.h--)))):a&&(a=wi(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Je(d,f,v,V)),(f=a>-1?d[a]:null)&&_i(f))}function _i(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Tt])Qt(d.i,a);else{var f=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(f,v,a.capture):d.detachEvent?d.detachEvent(sa(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=wi(d))?(Qt(f,a),f.h==0&&(f.src=null,d[Lt]=null)):q(a)}}}function sa(a){return a in zn?zn[a]:zn[a]="on"+a}function $u(a,d){if(a.da)a=!0;else{d=new $e(d,this);const f=a.listener,v=a.ha||a.src;a.fa&&_i(a),a=f.call(v,d)}return a}function wi(a){return a=a[Lt],a instanceof Be?a:null}var Ei="__closure_events_fn_"+(Math.random()*1e9>>>0);function ia(a){return typeof a=="function"?a:(a[Ei]||(a[Ei]=function(d){return a.handleEvent(d)}),a[Ei])}function Ze(){S.call(this),this.i=new Be(this),this.M=this,this.G=null}p(Ze,S),Ze.prototype[Tt]=!0,Ze.prototype.removeEventListener=function(a,d,f,v){ra(this,a,d,f,v)};function et(a,d){var f,v=a.G;if(v)for(f=[];v;v=v.G)f.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new I(d,a);else if(d instanceof I)d.target=d.target||a;else{var V=d;d=new I(v,a),Kt(d,V)}V=!0;let M,B;if(f)for(B=f.length-1;B>=0;B--)M=d.g=f[B],V=ys(M,v,!0,d)&&V;if(M=d.g=a,V=ys(M,v,!0,d)&&V,V=ys(M,v,!1,d)&&V,f)for(B=0;B<f.length;B++)M=d.g=f[B],V=ys(M,v,!1,d)&&V}Ze.prototype.N=function(){if(Ze.Z.N.call(this),this.i){var a=this.i;for(const d in a.g){const f=a.g[d];for(let v=0;v<f.length;v++)q(f[v]);delete a.g[d],a.h--}}this.G=null},Ze.prototype.J=function(a,d,f,v){return this.i.add(String(a),d,!1,f,v)},Ze.prototype.K=function(a,d,f,v){return this.i.add(String(a),d,!0,f,v)};function ys(a,d,f,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let V=!0;for(let M=0;M<d.length;++M){const B=d[M];if(B&&!B.da&&B.capture==f){const te=B.listener,qe=B.ha||B.src;B.fa&&Qt(a.i,B),V=te.call(qe,v)!==!1&&V}}return V&&!v.defaultPrevented}function Bu(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function oa(a){a.g=Bu(()=>{a.g=null,a.i&&(a.i=!1,oa(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class qu extends S{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:oa(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(a){S.call(this),this.h=a,this.g={}}p($n,S);var Ti=[];function aa(a){Q(a.g,function(d,f){this.g.hasOwnProperty(f)&&_i(d)},a),a.g={}}$n.prototype.N=function(){$n.Z.N.call(this),aa(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ni=o.JSON.stringify,la=o.JSON.parse,Hu=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function ua(){}function ca(){}var Vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Si(){I.call(this,"d")}p(Si,I);function bi(){I.call(this,"c")}p(bi,I);var Sn={},ha=null;function P(){return ha=ha||new Ze}Sn.Ia="serverreachability";function U(a){I.call(this,Sn.Ia,a)}p(U,I);function oe(a){const d=P();et(d,new U(d))}Sn.STAT_EVENT="statevent";function be(a,d){I.call(this,Sn.STAT_EVENT,a),this.stat=d}p(be,I);function ue(a){const d=P();et(d,new be(d,a))}Sn.Ja="timingevent";function Ne(a,d){I.call(this,Sn.Ja,a),this.size=d}p(Ne,I);function ve(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function Me(){this.g=!0}Me.prototype.ua=function(){this.g=!1};function Wu(a,d,f,v,V,M){a.info(function(){if(a.g)if(M){var B="",te=M.split("&");for(let pe=0;pe<te.length;pe++){var qe=te[pe].split("=");if(qe.length>1){const tt=qe[0];qe=qe[1];const ln=tt.split("_");B=ln.length>=2&&ln[1]=="type"?B+(tt+"="+qe+"&"):B+(tt+"=redacted&")}}}else B=null;else B=M;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+d+`
`+f+`
`+B})}function Gu(a,d,f,v,V,M,B){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+d+`
`+f+`
`+M+" "+B})}function Bn(a,d,f,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+me(a,f)+(v?" "+v:"")})}function Ku(a,d){a.info(function(){return"TIMEOUT: "+d})}Me.prototype.info=function(){};function me(a,d){if(!a.g)return d;if(!d)return null;try{const M=JSON.parse(d);if(M){for(a=0;a<M.length;a++)if(Array.isArray(M[a])){var f=M[a];if(!(f.length<2)){var v=f[1];if(Array.isArray(v)&&!(v.length<1)){var V=v[0];if(V!="noop"&&V!="stop"&&V!="close")for(let B=1;B<v.length;B++)v[B]=""}}}}return Ni(M)}catch{return d}}var De={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},it={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vs;function Qu(){}p(Qu,ua),Qu.prototype.g=function(){return new XMLHttpRequest},vs=new Qu;function Ii(a){return encodeURIComponent(String(a))}function W1(a){var d=1;a=a.split(":");const f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function qn(a,d,f,v){this.j=a,this.i=d,this.l=f,this.S=v||1,this.V=new $n(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wf}function Wf(){this.i=null,this.g="",this.h=!1}var Gf={},Xu={};function Yu(a,d,f){a.M=1,a.A=fa(an(d)),a.u=f,a.R=!0,Kf(a,null)}function Kf(a,d){a.F=Date.now(),da(a),a.B=an(a.A);var f=a.B,v=a.S;Array.isArray(v)||(v=[String(v)]),am(f.i,"t",v),a.C=0,f=a.j.L,a.h=new Wf,a.g=Sm(a.j,f?d:null,!a.u),a.P>0&&(a.O=new qu(h(a.Y,a,a.g),a.P)),d=a.V,f=a.g,v=a.ba;var V="readystatechange";Array.isArray(V)||(V&&(Ti[0]=V.toString()),V=Ti);for(let M=0;M<V.length;M++){const B=yi(f,V[M],v||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=a.J?ge(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),oe(),Wu(a.i,a.v,a.B,a.l,a.S,a.u)}qn.prototype.ba=function(a){a=a.target;const d=this.O;d&&Gn(a)==3?d.j():this.Y(a)},qn.prototype.Y=function(a){try{if(a==this.g)e:{const te=Gn(this.g),qe=this.g.ya(),pe=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||mm(this.g)))){this.K||te!=4||qe==7||(qe==8||pe<=0?oe(3):oe(2)),Ju(this);var d=this.g.ca();this.X=d;var f=G1(this);if(this.o=d==200,Gu(this.i,this.v,this.B,this.l,this.S,te,d),this.o){if(this.U&&!this.L){t:{if(this.g){var v,V=this.g;if((v=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(v)){var M=v;break t}}M=null}if(a=M)Bn(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Zu(this,a);else{this.o=!1,this.m=3,ue(12),Or(this),Ci(this);break e}}if(this.R){a=!0;let tt;for(;!this.K&&this.C<f.length;)if(tt=K1(this,f),tt==Xu){te==4&&(this.m=4,ue(14),a=!1),Bn(this.i,this.l,null,"[Incomplete Response]");break}else if(tt==Gf){this.m=4,ue(15),Bn(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else Bn(this.i,this.l,tt,null),Zu(this,tt);if(Qf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||f.length!=0||this.h.h||(this.m=1,ue(16),a=!1),this.o=this.o&&a,!a)Bn(this.i,this.l,f,"[Invalid Chunked Response]"),Or(this),Ci(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ac(B),B.P=!0,ue(11))}}else Bn(this.i,this.l,f,null),Zu(this,f);te==4&&Or(this),this.o&&!this.K&&(te==4?wm(this.j,this):(this.o=!1,da(this)))}else l_(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Or(this),Ci(this)}}}catch{}finally{}};function G1(a){if(!Qf(a))return a.g.la();const d=mm(a.g);if(d==="")return"";let f="";const v=d.length,V=Gn(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Or(a),Ci(a),"";a.h.i=new o.TextDecoder}for(let M=0;M<v;M++)a.h.h=!0,f+=a.h.i.decode(d[M],{stream:!(V&&M==v-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function Qf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function K1(a,d){var f=a.C,v=d.indexOf(`
`,f);return v==-1?Xu:(f=Number(d.substring(f,v)),isNaN(f)?Gf:(v+=1,v+f>d.length?Xu:(d=d.slice(v,v+f),a.C=v+f,d)))}qn.prototype.cancel=function(){this.K=!0,Or(this)};function da(a){a.T=Date.now()+a.H,Xf(a,a.H)}function Xf(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ve(h(a.aa,a),d)}function Ju(a){a.D&&(o.clearTimeout(a.D),a.D=null)}qn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(Ku(this.i,this.B),this.M!=2&&(oe(),ue(17)),Or(this),this.m=2,Ci(this)):Xf(this,this.T-a)};function Ci(a){a.j.I==0||a.K||wm(a.j,a)}function Or(a){Ju(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,aa(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Zu(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||ec(f.h,a))){if(!a.L&&ec(f.h,a)&&f.I==3){try{var v=f.Ba.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)va(f),ga(f);else break e;oc(f),ue(18)}}else f.xa=V[1],0<f.xa-f.K&&V[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=ve(h(f.Va,f),6e3));Zf(f.h)<=1&&f.ta&&(f.ta=void 0)}else Lr(f,11)}else if((a.L||f.g==a)&&va(f),!b(d))for(V=f.Ba.g.parse(d),d=0;d<V.length;d++){let pe=V[d];const tt=pe[0];if(!(tt<=f.K))if(f.K=tt,pe=pe[1],f.I==2)if(pe[0]=="c"){f.M=pe[1],f.ba=pe[2];const ln=pe[3];ln!=null&&(f.ka=ln,f.j.info("VER="+f.ka));const Fr=pe[4];Fr!=null&&(f.za=Fr,f.j.info("SVER="+f.za));const Kn=pe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(v=1.5*Kn,f.O=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const Qn=a.g;if(Qn){const _a=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var M=v.h;M.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(tc(M,M.h),M.h=null))}if(v.G){const lc=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(v.wa=lc,xe(v.J,v.G,lc))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),v=f;var B=a;if(v.na=Nm(v,v.L?v.ba:null,v.W),B.L){em(v.h,B);var te=B,qe=v.O;qe&&(te.H=qe),te.D&&(Ju(te),da(te)),v.g=B}else xm(v);f.i.length>0&&ya(f)}else pe[0]!="stop"&&pe[0]!="close"||Lr(f,7);else f.I==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Lr(f,7):ic(f):pe[0]!="noop"&&f.l&&f.l.qa(pe),f.A=0)}}oe(4)}catch{}}var Q1=class{constructor(a,d){this.g=a,this.map=d}};function Yf(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Zf(a){return a.h?1:a.g?a.g.size:0}function ec(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function tc(a,d){a.g?a.g.add(d):a.h=d}function em(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Yf.prototype.cancel=function(){if(this.i=tm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function tm(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.G);return d}return E(a.i)}var nm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X1(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){const v=a[f].indexOf("=");let V,M=null;v>=0?(V=a[f].substring(0,v),M=a[f].substring(v+1)):V=a[f],d(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Hn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof Hn?(this.l=a.l,Ai(this,a.j),this.o=a.o,this.g=a.g,ki(this,a.u),this.h=a.h,nc(this,lm(a.i)),this.m=a.m):a&&(d=String(a).match(nm))?(this.l=!1,Ai(this,d[1]||"",!0),this.o=Ri(d[2]||""),this.g=Ri(d[3]||"",!0),ki(this,d[4]),this.h=Ri(d[5]||"",!0),nc(this,d[6]||"",!0),this.m=Ri(d[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}Hn.prototype.toString=function(){const a=[];var d=this.j;d&&a.push(ji(d,rm,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ji(d,rm,!0),"@"),a.push(Ii(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(ji(f,f.charAt(0)=="/"?Z1:J1,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",ji(f,t_)),a.join("")},Hn.prototype.resolve=function(a){const d=an(this);let f=!!a.j;f?Ai(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var v=a.h;if(f)ki(d,a.u);else if(f=!!a.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var V=d.h.lastIndexOf("/");V!=-1&&(v=d.h.slice(0,V+1)+v)}if(V=v,V==".."||V==".")v="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){v=V.lastIndexOf("/",0)==0,V=V.split("/");const M=[];for(let B=0;B<V.length;){const te=V[B++];te=="."?v&&B==V.length&&M.push(""):te==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),v&&B==V.length&&M.push("")):(M.push(te),v=!0)}v=M.join("/")}else v=V}return f?d.h=v:f=a.i.toString()!=="",f?nc(d,lm(a.i)):f=!!a.m,f&&(d.m=a.m),d};function an(a){return new Hn(a)}function Ai(a,d,f){a.j=f?Ri(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ki(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function nc(a,d,f){d instanceof Pi?(a.i=d,n_(a.i,a.l)):(f||(d=ji(d,e_)),a.i=new Pi(d,a.l))}function xe(a,d,f){a.i.set(d,f)}function fa(a){return xe(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function Ri(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ji(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,Y1),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Y1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rm=/[#\/\?@]/g,J1=/[#\?:]/g,Z1=/[#\?]/g,e_=/[#\?@]/g,t_=/#/g;function Pi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Mr(a){a.g||(a.g=new Map,a.h=0,a.i&&X1(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Pi.prototype,t.add=function(a,d){Mr(this),this.i=null,a=xs(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function sm(a,d){Mr(a),d=xs(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function im(a,d){return Mr(a),d=xs(a,d),a.g.has(d)}t.forEach=function(a,d){Mr(this),this.g.forEach(function(f,v){f.forEach(function(V){a.call(d,V,v,this)},this)},this)};function om(a,d){Mr(a);let f=[];if(typeof d=="string")im(a,d)&&(f=f.concat(a.g.get(xs(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}t.set=function(a,d){return Mr(this),this.i=null,a=xs(this,a),im(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=om(this,a),a.length>0?String(a[0]):d):d};function am(a,d,f){sm(a,d),f.length>0&&(a.i=null,a.g.set(xs(a,d),E(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(let v=0;v<d.length;v++){var f=d[v];const V=Ii(f);f=om(this,f);for(let M=0;M<f.length;M++){let B=V;f[M]!==""&&(B+="="+Ii(f[M])),a.push(B)}}return this.i=a.join("&")};function lm(a){const d=new Pi;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function xs(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function n_(a,d){d&&!a.j&&(Mr(a),a.i=null,a.g.forEach(function(f,v){const V=v.toLowerCase();v!=V&&(sm(this,v),am(this,V,f))},a)),a.j=d}function r_(a,d){const f=new Me;if(o.Image){const v=new Image;v.onload=m(Wn,f,"TestLoadImage: loaded",!0,d,v),v.onerror=m(Wn,f,"TestLoadImage: error",!1,d,v),v.onabort=m(Wn,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=m(Wn,f,"TestLoadImage: timeout",!1,d,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function s_(a,d){const f=new Me,v=new AbortController,V=setTimeout(()=>{v.abort(),Wn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(M=>{clearTimeout(V),M.ok?Wn(f,"TestPingServer: ok",!0,d):Wn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),Wn(f,"TestPingServer: error",!1,d)})}function Wn(a,d,f,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(f)}catch{}}function i_(){this.g=new Hu}function rc(a){this.i=a.Sb||null,this.h=a.ab||!1}p(rc,ua),rc.prototype.g=function(){return new ma(this.i,this.h)};function ma(a,d){Ze.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ma,Ze),t=ma.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Vi(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;um(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function um(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Di(this):Vi(this),this.readyState==3&&um(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,Di(this))},t.Na=function(a){this.g&&(this.response=a,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Vi(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Vi(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function cm(a){let d="";return Q(a,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function sc(a,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=cm(f),typeof a=="string"?f!=null&&Ii(f):xe(a,d,f))}function je(a){Ze.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(je,Ze);var o_=/^https?$/i,a_=["POST","PUT"];t=je.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vs.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(M){hm(this,M);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)f.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const M of v.keys())f.set(M,v.get(M));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),V=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(a_,d,void 0)>=0)||v||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of f)this.g.setRequestHeader(M,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(M){hm(this,M)}};function hm(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,dm(a),pa(a)}function dm(a){a.A||(a.A=!0,et(a,"complete"),et(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,et(this,"complete"),et(this,"abort"),pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?fm(this):this.Xa())},t.Xa=function(){fm(this)};function fm(a){if(a.h&&typeof i<"u"){if(a.v&&Gn(a)==4)setTimeout(a.Ca.bind(a),0);else if(et(a,"readystatechange"),Gn(a)==4){a.h=!1;try{const M=a.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=M===0){let B=String(a.D).match(nm)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),v=!o_.test(B?B.toLowerCase():"")}f=v}if(f)et(a,"complete"),et(a,"success");else{a.o=6;try{var V=Gn(a)>2?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.ca()+"]",dm(a)}}finally{pa(a)}}}}function pa(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const f=a.g;a.g=null,d||et(a,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gn(a){return a.g?a.g.readyState:0}t.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),la(d)}};function mm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function l_(a){const d={};a=(a.g&&Gn(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(b(a[v]))continue;var f=W1(a[v]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=d[V]||[];d[V]=M,M.push(f)}Y(d,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function pm(a){this.za=0,this.i=[],this.j=new Me,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,a),this.Za=Oi("retryDelaySeedMs",1e4,a),this.Ta=Oi("forwardChannelMaxRetries",2,a),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Yf(a&&a.concurrentRequestLimit),this.Ba=new i_,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=pm.prototype,t.ka=8,t.I=1,t.connect=function(a,d,f,v){ue(0),this.W=a,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.J=Nm(this,null,this.W),ya(this)};function ic(a){if(gm(a),a.I==3){var d=a.V++,f=an(a.J);if(xe(f,"SID",a.M),xe(f,"RID",d),xe(f,"TYPE","terminate"),Mi(a,f),d=new qn(a,a.j,d),d.M=2,d.A=fa(an(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=Sm(d.j,null),d.g.ea(d.A)),d.F=Date.now(),da(d)}Tm(a)}function ga(a){a.g&&(ac(a),a.g.cancel(),a.g=null)}function gm(a){ga(a),a.v&&(o.clearTimeout(a.v),a.v=null),va(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function ya(a){if(!Jf(a.h)&&!a.m){a.m=!0;var d=a.Ea;O||y(),L||(O(),L=!0),x.add(d,a),a.D=0}}function u_(a,d){return Zf(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ve(h(a.Ea,a,d),Em(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const V=new qn(this,this.j,a);let M=this.o;if(this.U&&(M?(M=ge(M),Kt(M,this.U)):M=this.U),this.u!==null||this.R||(V.J=M,M=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vm(this,V,d),f=an(this.J),xe(f,"RID",a),xe(f,"CVER",22),this.G&&xe(f,"X-HTTP-Session-Id",this.G),Mi(this,f),M&&(this.R?d="headers="+Ii(cm(M))+"&"+d:this.u&&sc(f,this.u,M)),tc(this.h,V),this.Ra&&xe(f,"TYPE","init"),this.S?(xe(f,"$req",d),xe(f,"SID","null"),V.U=!0,Yu(V,f,null)):Yu(V,f,d),this.I=2}}else this.I==3&&(a?ym(this,a):this.i.length==0||Jf(this.h)||ym(this))};function ym(a,d){var f;d?f=d.l:f=a.V++;const v=an(a.J);xe(v,"SID",a.M),xe(v,"RID",f),xe(v,"AID",a.K),Mi(a,v),a.u&&a.o&&sc(v,a.u,a.o),f=new qn(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=vm(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),tc(a.h,f),Yu(f,v,d)}function Mi(a,d){a.H&&Q(a.H,function(f,v){xe(d,v,f)}),a.l&&Q({},function(f,v){xe(d,v,f)})}function vm(a,d,f){f=Math.min(a.i.length,f);const v=a.l?h(a.l.Ka,a.l,a):null;e:{var V=a.i;let te=-1;for(;;){const qe=["count="+f];te==-1?f>0?(te=V[0].g,qe.push("ofs="+te)):te=0:qe.push("ofs="+te);let pe=!0;for(let tt=0;tt<f;tt++){var M=V[tt].g;const ln=V[tt].map;if(M-=te,M<0)te=Math.max(0,V[tt].g-100),pe=!1;else try{M="req"+M+"_"||"";try{var B=ln instanceof Map?ln:Object.entries(ln);for(const[Fr,Kn]of B){let Qn=Kn;u(Kn)&&(Qn=Ni(Kn)),qe.push(M+Fr+"="+encodeURIComponent(Qn))}}catch(Fr){throw qe.push(M+"type="+encodeURIComponent("_badmap")),Fr}}catch{v&&v(ln)}}if(pe){B=qe.join("&");break e}}B=void 0}return a=a.i.splice(0,f),d.G=a,B}function xm(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;O||y(),L||(O(),L=!0),x.add(d,a),a.A=0}}function oc(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ve(h(a.Da,a),Em(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,_m(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ve(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),ga(this),_m(this))};function ac(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function _m(a){a.g=new qn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=an(a.na);xe(d,"RID","rpc"),xe(d,"SID",a.M),xe(d,"AID",a.K),xe(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&xe(d,"TO",a.ia),xe(d,"TYPE","xmlhttp"),Mi(a,d),a.u&&a.o&&sc(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=fa(an(d)),f.u=null,f.R=!0,Kf(f,a)}t.Va=function(){this.C!=null&&(this.C=null,ga(this),oc(this),ue(19))};function va(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function wm(a,d){var f=null;if(a.g==d){va(a),ac(a),a.g=null;var v=2}else if(ec(a.h,d))f=d.G,em(a.h,d),v=1;else return;if(a.I!=0){if(d.o)if(v==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var V=a.D;v=P(),et(v,new Ne(v,f)),ya(a)}else xm(a);else if(V=d.m,V==3||V==0&&d.X>0||!(v==1&&u_(a,d)||v==2&&oc(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),V){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function Em(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function Lr(a,d){if(a.j.info("Error code "+d),d==2){var f=h(a.bb,a),v=a.Ua;const V=!v;v=new Hn(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ai(v,"https"),fa(v),V?r_(v.toString(),f):s_(v.toString(),f)}else ue(2);a.I=0,a.l&&a.l.pa(d),Tm(a),gm(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Tm(a){if(a.I=0,a.ja=[],a.l){const d=tm(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ja,d),A(a.ja,a.i),a.h.i.length=0,E(a.i),a.i.length=0),a.l.oa()}}function Nm(a,d,f){var v=f instanceof Hn?an(f):new Hn(f);if(v.g!="")d&&(v.g=d+"."+v.g),ki(v,v.u);else{var V=o.location;v=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;const M=new Hn(null);v&&Ai(M,v),d&&(M.g=d),V&&ki(M,V),f&&(M.h=f),v=M}return f=a.G,d=a.wa,f&&d&&xe(v,f,d),xe(v,"VER",a.ka),Mi(a,v),v}function Sm(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new je(new rc({ab:f})):new je(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}t=bm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xa(){}xa.prototype.g=function(a,d){return new kt(a,d)};function kt(a,d){Ze.call(this),this.g=new pm(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!b(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!b(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new _s(this)}p(kt,Ze),kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){ic(this.g)},kt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=Ni(a),a=f);d.i.push(new Q1(d.Ya++,a)),d.I==3&&ya(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,ic(this.g),delete this.g,kt.Z.N.call(this)};function Im(a){Si.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(Im,Si);function Cm(){bi.call(this),this.status=1}p(Cm,bi);function _s(a){this.g=a}p(_s,bm),_s.prototype.ra=function(){et(this.g,"a")},_s.prototype.qa=function(a){et(this.g,new Im(a))},_s.prototype.pa=function(a){et(this.g,new Cm)},_s.prototype.oa=function(){et(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,vx=function(){return new xa},yx=function(){return P()},gx=Sn,td={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,cl=De,it.COMPLETE="complete",px=it,ca.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",Ze.prototype.listen=Ze.prototype.J,Xi=ca,je.prototype.listenOnce=je.prototype.K,je.prototype.getLastError=je.prototype.Ha,je.prototype.getLastErrorCode=je.prototype.ya,je.prototype.getStatus=je.prototype.ca,je.prototype.getResponseJson=je.prototype.La,je.prototype.getResponseText=je.prototype.la,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Fa,mx=je}).apply(typeof za<"u"?za:typeof self<"u"?self:typeof window<"u"?window:{});const dg="@firebase/firestore",fg="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new rx("@firebase/firestore");function Ts(){return os.logLevel}function H(t,...e){if(os.logLevel<=le.DEBUG){const n=e.map(yf);os.debug(`Firestore (${fi}): ${t}`,...n)}}function Ln(t,...e){if(os.logLevel<=le.ERROR){const n=e.map(yf);os.error(`Firestore (${fi}): ${t}`,...n)}}function ri(t,...e){if(os.logLevel<=le.WARN){const n=e.map(yf);os.warn(`Firestore (${fi}): ${t}`,...n)}}function yf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,xx(t,r,n)}function xx(t,e,n){let r=`FIRESTORE (${fi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ln(r),new Error(r)}function he(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||xx(e,s,r)}function Z(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends ds{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pS{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string",31837,{l:r}),new _x(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new pt(e)}}class gS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ax(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mg(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mg(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=xS(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function nd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return qc(s)===qc(i)?se(s,i):qc(s)?1:-1}return se(t.length,e.length)}const _S=55296,wS=57343;function qc(t){const e=t.charCodeAt(0);return e>=_S&&e<=wS}function si(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="__name__";class hn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return hn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=hn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return se(e.length,n.length)}static compareSegments(e,n){const r=hn.isNumericId(e),s=hn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?hn.extractNumericId(e).compare(hn.extractNumericId(n)):nd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class we extends hn{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new we(n)}static emptyPath(){return new we([])}}const ES=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends hn{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return ES.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pg}static keyField(){return new lt([pg])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new G(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new G(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(we.fromString(e))}static fromName(e){return new K(we.fromString(e).popFirst(5))}static empty(){return new K(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new we(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e,n){if(!n)throw new G(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TS(t,e,n,r){if(e===!0&&r===!0)throw new G(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gg(t){if(!K.isDocumentKey(t))throw new G(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function yg(t){if(K.isDocumentKey(t))throw new G(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ex(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function xf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new G(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jo(t,e){if(!Ex(t))throw new G(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new G(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg=-62135596800,xg=1e6;class Ee{static now(){return Ee.fromMillis(Date.now())}static fromDate(e){return Ee.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*xg);return new Ee(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vg)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xg}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,Ee._jsonSchema))return new Ee(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ee._jsonSchemaVersion="firestore/timestamp/1.0",Ee._jsonSchema={type:Ue("string",Ee._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new Ee(0,0))}static max(){return new J(new Ee(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=-1;function NS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new Ee(n+1,0):new Ee(n,r));return new Nr(s,K.empty(),e)}function SS(t){return new Nr(t.readTime,t.key,Oo)}class Nr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nr(J.min(),K.empty(),Oo)}static max(){return new Nr(J.max(),K.empty(),Oo)}}function bS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mi(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==IS)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(m=>{o[h]=m,++u,u===i&&r(o)},m=>s(m))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function AS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Cu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=-1;function Au(t){return t==null}function Kl(t){return t===0&&1/t==-1/0}function kS(t){return typeof t=="number"&&Number.isInteger(t)&&!Kl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="";function RS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_g(e)),e=jS(t.get(n),e);return _g(e)}function jS(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Tx:n+="";break;default:n+=i}}return n}function _g(t){return t+Tx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}}class $a{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??at.RED,this.left=s??at.EMPTY,this.right=i??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new at(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return at.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Eg(this.data.getIterator())}getIteratorFrom(e){return new Eg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ye(this.comparator);return n.data=e,n}}class Eg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new en([])}unionWith(e){let n=new Ye(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return si(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sx("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const PS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=PS.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function br(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="server_timestamp",Ix="__type__",Cx="__previous_value__",Ax="__local_write_time__";function wf(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Ix])==null?void 0:r.stringValue)===bx}function ku(t){const e=t.mapValue.fields[Cx];return wf(e)?ku(e):e}function Mo(t){const e=Sr(t.mapValue.fields[Ax].timestampValue);return new Ee(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,n,r,s,i,o,u,c,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=m}}const Ql="(default)";class Lo{constructor(e,n){this.projectId=e,this.database=n||Ql}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===Ql}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="__type__",VS="__max__",Ba={mapValue:{}},Rx="__vector__",Xl="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?wf(t)?4:MS(t)?9007199254740991:OS(t)?10:11:X(28295,{value:t})}function wn(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mo(t).isEqual(Mo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Sr(s.timestampValue),u=Sr(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return br(s.bytesValue).isEqual(br(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ve(s.geoPointValue.latitude)===Ve(i.geoPointValue.latitude)&&Ve(s.geoPointValue.longitude)===Ve(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ve(s.integerValue)===Ve(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ve(s.doubleValue),u=Ve(i.doubleValue);return o===u?Kl(o)===Kl(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return si(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(wg(o)!==wg(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!wn(o[c],u[c])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Fo(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function ii(t,e){if(t===e)return 0;const n=Ir(t),r=Ir(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Ve(i.integerValue||i.doubleValue),c=Ve(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return Tg(t.timestampValue,e.timestampValue);case 4:return Tg(Mo(t),Mo(e));case 5:return nd(t.stringValue,e.stringValue);case 6:return function(i,o){const u=br(i),c=br(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),c=o.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=se(u[h],c[h]);if(m!==0)return m}return se(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=se(Ve(i.latitude),Ve(o.latitude));return u!==0?u:se(Ve(i.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ng(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,E,A,k;const u=i.fields||{},c=o.fields||{},h=(g=u[Xl])==null?void 0:g.arrayValue,m=(E=c[Xl])==null?void 0:E.arrayValue,p=se(((A=h==null?void 0:h.values)==null?void 0:A.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return p!==0?p:Ng(h,m)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ba.mapValue&&o===Ba.mapValue)return 0;if(i===Ba.mapValue)return 1;if(o===Ba.mapValue)return-1;const u=i.fields||{},c=Object.keys(u),h=o.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let p=0;p<c.length&&p<m.length;++p){const g=nd(c[p],m[p]);if(g!==0)return g;const E=ii(u[c[p]],h[m[p]]);if(E!==0)return E}return se(c.length,m.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function Tg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Sr(t),r=Sr(e),s=se(n.seconds,r.seconds);return s!==0?s:se(n.nanos,r.nanos)}function Ng(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ii(n[s],r[s]);if(i)return i}return se(n.length,r.length)}function oi(t){return rd(t)}function rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return br(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=rd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${rd(n.fields[o])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function hl(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ku(t);return e?16+hl(e):16;case 5:return 2*t.stringValue.length;case 6:return br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+hl(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return fs(r.fields,(i,o)=>{s+=i.length+hl(o)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function sd(t){return!!t&&"integerValue"in t}function Ef(t){return!!t&&"arrayValue"in t}function Sg(t){return!!t&&"nullValue"in t}function bg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dl(t){return!!t&&"mapValue"in t}function OS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kx])==null?void 0:r.stringValue)===Rx}function co(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=co(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=co(t.arrayValue.values[n]);return e}return{...t}}function MS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(n)}setAll(e){let n=lt.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=co(o):s.push(u.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());dl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){fs(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $t(co(this.value))}}function jx(t){const e=[];return fs(t.fields,(n,r)=>{const s=new lt([n]);if(dl(r)){const i=jx(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new yt(e,0,J.min(),J.min(),J.min(),$t.empty(),0)}static newFoundDocument(e,n,r,s){return new yt(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new yt(e,2,n,J.min(),J.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new yt(e,3,n,J.min(),J.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.position=e,this.inclusive=n}}function Ig(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=ii(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function LS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{}class Ke extends Px{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new US(e,n,r):n==="array-contains"?new BS(e,r):n==="in"?new qS(e,r):n==="not-in"?new HS(e,r):n==="array-contains-any"?new WS(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zS(e,r):new $S(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ii(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class En extends Px{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new En(e,n)}matches(e){return Dx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dx(t){return t.op==="and"}function Vx(t){return FS(t)&&Dx(t)}function FS(t){for(const e of t.filters)if(e instanceof En)return!1;return!0}function id(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+oi(t.value);if(Vx(t))return t.filters.map(e=>id(e)).join(",");{const e=t.filters.map(n=>id(n)).join(",");return`${t.op}(${e})`}}function Ox(t,e){return t instanceof Ke?function(r,s){return s instanceof Ke&&r.op===s.op&&r.field.isEqual(s.field)&&wn(r.value,s.value)}(t,e):t instanceof En?function(r,s){return s instanceof En&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&Ox(o,s.filters[u]),!0):!1}(t,e):void X(19439)}function Mx(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${oi(n.value)}`}(t):t instanceof En?function(n){return n.op.toString()+" {"+n.getFilters().map(Mx).join(" ,")+"}"}(t):"Filter"}class US extends Ke{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class zS extends Ke{constructor(e,n){super(e,"in",n),this.keys=Lx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $S extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=Lx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class BS extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ef(n)&&Fo(n.arrayValue,this.value)}}class qS extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fo(this.value.arrayValue,n)}}class HS extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fo(this.value.arrayValue,n)}}class WS extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ef(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function Ag(t,e=null,n=[],r=[],s=null,i=null,o=null){return new GS(t,e,n,r,s,i,o)}function Tf(t){const e=Z(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>id(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>oi(r)).join(",")),e.Te=n}return e.Te}function Nf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ox(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cg(t.startAt,e.startAt)&&Cg(t.endAt,e.endAt)}function od(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function KS(t,e,n,r,s,i,o,u){return new Ru(t,e,n,r,s,i,o,u)}function Sf(t){return new Ru(t)}function kg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QS(t){return t.collectionGroup!==null}function ho(t){const e=Z(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new Ye(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Jl(i,r))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new Jl(lt.keyField(),r))}return e.Ie}function gn(t){const e=Z(t);return e.Ee||(e.Ee=XS(e,ho(t))),e.Ee}function XS(t,e){if(t.limitType==="F")return Ag(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Jl(s.field,i)});const n=t.endAt?new Yl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yl(t.startAt.position,t.startAt.inclusive):null;return Ag(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ad(t,e,n){return new Ru(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ju(t,e){return Nf(gn(t),gn(e))&&t.limitType===e.limitType}function Fx(t){return`${Tf(gn(t))}|lt:${t.limitType}`}function Ns(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Mx(s)).join(", ")}]`),Au(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>oi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>oi(s)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Pu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ho(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,u,c){const h=Ig(o,u,c);return o.inclusive?h<=0:h<0}(r.startAt,ho(r),s)||r.endAt&&!function(o,u,c){const h=Ig(o,u,c);return o.inclusive?h>=0:h>0}(r.endAt,ho(r),s))}(t,e)}function YS(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ux(t){return(e,n)=>{let r=!1;for(const s of ho(t)){const i=JS(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function JS(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,u){const c=o.data.field(i),h=u.data.field(i);return c!==null&&h!==null?ii(c,h):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Nx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS=new Re(K.comparator);function Fn(){return ZS}const zx=new Re(K.comparator);function Yi(...t){let e=zx;for(const n of t)e=e.insert(n.key,n);return e}function $x(t){let e=zx;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return fo()}function Bx(){return fo()}function fo(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const eb=new Re(K.comparator),tb=new Ye(K.comparator);function ie(...t){let e=tb;for(const n of t)e=e.add(n);return e}const nb=new Ye(se);function rb(){return nb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kl(e)?"-0":e}}function qx(t){return{integerValue:""+t}}function sb(t,e){return kS(e)?qx(e):bf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function ib(t,e,n){return t instanceof Zl?function(s,i){const o={fields:{[Ix]:{stringValue:bx},[Ax]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&wf(i)&&(i=ku(i)),i&&(o.fields[Cx]=i),{mapValue:o}}(n,e):t instanceof Uo?Wx(t,e):t instanceof zo?Gx(t,e):function(s,i){const o=Hx(s,i),u=Rg(o)+Rg(s.Ae);return sd(o)&&sd(s.Ae)?qx(u):bf(s.serializer,u)}(t,e)}function ob(t,e,n){return t instanceof Uo?Wx(t,e):t instanceof zo?Gx(t,e):n}function Hx(t,e){return t instanceof eu?function(r){return sd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zl extends Du{}class Uo extends Du{constructor(e){super(),this.elements=e}}function Wx(t,e){const n=Kx(e);for(const r of t.elements)n.some(s=>wn(s,r))||n.push(r);return{arrayValue:{values:n}}}class zo extends Du{constructor(e){super(),this.elements=e}}function Gx(t,e){let n=Kx(e);for(const r of t.elements)n=n.filter(s=>!wn(s,r));return{arrayValue:{values:n}}}class eu extends Du{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Rg(t){return Ve(t.integerValue||t.doubleValue)}function Kx(t){return Ef(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ab(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Uo&&s instanceof Uo||r instanceof zo&&s instanceof zo?si(r.elements,s.elements,wn):r instanceof eu&&s instanceof eu?wn(r.Ae,s.Ae):r instanceof Zl&&s instanceof Zl}(t.transform,e.transform)}class lb{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vu{}function Qx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new If(t.key,yn.none()):new Zo(t.key,t.data,yn.none());{const n=t.data,r=$t.empty();let s=new Ye(lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ps(t.key,r,new en(s.toArray()),yn.none())}}function ub(t,e,n){t instanceof Zo?function(s,i,o){const u=s.value.clone(),c=Pg(s.fieldTransforms,i,o.transformResults);u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(s,i,o){if(!fl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=Pg(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Xx(s)),c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mo(t,e,n,r){return t instanceof Zo?function(i,o,u,c){if(!fl(i.precondition,o))return u;const h=i.value.clone(),m=Dg(i.fieldTransforms,c,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(i,o,u,c){if(!fl(i.precondition,o))return u;const h=Dg(i.fieldTransforms,c,o),m=o.data;return m.setAll(Xx(i)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,u){return fl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function cb(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Hx(r.transform,s||null);i!=null&&(n===null&&(n=$t.empty()),n.set(r.field,i))}return n||null}function jg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&si(r,s,(i,o)=>ab(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zo extends Vu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ps extends Vu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Xx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pg(t,e,n){const r=new Map;he(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,ob(o,u,n[s]))}return r}function Dg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,ib(i,o,e))}return r}class If extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hb extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&ub(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Bx();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=Qx(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&si(this.mutations,e.mutations,(n,r)=>jg(n,r))&&si(this.baseMutations,e.baseMutations,(n,r)=>jg(n,r))}}class Cf{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){he(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return eb}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Cf(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ae;function pb(t){switch(t){case z.OK:return X(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function Yx(t){if(t===void 0)return Ln("GRPC error has no .code"),z.UNKNOWN;switch(t){case Le.OK:return z.OK;case Le.CANCELLED:return z.CANCELLED;case Le.UNKNOWN:return z.UNKNOWN;case Le.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Le.INTERNAL:return z.INTERNAL;case Le.UNAVAILABLE:return z.UNAVAILABLE;case Le.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Le.NOT_FOUND:return z.NOT_FOUND;case Le.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Le.ABORTED:return z.ABORTED;case Le.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Le.DATA_LOSS:return z.DATA_LOSS;default:return X(39323,{code:t})}}(ae=Le||(Le={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new _r([4294967295,4294967295],0);function Vg(t){const e=gb().encode(t),n=new fx;return n.update(e),new Uint8Array(n.digest())}function Og(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _r([n,r],0),new _r([s,i],0)]}class Af{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ji(`Invalid padding: ${n}`);if(r<0)throw new Ji(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ji(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ji(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_r.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(_r.fromNumber(r)));return s.compare(yb)===1&&(s=new _r([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Vg(e),[r,s]=Og(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Af(i,s,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const n=Vg(e),[r,s]=Og(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ji extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ea.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ou(J.min(),s,new Re(se),Fn(),ie())}}class ea{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ea(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class Jx{constructor(e,n){this.targetId=e,this.Ce=n}}class Zx{constructor(e,n,r=ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Mg{constructor(){this.ve=0,this.Fe=Lg(),this.Me=ht.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X(38017,{changeType:i})}}),new ea(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Lg()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vb{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fn(),this.Je=qa(),this.He=qa(),this.Ye=new Re(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(od(i))if(r===0){const o=new K(i.path);this.et(n,o,yt.newNoDocument(o,J.min()))}else he(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=br(r).toUint8Array()}catch(c){if(c instanceof Sx)return ri("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new Af(o,s,i)}catch(c){return ri(c instanceof Ji?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&od(u.target)){const c=new K(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,yt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ie();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ou(e,n,this.Ye,this.je,r);return this.je=Fn(),this.Je=qa(),this.He=qa(),this.Ye=new Re(se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ye(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ye(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qa(){return new Re(K.comparator)}function Lg(){return new Re(K.comparator)}const xb={asc:"ASCENDING",desc:"DESCENDING"},_b={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wb={and:"AND",or:"OR"};class Eb{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ld(t,e){return t.useProto3Json||Au(e)?e:{value:e}}function tu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tb(t,e){return tu(t,e.toTimestamp())}function vn(t){return he(!!t,49232),J.fromTimestamp(function(n){const r=Sr(n);return new Ee(r.seconds,r.nanos)}(t))}function kf(t,e){return ud(t,e).canonicalString()}function ud(t,e){const n=function(s){return new we(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function t1(t){const e=we.fromString(t);return he(o1(e),10190,{key:e.toString()}),e}function cd(t,e){return kf(t.databaseId,e.path)}function Hc(t,e){const n=t1(e);if(n.get(1)!==t.databaseId.projectId)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(r1(n))}function n1(t,e){return kf(t.databaseId,e)}function Nb(t){const e=t1(t);return e.length===4?we.emptyPath():r1(e)}function hd(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r1(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Fg(t,e,n){return{name:cd(t,e),fields:n.value.mapValue.fields}}function Sb(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,m){return h.useProto3Json?(he(m===void 0||typeof m=="string",58123),ht.fromBase64String(m||"")):(he(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ht.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const m=h.code===void 0?z.UNKNOWN:Yx(h.code);return new G(m,h.message||"")}(o);n=new Zx(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hc(t,r.document.name),i=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):J.min(),u=new $t({mapValue:{fields:r.document.fields}}),c=yt.newFoundDocument(s,i,o,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new ml(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hc(t,r.document),i=r.readTime?vn(r.readTime):J.min(),o=yt.newNoDocument(s,i),u=r.removedTargetIds||[];n=new ml([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hc(t,r.document),i=r.removedTargetIds||[];n=new ml([],i,s,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new mb(s,i),u=r.targetId;n=new Jx(u,o)}}return n}function bb(t,e){let n;if(e instanceof Zo)n={update:Fg(t,e.key,e.value)};else if(e instanceof If)n={delete:cd(t,e.key)};else if(e instanceof ps)n={update:Fg(t,e.key,e.data),updateMask:Vb(e.fieldMask)};else{if(!(e instanceof hb))return X(16599,{Vt:e.type});n={verify:cd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof Zl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Uo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof zo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof eu)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Tb(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function Ib(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?vn(s.updateTime):vn(i);return o.isEqual(J.min())&&(o=vn(i)),new lb(o,s.transformResults||[])}(n,e))):[]}function Cb(t,e){return{documents:[n1(t,e.path)]}}function Ab(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=n1(t,s);const i=function(h){if(h.length!==0)return i1(En.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:Ss(g.field),direction:jb(g.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=ld(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function kb(t){let e=Nb(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){he(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=function(p){const g=s1(p);return g instanceof En&&Vx(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(A){return new Jl(bs(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,Au(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,E=p.values||[];return new Yl(E,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,E=p.values||[];return new Yl(E,g)}(n.endAt)),KS(e,s,o,i,u,"F",c,h)}function Rb(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bs(n.unaryFilter.field);return Ke.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bs(n.unaryFilter.field);return Ke.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bs(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(bs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return En.create(n.compositeFilter.filters.map(r=>s1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function jb(t){return xb[t]}function Pb(t){return _b[t]}function Db(t){return wb[t]}function Ss(t){return{fieldPath:t.canonicalString()}}function bs(t){return lt.fromServerFormat(t.fieldPath)}function i1(t){return t instanceof Ke?function(n){if(n.op==="=="){if(bg(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NAN"}};if(Sg(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bg(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NAN"}};if(Sg(n.value))return{unaryFilter:{field:Ss(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(n.field),op:Pb(n.op),value:n.value}}}(t):t instanceof En?function(n){const r=n.getFilters().map(s=>i1(s));return r.length===1?r[0]:{compositeFilter:{op:Db(n.op),filters:r}}}(t):X(54877,{filter:t})}function Vb(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function o1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,r,s,i=J.min(),o=J.min(),u=ht.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.yt=e}}function Mb(t){const e=kb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.Cn=new Fb}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Nr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Nr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class Fb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ye(we.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ye(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class Nt{static withCacheSize(e){return new Nt(e,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nt.DEFAULT_COLLECTION_PERCENTILE=10,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nt.DEFAULT=new Nt(a1,Nt.DEFAULT_COLLECTION_PERCENTILE,Nt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nt.DISABLED=new Nt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ai(0)}static cr(){return new ai(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LruGarbageCollector",Ub=1048576;function $g([t,e],[n,r]){const s=se(t,n);return s===0?se(e,r):s}class zb{constructor(e){this.Ir=e,this.buffer=new Ye($g),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$g(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $b{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(zg,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){pi(n)?H(zg,"Ignoring IndexedDB error during garbage collection: ",n):await mi(n)}await this.Vr(3e5)})}}class Bb{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Cu.ce);const r=new zb(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ug)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ug):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,u=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),Ts()<=le.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function qb(t,e){return new Bb(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&mo(r.mutation,s,en.empty(),Ee.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Gr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Yi();return i.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,s){let i=Fn();const o=fo(),u=function(){return fo()}();return n.forEach((c,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof ps)?i=i.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),mo(m.mutation,h,m.mutation.getFieldMask(),Ee.now())):o.set(h.key,en.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,m)=>o.set(h,m)),n.forEach((h,m)=>u.set(h,new Wb(m,o.get(h)??null))),u))}recalculateAndSaveOverlays(e,n){const r=fo();let s=new Re((o,u)=>o-u),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||en.empty();m=u.applyToLocalView(h,m),r.set(c,m);const p=(s.get(u.batchId)||ie()).add(c);s=s.insert(u.batchId,p)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,p=Bx();m.forEach(g=>{if(!i.has(g)){const E=Qx(n.get(g),r.get(g));E!==null&&p.set(g,E),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Gr());let u=Oo,c=i;return o.next(h=>F.forEach(h,(m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),i.get(m)?F.resolve():this.remoteDocumentCache.getEntry(e,m).next(g=>{c=c.insert(m,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,ie())).next(m=>({batchId:u,changes:$x(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=Yi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Yi();return this.indexManager.getCollectionParents(e,i).next(u=>F.forEach(u,c=>{const h=function(p,g){return new Ru(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,yt.newInvalidDocument(m)))});let u=Yi();return o.forEach((c,h)=>{const m=i.get(c);m!==void 0&&mo(m.mutation,h,en.empty(),Ee.now()),Pu(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:vn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Mb(s.bundledQuery),readTime:vn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.overlays=new Re(K.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Gr(),i=n.length+1,o=new K(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Re((h,m)=>h-m);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=i.get(h.largestBatchId);m===null&&(m=Gr(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Gr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=s)););return F.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new fb(n,r));let i=this.qr.get(n);i===void 0&&(i=ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.Qr=new Ye(nt.$r),this.Ur=new Ye(nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new we([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new we([])),r=new nt(n,e),s=new nt(n,e+1);let i=ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(nt.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new db(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new nt(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?_f:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const u=this.Xr(o.Yr);i.push(u)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ye(se);return n.forEach(s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{r=r.add(u.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new nt(new K(i),0);let u=new Ye(se);return this.Zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)},o),F.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){he(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new nt(n,0),s=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.ri=e,this.docs=function(){return new Re(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():yt.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():yt.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Fn();const o=n.path,u=new K(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||bS(SS(m),r)<=0||(s.has(m.key)||Pu(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zb(this)}getSize(e){return F.resolve(this.size)}}class Zb extends Hb{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.persistence=e,this.si=new ms(n=>Tf(n),Nf),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new Rf,this.targetCount=0,this.ai=ai.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ai(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Cu(0),this.li=!1,this.li=!0,this.hi=new Xb,this.referenceDelegate=e(this),this.Pi=new eI(this),this.indexManager=new Lb,this.remoteDocumentCache=function(s){return new Jb(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Ob(n),this.Ii=new Kb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Yb(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new tI(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tI extends CS{constructor(e){super(),this.currentSequenceNumber=e}}class jf{constructor(e){this.persistence=e,this.Ri=new Rf,this.Vi=null}static mi(e){return new jf(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const s=K.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nu{constructor(e,n){this.persistence=e,this.pi=new ms(r=>RS(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=qb(this,n)}static mi(e,n){return new nu(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(u=>{u||(r++,i.removeEntry(o,J.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hl(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Pf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Y4()?8:AS(Q4())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new nI;return this.Ss(e,n,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Ts()<=le.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ns(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ts()<=le.DEBUG&&H("QueryEngine","Query:",Ns(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Ts()<=le.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ns(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):F.resolve())}ys(e,n){if(kg(n))return F.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ad(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Ds(n,u);return this.Cs(n,h,o,c.readTime)?this.ys(e,ad(n,null,"F")):this.vs(e,h,n,c)}))})))}ws(e,n,r,s){return kg(n)||s.isEqual(J.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?F.resolve(null):(Ts()<=le.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ns(n)),this.vs(e,o,n,NS(s,Oo)).next(u=>u))})}Ds(e,n){let r=new Ye(Ux(e));return n.forEach((s,i)=>{Pu(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ts()<=le.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ns(n)),this.ps.getDocumentsMatchingQuery(e,n,Nr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="LocalStore",sI=3e8;class iI{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Re(se),this.xs=new ms(i=>Tf(i),Nf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Gb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oI(t,e,n,r){return new iI(t,e,n,r)}async function u1(t,e){const n=Z(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let c=ie();for(const h of s){o.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of i){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:u}))})})}function aI(t,e){const n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,c,h,m){const p=h.batch,g=p.keys();let E=F.resolve();return g.forEach(A=>{E=E.next(()=>m.getEntry(c,A)).next(k=>{const R=h.docVersions.get(A);he(R!==null,48541),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),m.addEntry(k)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=ie();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function c1(t){const e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lI(t,e){const n=Z(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((m,p)=>{const g=s.get(p);if(!g)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,m.addedDocuments,p)));let E=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(ht.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,r)),s=s.insert(p,E),function(k,R,T){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=sI?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,E,m)&&u.push(n.Pi.updateTargetData(i,E))});let c=Fn(),h=ie();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))}),u.push(uI(i,o,e.documentUpdates).next(m=>{c=m.ks,h=m.qs})),!r.isEqual(J.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(m)}return F.waitFor(u).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ms=s,i))}function uI(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Fn();return n.forEach((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):H(Df,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{ks:o,qs:s}})}function cI(t,e){const n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_f),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hI(t,e){const n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function dd(t,e,n){const r=Z(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!pi(o))throw o;H(Df,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Bg(t,e,n){const r=Z(t);let s=J.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,m){const p=Z(c),g=p.xs.get(m);return g!==void 0?F.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,m)}(r,o,gn(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:ie())).next(u=>(dI(r,YS(e),u),{documents:u,Qs:i})))}function dI(t,e,n){let r=t.Os.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class qg{constructor(){this.activeTargetIds=rb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fI{constructor(){this.Mo=new qg,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="ConnectivityMonitor";class Wg{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(Hg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(Hg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha=null;function fd(){return Ha===null?Ha=function(){return 268435456+Math.round(2147483648*Math.random())}():Ha++,"0x"+Ha.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="RestConnection",pI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ql?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=fd(),u=this.zo(e,n.toUriEncodedString());H(Wc,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),m=Iu(h);return this.Jo(e,u,c,r,m).then(p=>(H(Wc,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ri(Wc,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=pI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection";class vI extends gI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=fd();return new Promise((u,c)=>{const h=new mx;h.setWithCredentials(!0),h.listenOnce(px.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case cl.NO_ERROR:const p=h.getResponseJson();H(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case cl.TIMEOUT:H(mt,`RPC '${e}' ${o} timed out`),c(new G(z.DEADLINE_EXCEEDED,"Request time out"));break;case cl.HTTP_ERROR:const g=h.getStatus();if(H(mt,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const k=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(A.status);c(new G(k,A.message))}else c(new G(z.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new G(z.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(mt,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(s);H(mt,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",m,r,15)})}T_(e,n,r){const s=fd(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vx(),u=yx(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=i.join("");H(mt,`Creating RPC '${e}' stream ${s}: ${m}`,c);const p=o.createWebChannel(m,c);this.I_(p);let g=!1,E=!1;const A=new yI({Yo:R=>{E?H(mt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(H(mt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),H(mt,`RPC '${e}' stream ${s} sending:`,R),p.send(R))},Zo:()=>p.close()}),k=(R,T,_)=>{R.listen(T,N=>{try{_(N)}catch(C){setTimeout(()=>{throw C},0)}})};return k(p,Xi.EventType.OPEN,()=>{E||(H(mt,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),k(p,Xi.EventType.CLOSE,()=>{E||(E=!0,H(mt,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(p))}),k(p,Xi.EventType.ERROR,R=>{E||(E=!0,ri(mt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),A.a_(new G(z.UNAVAILABLE,"The operation could not be completed")))}),k(p,Xi.EventType.MESSAGE,R=>{var T;if(!E){const _=R.data[0];he(!!_,16349);const N=_,C=(N==null?void 0:N.error)||((T=N[0])==null?void 0:T.error);if(C){H(mt,`RPC '${e}' stream ${s} received error:`,C);const O=C.status;let L=function(w){const S=Le[w];if(S!==void 0)return Yx(S)}(O),x=C.message;L===void 0&&(L=z.INTERNAL,x="Unknown error status: "+O+" with message "+C.message),E=!0,A.a_(new G(L,x)),p.close()}else H(mt,`RPC '${e}' stream ${s} received:`,_),A.u_(_)}}),k(u,gx.STAT_EVENT,R=>{R.stat===td.PROXY?H(mt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===td.NOPROXY&&H(mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return new Eb(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="PersistentStream";class d1{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new h1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ln(n.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(Gg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(Gg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xI extends d1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Sb(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?vn(o.readTime):J.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hd(this.serializer),n.addTarget=function(i,o){let u;const c=o.target;if(u=od(c)?{documents:Cb(i,c)}:{query:Ab(i,c).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=e1(i,o.resumeToken);const h=ld(i,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(J.min())>0){u.readTime=tu(i,o.snapshotVersion.toTimestamp());const h=ld(i,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=Rb(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hd(this.serializer),n.removeTarget=e,this.q_(n)}}class _I extends d1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ib(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bb(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{}class EI extends wI{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,ud(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,ud(n,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ln(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="RemoteStore";class NI{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{gs(this)&&(H(as,"Restarting streams for network reachability change."),await async function(c){const h=Z(c);h.Ea.add(4),await ta(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Lu(h)}(this))})}),this.Ra=new TI(r,s)}}async function Lu(t){if(gs(t))for(const e of t.da)await e(!0)}async function ta(t){for(const e of t.da)await e(!1)}function f1(t,e){const n=Z(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Lf(n)?Mf(n):gi(n).O_()&&Of(n,e))}function Vf(t,e){const n=Z(t),r=gi(n);n.Ia.delete(e),r.O_()&&m1(n,e),n.Ia.size===0&&(r.O_()?r.L_():gs(n)&&n.Ra.set("Unknown"))}function Of(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}gi(t).Y_(e)}function m1(t,e){t.Va.Ue(e),gi(t).Z_(e)}function Mf(t){t.Va=new vb({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),gi(t).start(),t.Ra.ua()}function Lf(t){return gs(t)&&!gi(t).x_()&&t.Ia.size>0}function gs(t){return Z(t).Ea.size===0}function p1(t){t.Va=void 0}async function SI(t){t.Ra.set("Online")}async function bI(t){t.Ia.forEach((e,n)=>{Of(t,e)})}async function II(t,e){p1(t),Lf(t)?(t.Ra.ha(e),Mf(t)):t.Ra.set("Unknown")}async function CI(t,e,n){if(t.Ra.set("Online"),e instanceof Zx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){H(as,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ru(t,r)}else if(e instanceof ml?t.Va.Ze(e):e instanceof Jx?t.Va.st(e):t.Va.tt(e),!n.isEqual(J.min()))try{const r=await c1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=i.Ia.get(h);m&&i.Ia.set(h,m.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,h)=>{const m=i.Ia.get(c);if(!m)return;i.Ia.set(c,m.withResumeToken(ht.EMPTY_BYTE_STRING,m.snapshotVersion)),m1(i,c);const p=new or(m.target,c,h,m.sequenceNumber);Of(i,p)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){H(as,"Failed to raise snapshot:",r),await ru(t,r)}}async function ru(t,e,n){if(!pi(e))throw e;t.Ea.add(1),await ta(t),t.Ra.set("Offline"),n||(n=()=>c1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(as,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Lu(t)})}function g1(t,e){return e().catch(n=>ru(t,n,e))}async function Fu(t){const e=Z(t),n=Cr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_f;for(;AI(e);)try{const s=await cI(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,kI(e,s)}catch(s){await ru(e,s)}y1(e)&&v1(e)}function AI(t){return gs(t)&&t.Ta.length<10}function kI(t,e){t.Ta.push(e);const n=Cr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function y1(t){return gs(t)&&!Cr(t).x_()&&t.Ta.length>0}function v1(t){Cr(t).start()}async function RI(t){Cr(t).ra()}async function jI(t){const e=Cr(t);for(const n of t.Ta)e.ea(n.mutations)}async function PI(t,e,n){const r=t.Ta.shift(),s=Cf.from(r,e,n);await g1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Fu(t)}async function DI(t,e){e&&Cr(t).X_&&await async function(r,s){if(function(o){return pb(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Cr(r).B_(),await g1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Fu(r)}}(t,e),y1(t)&&v1(t)}async function Kg(t,e){const n=Z(t);n.asyncQueue.verifyOperationInProgress(),H(as,"RemoteStore received new credentials");const r=gs(n);n.Ea.add(3),await ta(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lu(n)}async function VI(t,e){const n=Z(t);e?(n.Ea.delete(2),await Lu(n)):e||(n.Ea.add(2),await ta(n),n.Ra.set("Unknown"))}function gi(t){return t.ma||(t.ma=function(n,r,s){const i=Z(n);return i.sa(),new xI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:SI.bind(null,t),t_:bI.bind(null,t),r_:II.bind(null,t),H_:CI.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Lf(t)?Mf(t):t.Ra.set("Unknown")):(await t.ma.stop(),p1(t))})),t.ma}function Cr(t){return t.fa||(t.fa=function(n,r,s){const i=Z(n);return i.sa(),new _I(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:RI.bind(null,t),r_:DI.bind(null,t),ta:jI.bind(null,t),na:PI.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Fu(t)):(await t.fa.stop(),t.Ta.length>0&&(H(as,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new Ff(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uf(t,e){if(Ln("AsyncQueue",`${e}: ${t}`),pi(t))return new G(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{static emptySet(e){return new Hs(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Yi(),this.sortedSet=new Re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.ga=new Re(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class li{constructor(e,n,r,s,i,o,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new li(e,n,Hs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class MI{constructor(){this.queries=Xg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Z(n),i=s.queries;s.queries=Xg(),i.forEach((o,u)=>{for(const c of u.Sa)c.onError(r)})})(this,new G(z.ABORTED,"Firestore shutting down"))}}function Xg(){return new ms(t=>Fx(t),ju)}async function LI(t,e){const n=Z(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new OI,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=Uf(o,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&zf(n)}async function FI(t,e){const n=Z(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UI(t,e){const n=Z(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&zf(n)}function zI(t,e,n){const r=Z(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function zf(t){t.Ca.forEach(e=>{e.next()})}var md,Yg;(Yg=md||(md={})).Ma="default",Yg.Cache="cache";class $I{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.key=e}}class _1{constructor(e){this.key=e}}class BI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=Ux(e),this.tu=new Hs(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Qg,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,p)=>{const g=s.get(m),E=Pu(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;g&&E?g.data.isEqual(E.data)?A!==k&&(r.track({type:3,doc:E}),R=!0):this.su(g,E)||(r.track({type:2,doc:E}),R=!0,(c&&this.eu(E,c)>0||h&&this.eu(E,h)<0)&&(u=!0)):!g&&E?(r.track({type:0,doc:E}),R=!0):g&&!E&&(r.track({type:1,doc:g}),R=!0,(c||h)&&(u=!0)),R&&(E?(o=o.add(E),i=k?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((m,p)=>function(E,A){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:R})}};return k(E)-k(A)}(m.type,p.type)||this.eu(m.doc,p.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,o.length!==0||h?{snapshot:new li(this.query,e.tu,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new x1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return li.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $f="SyncEngine";class qI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HI{constructor(e){this.key=e,this.hu=!1}}class WI{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ms(u=>Fx(u),ju),this.Iu=new Map,this.Eu=new Set,this.du=new Re(K.comparator),this.Au=new Map,this.Ru=new Rf,this.Vu={},this.mu=new Map,this.fu=ai.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function GI(t,e,n=!0){const r=b1(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await w1(r,e,n,!0),s}async function KI(t,e){const n=b1(t);await w1(n,e,!0,!1)}async function w1(t,e,n,r){const s=await hI(t.localStore,gn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await QI(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&f1(t.remoteStore,s),u}async function QI(t,e,n,r,s){t.pu=(p,g,E)=>async function(k,R,T,_){let N=R.view.ru(T);N.Cs&&(N=await Bg(k.localStore,R.query,!1).then(({documents:x})=>R.view.ru(x,N)));const C=_&&_.targetChanges.get(R.targetId),O=_&&_.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(N,k.isPrimaryClient,C,O);return Zg(k,R.targetId,L.au),L.snapshot}(t,p,g,E);const i=await Bg(t.localStore,e,!0),o=new BI(e,i.Qs),u=o.ru(i.documents),c=ea.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,c);Zg(t,n,h.au);const m=new qI(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function XI(t,e,n){const r=Z(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!ju(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await dd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Vf(r.remoteStore,s.targetId),pd(r,s.targetId)}).catch(mi)):(pd(r,s.targetId),await dd(r.localStore,s.targetId,!0))}async function YI(t,e){const n=Z(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vf(n.remoteStore,r.targetId))}async function JI(t,e,n){const r=iC(t);try{const s=await function(o,u){const c=Z(o),h=Ee.now(),m=u.reduce((E,A)=>E.add(A.key),ie());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Fn(),k=ie();return c.Ns.getEntries(E,m).next(R=>{A=R,A.forEach((T,_)=>{_.isValidDocument()||(k=k.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,A)).next(R=>{p=R;const T=[];for(const _ of u){const N=cb(_,p.get(_.key).overlayedDocument);N!=null&&T.push(new ps(_.key,N,jx(N.value.mapValue),yn.exists(!0)))}return c.mutationQueue.addMutationBatch(E,h,T,u)}).next(R=>{g=R;const T=R.applyToLocalDocumentSet(p,k);return c.documentOverlayCache.saveOverlays(E,R.batchId,T)})}).then(()=>({batchId:g.batchId,changes:$x(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,c){let h=o.Vu[o.currentUser.toKey()];h||(h=new Re(se)),h=h.insert(u,c),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),await na(r,s.changes),await Fu(r.remoteStore)}catch(s){const i=Uf(s,"Failed to persist write");n.reject(i)}}async function E1(t,e){const n=Z(t);try{const r=await lI(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?he(o.hu,14607):s.removedDocuments.size>0&&(he(o.hu,42227),o.hu=!1))}),await na(n,r,e)}catch(r){await mi(r)}}function Jg(t,e,n){const r=Z(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const c=Z(o);c.onlineState=u;let h=!1;c.queries.forEach((m,p)=>{for(const g of p.Sa)g.va(u)&&(h=!0)}),h&&zf(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZI(t,e,n){const r=Z(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Re(K.comparator);o=o.insert(i,yt.newNoDocument(i,J.min()));const u=ie().add(i),c=new Ou(J.min(),new Map,new Re(se),o,u);await E1(r,c),r.du=r.du.remove(i),r.Au.delete(e),Bf(r)}else await dd(r.localStore,e,!1).then(()=>pd(r,e,n)).catch(mi)}async function eC(t,e){const n=Z(t),r=e.batch.batchId;try{const s=await aI(n.localStore,e);N1(n,r,null),T1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await na(n,s)}catch(s){await mi(s)}}async function tC(t,e,n){const r=Z(t);try{const s=await function(o,u){const c=Z(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next(p=>(he(p!==null,37113),m=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);N1(r,e,n),T1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await na(r,s)}catch(s){await mi(s)}}function T1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function N1(t,e,n){const r=Z(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function pd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||S1(t,r)})}function S1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Bf(t))}function Zg(t,e,n){for(const r of n)r instanceof x1?(t.Ru.addReference(r.key,e),nC(t,r)):r instanceof _1?(H($f,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||S1(t,r.key)):X(19791,{wu:r})}function nC(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H($f,"New document in limbo: "+n),t.Eu.add(r),Bf(t))}function Bf(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(we.fromString(e)),r=t.fu.next();t.Au.set(r,new HI(n)),t.du=t.du.insert(n,r),f1(t.remoteStore,new or(gn(Sf(n.path)),r,"TargetPurposeLimboResolution",Cu.ce))}}async function na(t,e,n){const r=Z(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((u,c)=>{o.push(r.pu(c,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){s.push(h);const p=Pf.As(c.targetId,h);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,h){const m=Z(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(h,g=>F.forEach(g.Es,E=>m.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>F.forEach(g.ds,E=>m.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!pi(p))throw p;H(Df,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const E=m.Ms.get(g),A=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(g,k)}}}(r.localStore,i))}async function rC(t,e){const n=Z(t);if(!n.currentUser.isEqual(e)){H($f,"User change. New user:",e.toKey());const r=await u1(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(c=>{c.reject(new G(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await na(n,r.Ls)}}function sC(t,e){const n=Z(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let s=ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function b1(t){const e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=E1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZI.bind(null,e),e.Pu.H_=UI.bind(null,e.eventManager),e.Pu.yu=zI.bind(null,e.eventManager),e}function iC(t){const e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tC.bind(null,e),e}class su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oI(this.persistence,new rI,e.initialUser,this.serializer)}Cu(e){return new l1(jf.mi,this.serializer)}Du(e){return new fI}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}su.provider={build:()=>new su};class oC extends su{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof nu,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $b(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nt.withCacheSize(this.cacheSizeBytes):Nt.DEFAULT;return new l1(r=>nu.mi(r,n),this.serializer)}}class gd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rC.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MI}()}createDatastore(e){const n=Mu(e.databaseInfo.databaseId),r=function(i){return new vI(i)}(e.databaseInfo);return function(i,o,u,c){return new EI(i,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,u){return new NI(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Jg(this.syncEngine,n,0),function(){return Wg.v()?new Wg:new mI}())}createSyncEngine(e,n){return function(s,i,o,u,c,h,m){const p=new WI(s,i,o,u,c,h);return m&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Z(s);H(as,"RemoteStore shutting down."),i.Ea.add(5),await ta(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="FirestoreClient";class lC{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(Ar,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Ar,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Kc(t,e){t.asyncQueue.verifyOperationInProgress(),H(Ar,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await u1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function e0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await uC(t);H(Ar,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Kg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Kg(e.remoteStore,s)),t._onlineComponents=e}async function uC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Ar,"Using user provided OfflineComponentProvider");try{await Kc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ri("Error using user provided cache. Falling back to memory cache: "+n),await Kc(t,new su)}}else H(Ar,"Using default OfflineComponentProvider"),await Kc(t,new oC(void 0));return t._offlineComponents}async function I1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Ar,"Using user provided OnlineComponentProvider"),await e0(t,t._uninitializedComponentsProvider._online)):(H(Ar,"Using default OnlineComponentProvider"),await e0(t,new gd))),t._onlineComponents}function cC(t){return I1(t).then(e=>e.syncEngine)}async function t0(t){const e=await I1(t),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=XI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firestore.googleapis.com",r0=!0;class s0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A1,this.ssl=r0}else this.host=e.host,this.ssl=e.ssl??r0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ub)throw new G(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fS;switch(r.type){case"firstParty":return new yS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=n0.get(n);r&&(H("ComponentProvider","Removing Datastore"),n0.delete(n),r.terminate())}(this),Promise.resolve()}}function hC(t,e,n,r={}){var h;t=Yr(t,Uu);const s=Iu(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(Zv(`https://${u}`),tx("Firestore",!0)),i.host!==A1&&i.host!==u&&ri("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:u,ssl:s,emulatorOptions:r};if(!Wl(c,o)&&(t._setSettings(c),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=pt.MOCK_USER;else{m=ex(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new G(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new pt(g)}t._authCredentials=new mS(new _x(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zu(this.firestore,e,this._query)}}class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}toJSON(){return{type:Xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Jo(n,Xe._jsonSchema))return new Xe(e,r||null,new K(we.fromString(n.referencePath)))}}Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:Ue("string",Xe._jsonSchemaVersion),referencePath:Ue("string")};class wr extends zu{constructor(e,n,r){super(e,n,Sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new K(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function Wa(t,e,...n){if(t=is(t),wx("collection","path",e),t instanceof Uu){const r=we.fromString(e,...n);return yg(r),new wr(t,null,r)}{if(!(t instanceof Xe||t instanceof wr))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return yg(r),new wr(t.firestore,null,r)}}function He(t,e,...n){if(t=is(t),arguments.length===1&&(e=vf.newId()),wx("doc","path",e),t instanceof Uu){const r=we.fromString(e,...n);return gg(r),new Xe(t,null,new K(r))}{if(!(t instanceof Xe||t instanceof wr))throw new G(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return gg(r),new Xe(t.firestore,t instanceof wr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="AsyncQueue";class o0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new h1(this,"async_queue_retry"),this._c=()=>{const r=Gc();r&&H(i0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Xr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!pi(e))throw e;H(i0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ln("INTERNAL UNHANDLED ERROR: ",a0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ff.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&X(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function a0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends Uu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new o0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new o0(e),this._firestoreClient=void 0,await e}}}function dC(t,e){const n=typeof t=="object"?t:cx(),r=typeof t=="string"?t:Ql,s=ox(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Yv("firestore");i&&hC(s,...i)}return s}function k1(t){if(t._terminated)throw new G(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fC(t),t._firestoreClient}function fC(t){var r,s,i;const e=t._freezeSettings(),n=function(u,c,h,m){return new DS(u,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,C1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new lC(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bt(ht.fromBase64String(e))}catch(n){throw new G(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bt(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,Bt._jsonSchema))return Bt.fromBase64String(e.bytes)}}Bt._jsonSchemaVersion="firestore/bytes/1.0",Bt._jsonSchema={type:Ue("string",Bt._jsonSchemaVersion),bytes:Ue("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xn._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,xn._jsonSchema))return new xn(e.latitude,e.longitude)}}xn._jsonSchemaVersion="firestore/geoPoint/1.0",xn._jsonSchema={type:Ue("string",xn._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,_n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new _n(e.vectorValues);throw new G(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_n._jsonSchemaVersion="firestore/vectorValue/1.0",_n._jsonSchema={type:Ue("string",_n._jsonSchemaVersion),vectorValues:Ue("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=/^__.*__$/;class pC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zo(e,this.data,n,this.fieldTransforms)}}function j1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class Hf{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iu(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j1(this.Ac)&&mC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mu(e)}Cc(e,n,r,s=!1){return new Hf({Ac:e,methodName:n,Dc:r,path:lt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yC(t){const e=t._freezeSettings(),n=Mu(t._databaseId);return new gC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vC(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);O1("Data must be an object, but it was:",o,r);const u=D1(r,o);let c,h;if(i.merge)c=new en(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const p of i.mergeFields){const g=xC(e,p,n);if(!o.contains(g))throw new G(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wC(m,g)||m.push(g)}c=new en(m),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new pC(new $t(u),c,h)}function P1(t,e){if(V1(t=is(t)))return O1("Unsupported field value:",e,t),D1(t,e);if(t instanceof R1)return function(r,s){if(!j1(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let c=P1(u,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=is(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sb(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ee.fromDate(r);return{timestampValue:tu(s.serializer,i)}}if(r instanceof Ee){const i=new Ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tu(s.serializer,i)}}if(r instanceof xn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bt)return{bytesValue:e1(s.serializer,r._byteString)};if(r instanceof Xe){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof _n)return function(o,u){return{mapValue:{fields:{[kx]:{stringValue:Rx},[Xl]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return bf(u.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${xf(r)}`)}(t,e)}function D1(t,e){const n={};return Nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(t,(r,s)=>{const i=P1(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function V1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ee||t instanceof xn||t instanceof Bt||t instanceof Xe||t instanceof R1||t instanceof _n)}function O1(t,e,n){if(!V1(n)||!Ex(n)){const r=xf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function xC(t,e,n){if((e=is(e))instanceof qf)return e._internalPath;if(typeof e=="string")return M1(t,e);throw iu("Field path arguments must be of type string or ",t,!1,void 0,n)}const _C=new RegExp("[~\\*/\\[\\]]");function M1(t,e,n){if(e.search(_C)>=0)throw iu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qf(...e.split("."))._internalPath}catch{throw iu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function iu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new G(z.INVALID_ARGUMENT,u+t+c)}function wC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(F1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EC extends L1{data(){return super.data()}}function F1(t,e){return typeof e=="string"?M1(t,e):e instanceof qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NC{convertValue(e,n="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fs(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Xl].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Ve(o.doubleValue));return new _n(n)}convertGeoPoint(e){return new xn(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ku(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mo(e));default:return null}}convertTimestamp(e){const n=Sr(e);return new Ee(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);he(o1(r),9688,{name:e});const s=new Lo(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Ln(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Zi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends L1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(F1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Ue("string",Jr._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class pl extends Jr{data(e={}){return super.data(e)}}class Ws{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pl(this._firestore,this._userDataWriter,r.key,r,new Zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const c=new pl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zi(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const c=new pl(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Zi(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:bC(u.type),doc:c,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ws._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}Ws._jsonSchemaVersion="firestore/querySnapshot/1.0",Ws._jsonSchema={type:Ue("string",Ws._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class U1 extends NC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}function Rt(t,e,n){t=Yr(t,Xe);const r=Yr(t.firestore,$o),s=SC(t.converter,e);return z1(r,[vC(yC(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,yn.none())])}function Ga(t){return z1(Yr(t.firestore,$o),[new If(t._key,yn.none())])}function Es(t,...e){var c,h,m;t=is(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||l0(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(l0(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(m=p.complete)==null?void 0:m.bind(p)}let i,o,u;if(t instanceof Xe)o=Yr(t.firestore,$o),u=Sf(t._key.path),i={next:p=>{e[r]&&e[r](IC(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Yr(t,zu);o=Yr(p.firestore,$o),u=p._query;const g=new U1(o);i={next:E=>{e[r]&&e[r](new Ws(o,g,p,E))},error:e[r+1],complete:e[r+2]},TC(t._query)}return function(g,E,A,k){const R=new aC(k),T=new $I(E,R,A);return g.asyncQueue.enqueueAndForget(async()=>LI(await t0(g),T)),()=>{R.Nu(),g.asyncQueue.enqueueAndForget(async()=>FI(await t0(g),T))}}(k1(o),u,s,i)}function z1(t,e){return function(r,s){const i=new Xr;return r.asyncQueue.enqueueAndForget(async()=>JI(await cC(r),s,i)),i.promise}(k1(t),e)}function IC(t,e,n){const r=n.docs.get(e._key),s=new U1(t);return new Jr(t,s,e._key,r,new Zi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){fi=s})(lx),Do(new ni("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new $o(new pS(r.getProvider("auth-internal")),new vS(o,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new G(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(h.options.projectId,m)}(o,s),o);return i={useFetchStreams:n,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),xr(dg,fg,e),xr(dg,fg,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="firebasestorage.googleapis.com",CC="storageBucket",AC=2*60*1e3,kC=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends ds{constructor(e,n,r=0){super(Qc(e),`Firebase Storage: ${n} (${Qc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tn||(Tn={}));function Qc(t){return"storage/"+t}function RC(){const t="An unknown error occurred, please check the error payload for server response.";return new Nn(Tn.UNKNOWN,t)}function jC(){return new Nn(Tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PC(){return new Nn(Tn.CANCELED,"User canceled the upload/download.")}function DC(t){return new Nn(Tn.INVALID_URL,"Invalid URL '"+t+"'.")}function VC(t){return new Nn(Tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function u0(t){return new Nn(Tn.INVALID_ARGUMENT,t)}function B1(){return new Nn(Tn.APP_DELETED,"The Firebase app was deleted.")}function OC(t){return new Nn(Tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw VC(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function h(C){C.path_=decodeURIComponent(C.path)}const m="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${m}/b/${s}/o${g}`,"i"),A={bucket:1,path:3},k=n===$1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",T=new RegExp(`^https?://${k}/${s}/${R}`,"i"),N=[{regex:u,indices:c,postModify:i},{regex:E,indices:A,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let C=0;C<N.length;C++){const O=N[C],L=O.regex.exec(e);if(L){const x=L[O.indices.bucket];let y=L[O.indices.path];y||(y=""),r=new tn(x,y),O.postModify(r);break}}if(r==null)throw DC(e);return r}}class MC{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e,n){let r=1,s=null,i=null,o=!1,u=0;function c(){return u===2}let h=!1;function m(...R){h||(h=!0,e.apply(null,R))}function p(R){s=setTimeout(()=>{s=null,t(E,c())},R)}function g(){i&&clearTimeout(i)}function E(R,...T){if(h){g();return}if(R){g(),m.call(null,R,...T);return}if(c()||o){g(),m.call(null,R,...T);return}r<64&&(r*=2);let N;u===1?(u=2,N=0):N=(r+Math.random())*1e3,p(N)}let A=!1;function k(R){A||(A=!0,g(),!h&&(s!==null?(R||(u=2),clearTimeout(s),p(0)):R||(u=1)))}return p(0),i=setTimeout(()=>{o=!0,k(!0)},n),k}function FC(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){return t!==void 0}function c0(t,e,n,r){if(r<e)throw u0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw u0(`Invalid value for '${t}'. Expected ${n} or less.`)}function zC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var ou;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ou||(ou={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r,s,i,o,u,c,h,m,p,g=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,k)=>{this.resolve_=A,this.reject_=k,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ka(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=u=>{const c=u.loaded,h=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const u=i.getErrorCode()===ou.NO_ERROR,c=i.getStatus();if(!u||$C(c,this.additionalRetryCodes_)&&this.retry){const m=i.getErrorCode()===ou.ABORT;r(!1,new Ka(!1,null,m));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Ka(h,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,u=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());UC(c)?i(c):i()}catch(c){o(c)}else if(u!==null){const c=RC();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(s.canceled){const c=this.appDelete_?B1():PC();o(c)}else{const c=jC();o(c)}};this.canceled_?n(!1,new Ka(!1,null,!0)):this.backoffId_=LC(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&FC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ka{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qC(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function HC(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WC(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GC(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KC(t,e,n,r,s,i,o=!0,u=!1){const c=zC(t.urlParams),h=t.url+c,m=Object.assign({},t.headers);return WC(m,e),qC(m,n),HC(m,i),GC(m,r),new BC(h,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new au(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XC(this._location.path)}get storage(){return this._service}get parent(){const e=QC(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new au(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OC(e)}}function h0(t,e){const n=e==null?void 0:e[CC];return n==null?null:tn.makeFromBucketSpec(n,t)}function YC(t,e,n,r={}){t.host=`${e}:${n}`;const s=Iu(e);s&&(Zv(`https://${t.host}/b`),tx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ex(i,t.app.options.projectId))}class JC{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=$1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AC,this._maxUploadRetryTime=kC,this._requests=new Set,s!=null?this._bucket=tn.makeFromBucketSpec(s,this._host):this._bucket=h0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=h0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){c0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ax(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new au(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new MC(B1());{const o=KC(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const d0="@firebase/storage",f0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="storage";function ZC(t=cx(),e){t=is(t);const r=ox(t,q1).getImmediate({identifier:e}),s=Yv("storage");return s&&eA(r,...s),r}function eA(t,e,n,r={}){YC(t,e,n,r)}function tA(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new JC(n,r,s,e,lx)}function nA(){Do(new ni(q1,tA,"PUBLIC").setMultipleInstances(!0)),xr(d0,f0,""),xr(d0,f0,"esm2020")}nA();const rA={apiKey:"AIzaSyBqgrDp5C2N0VkD-7cLJWXY7YWGE7ka8LI",authDomain:"luz-espiritual-site.firebaseapp.com",projectId:"luz-espiritual-site",storageBucket:"luz-espiritual-site.appspot.com",messagingSenderId:"700205930926",appId:"1:700205930926:web:272776be5b3b77e21e103f"},H1=ux(rA),Ie=dC(H1);ZC(H1);const sA=({atabaqueEnabled:t,onToggleAtabaque:e,backgroundMusicEnabled:n,onToggleBackgroundMusic:r})=>{const[s,i]=j.useState("dashboard"),o=j.useRef(null),u=j.useRef(null),c=j.useRef(null),h=j.useRef(null),[m,p]=j.useState({title:"Luz Espiritual",slogan:"O destino fala, os bzios revelam, Exu transforma",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com",calendarEmail:"agenda@luzespiritual.com",logoImage:"",headerImage:""}),g=P=>{switch(P){case"Instagram":return l.jsx(KT,{className:"w-5 h-5"});case"Facebook":return l.jsx($T,{className:"w-5 h-5"});case"TikTok":return l.jsx(Xp,{className:"w-5 h-5"});case"YouTube":return l.jsx(C4,{className:"w-5 h-5"});case"Twitter":return l.jsx(x4,{className:"w-5 h-5"});default:return l.jsx(ul,{className:"w-5 h-5"})}},[E,A]=j.useState([{platform:"Instagram",username:"",url:"",active:!1,iconName:"Instagram"},{platform:"Facebook",username:"",url:"",active:!1,iconName:"Facebook"},{platform:"TikTok",username:"",url:"",active:!1,iconName:"TikTok"},{platform:"YouTube",username:"",url:"",active:!1,iconName:"YouTube"},{platform:"Twitter",username:"",url:"",active:!1,iconName:"Twitter"}]),k=[{id:"1",title:"Consulta Espiritual",description:"Orientao espiritual personalizada com conexo direta aos Orixs. Inclui limpeza energtica e direcionamento para questes pessoais, profissionais e amorosas.",duration:"60 minutos",price:"R$ 120,00",active:!0,image:"https://images.pexels.com/photos/6980523/pexels-photo-6980523.jpeg?auto=compress&cs=tinysrgb&w=800"},{id:"2",title:"Jogo de Bzios",description:"Revelao do destino atravs dos bzios sagrados. Consulta ancestral que desvenda caminhos, obstculos e oportunidades em sua jornada espiritual.",duration:"45 minutos",price:"R$ 90,00",active:!0,image:"https://images.pexels.com/photos/6980526/pexels-photo-6980526.jpeg?auto=compress&cs=tinysrgb&w=800"},{id:"3",title:"Iniciao",description:"Cerimnias sagradas de iniciao na tradio If. Processo completo de conexo com seu Orix de cabea e desenvolvimento espiritual.",duration:"Processo completo",price:"Consultar",active:!0,image:"https://images.pexels.com/photos/6980528/pexels-photo-6980528.jpeg?auto=compress&cs=tinysrgb&w=800"}],[R,T]=j.useState([]),[_,N]=j.useState([]),[C,O]=j.useState([]),[L,x]=j.useState([]),[y,w]=j.useState(null),[S,I]=j.useState(null),[D,b]=j.useState(!1),[$e,Tt]=j.useState(!1),[Dr,on]=j.useState(!1),[q,Q]=j.useState(!1),[Y,ge]=j.useState("Rituais"),[fe,Kt]=j.useState("file"),[Be,Qt]=j.useState("url"),[Je,Lt]=j.useState("url"),[zn,yi]=j.useState(""),[vi,xi]=j.useState(!1),ra=[{id:"dashboard",label:"Dashboard",icon:l.jsx(Qh,{className:"w-5 h-5"})},{id:"services",label:"Servios",icon:l.jsx(Fa,{className:"w-5 h-5"})},{id:"events",label:"Eventos",icon:l.jsx(Bl,{className:"w-5 h-5"})},{id:"gallery",label:"Galeria",icon:l.jsx(ll,{className:"w-5 h-5"})},{id:"schedule",label:"Agenda",icon:l.jsx(gr,{className:"w-5 h-5"})},{id:"social",label:"Redes Sociais",icon:l.jsx(ul,{className:"w-5 h-5"})},{id:"audio",label:"udio",icon:l.jsx(Jp,{className:"w-5 h-5"})},{id:"settings",label:"Configuraes",icon:l.jsx(i4,{className:"w-5 h-5"})}],_i=["Rituais","Iniciao","Eventos"];N0.useEffect(()=>{const P=He(Ie,"settings","site"),U=Es(P,me=>{if(me.exists())try{p(me.data())}catch(De){console.error("Erro ao parsear site settings:",De)}},me=>console.error("settings snapshot error:",me)),oe=He(Ie,"settings","social"),be=Es(oe,me=>{if(me.exists()){const De=me.data();De!=null&&De.profiles&&Array.isArray(De.profiles)&&A(De.profiles)}},me=>console.error("social snapshot error:",me)),ue=Wa(Ie,"services"),Ne=Es(ue,me=>{const De=me.docs.map(it=>({...it.data(),id:it.id}));De.length===0&&k.forEach(async it=>{try{const vs=String(it.id);await Rt(He(Ie,"services",vs),{...it})}catch(vs){console.error("erro init service:",vs)}}),T(De)},me=>console.error("services snapshot error:",me)),ve=Wa(Ie,"events"),Me=Es(ve,me=>{const De=me.docs.map(it=>({...it.data(),id:it.id}));x(De)},me=>console.error("events snapshot error:",me)),Wu=Wa(Ie,"gallery"),Gu=Es(Wu,me=>{const De=me.docs.map(it=>({...it.data(),id:it.id}));N(De)},me=>console.error("gallery snapshot error:",me)),Bn=Wa(Ie,"blockedTimes"),Ku=Es(Bn,me=>{const De=me.docs.map(it=>({...it.data(),id:it.id}));O(De)},me=>console.error("blockedTimes snapshot error:",me));return()=>{U(),be(),Ne(),Me(),Gu(),Ku()}},[]);const sa=async()=>{try{await Rt(He(Ie,"settings","site"),m),ee.success("Configuraes salvas no Firebase!")}catch(P){console.error("Erro ao salvar configuraes:",P),ee.error("Erro ao salvar no Firebase")}},$u=async()=>{try{await Rt(He(Ie,"settings","social"),{profiles:E}),ee.success("Redes sociais salvas no Firebase!")}catch(P){console.error("Erro ao salvar redes sociais:",P),ee.error("Erro ao salvar no Firebase")}},wi=async P=>{try{const U=String(P.id&&String(P.id)!=="0"?P.id:Date.now());await Rt(He(Ie,"services",U),{...P,id:U}),ee.success("Servio salvo com sucesso!"),b(!1),w(null)}catch(U){console.error("Erro ao salvar servio:",U),ee.error("Erro ao salvar servio")}},Ei=async P=>{try{await Ga(He(Ie,"services",String(P))),ee.success("Servio excludo!")}catch(U){console.error("Erro ao excluir servio:",U),ee.error("Erro ao excluir servio")}},ia=async P=>{try{const U=String(P.id&&String(P.id)!=="0"?P.id:Date.now());await Rt(He(Ie,"events",U),{...P,id:U}),ee.success(P.id?"Evento atualizado!":"Evento criado!"),Tt(!1),I(null)}catch(U){console.error("Erro ao salvar evento:",U),ee.error("Erro ao salvar evento")}},Ze=async P=>{try{await Ga(He(Ie,"events",String(P))),ee.success("Evento excludo!")}catch(U){console.error("Erro ao excluir evento:",U),ee.error("Erro ao excluir evento")}},et=P=>{const U=P.target.files;U&&U.length>0&&Array.from(U).forEach(oe=>{const be=new FileReader;be.onload=async ue=>{var ve;const Ne={src:(ve=ue.target)==null?void 0:ve.result,category:Y,title:oe.name.split(".")[0],description:`Imagem adicionada  seo ${Y}`};try{const Me=String(Date.now())+Math.random().toString(36).substring(2,9);await Rt(He(Ie,"gallery",Me),{...Ne,id:Me}),ee.success(`Imagem ${oe.name} adicionada!`),on(!1)}catch(Me){console.error("Erro ao enviar imagem para Firestore:",Me),ee.error("Erro ao enviar imagem")}},be.readAsDataURL(oe)})},ys=async()=>{if(zn.trim())try{const P=String(Date.now())+Math.random().toString(36).substring(2,9),U={id:P,src:zn,category:Y,title:`Imagem ${Y}`,description:`Imagem adicionada  seo ${Y}`};await Rt(He(Ie,"gallery",P),U),ee.success("Imagem adicionada com sucesso!"),yi(""),on(!1)}catch(P){console.error("Erro ao adicionar imagem por URL:",P),ee.error("Erro ao adicionar imagem")}},Bu=async P=>{try{await Ga(He(Ie,"gallery",String(P))),ee.success("Imagem excluda!")}catch(U){console.error("Erro ao excluir imagem:",U),ee.error("Erro ao excluir imagem")}},oa=async P=>{P.preventDefault();const U=new FormData(P.currentTarget),oe=U.get("isFullDay")==="on",be=U.get("customReason"),ue={id:String(Date.now()),date:U.get("date"),startTime:oe?"":U.get("startTime"),endTime:oe?"":U.get("endTime"),isFullDay:oe,reason:vi?be:"Ocupado na agenda"};try{await Rt(He(Ie,"blockedTimes",String(ue.id)),ue),ee.success("Horrio bloqueado!"),Q(!1),xi(!1)}catch(Ne){console.error("Erro ao bloquear horrio:",Ne),ee.error("Erro ao bloquear horrio")}},qu=async P=>{try{await Ga(He(Ie,"blockedTimes",String(P))),ee.success("Bloqueio removido!")}catch(U){console.error("Erro ao remover bloqueio:",U),ee.error("Erro ao remover bloqueio")}},$n=P=>{var oe;const U=(oe=P.target.files)==null?void 0:oe[0];if(U&&y){const be=new FileReader;be.onload=async ue=>{var ve;const Ne={...y,image:(ve=ue.target)==null?void 0:ve.result};w(Ne);try{await Rt(He(Ie,"services",String(Ne.id||Date.now())),Ne),ee.success("Imagem do servio salva!")}catch(Me){console.error("Erro ao salvar imagem do servio:",Me)}},be.readAsDataURL(U)}},Ti=P=>{var oe;const U=(oe=P.target.files)==null?void 0:oe[0];if(U&&S){const be=new FileReader;be.onload=async ue=>{var ve;const Ne={...S,image:(ve=ue.target)==null?void 0:ve.result};I(Ne);try{await Rt(He(Ie,"events",String(Ne.id||Date.now())),Ne),ee.success("Imagem do evento salva!")}catch(Me){console.error("Erro ao salvar imagem do evento:",Me)}},be.readAsDataURL(U)}},aa=P=>{var oe;const U=(oe=P.target.files)==null?void 0:oe[0];if(U){const be=new FileReader;be.onload=async ue=>{var ve;const Ne={...m,logoImage:(ve=ue.target)==null?void 0:ve.result};p(Ne);try{await Rt(He(Ie,"settings","site"),Ne),ee.success("Logo salva nas configuraes!")}catch(Me){console.error("Erro ao salvar logo:",Me)}},be.readAsDataURL(U)}},Ni=P=>{var oe;const U=(oe=P.target.files)==null?void 0:oe[0];if(U){const be=new FileReader;be.onload=async ue=>{var ve;const Ne={...m,headerImage:(ve=ue.target)==null?void 0:ve.result};p(Ne);try{await Rt(He(Ie,"settings","site"),Ne),ee.success("Imagem de cabealho salva nas configuraes!")}catch(Me){console.error("Erro ao salvar header image:",Me)}},be.readAsDataURL(U)}},la=(P,U,oe)=>{A(be=>be.map((ue,Ne)=>{if(Ne===P){const ve={...ue,[U]:oe};return(U==="username"||U==="url")&&(ve.active=oe.trim()!==""),ve}return ue}))},Hu=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Dashboard"}),l.jsxs("div",{className:"grid md:grid-cols-5 gap-6",children:[l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Servios Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:R.filter(P=>P.active).length})]}),l.jsx(Fa,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Eventos Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:L.filter(P=>P.active).length})]}),l.jsx(Bl,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Fotos na Galeria"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:_.length})]}),l.jsx(ll,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Redes Ativas"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:E.filter(P=>P.active).length})]}),l.jsx(ul,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Bloqueios Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:C.length})]}),l.jsx(zt,{className:"w-12 h-12 text-amber-600"})]})})]})]}),ua=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Servios"}),l.jsxs("button",{onClick:()=>{w({id:"0",title:"",description:"",duration:"",price:"",active:!0}),b(!0)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yp,{className:"w-4 h-4 inline mr-2"}),"Novo Servio"]})]}),l.jsx("div",{className:"space-y-4",children:R.length===0?l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[l.jsx("p",{className:"text-amber-700 text-lg",children:"Nenhum servio cadastrado ainda."}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Novo Servio" para comear.'})]}):R.map(P=>l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex gap-4 flex-1",children:[P.image&&l.jsx("img",{src:P.image,alt:P.title,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900",children:P.title}),l.jsx("p",{className:"text-amber-700 mt-2",children:P.description}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("p",{className:"text-sm text-amber-600",children:["Durao: ",P.duration]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Preo: ",P.price]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{w(P),b(!0)},className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg",children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>Ei(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(Ua,{className:"w-5 h-5"})})]})]})},String(P.id)))}),D&&y&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:String(y.id)!=="0"?"Editar Servio":"Novo Servio"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo do servio",value:y.title,onChange:P=>w(U=>U?{...U,title:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("textarea",{placeholder:"Descrio",value:y.description,onChange:P=>w(U=>U?{...U,description:P.target.value}:null),className:"w-full p-3 border rounded-lg h-24"}),l.jsx("input",{type:"text",placeholder:"Durao",value:y.duration,onChange:P=>w(U=>U?{...U,duration:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"text",placeholder:"Preo",value:y.price,onChange:P=>w(U=>U?{...U,price:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900",children:"Foto do Servio"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>Qt("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Be==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Lc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>Qt("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Be==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Mc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>Qt("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Be==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Oc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),Be==="url"&&l.jsx("input",{type:"url",placeholder:"URL da imagem",value:y.image||"",onChange:P=>w(U=>U?{...U,image:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),Be==="file"&&l.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:$n,className:"w-full p-3 border rounded-lg"}),Be==="camera"&&l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:$n,className:"w-full p-3 border rounded-lg"}),y.image&&l.jsx("img",{src:y.image,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{onClick:()=>y&&wi(y),className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Salvar"]}),l.jsx("button",{onClick:()=>{b(!1),w(null)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})})]}),ca=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Eventos"}),l.jsxs("button",{onClick:()=>{I({id:"0",title:"",description:"",date:"",time:"",location:"",active:!0}),Tt(!0)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yp,{className:"w-4 h-4 inline mr-2"}),"Novo Evento"]})]}),l.jsx("div",{className:"space-y-4",children:L.length===0?l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[l.jsx("p",{className:"text-amber-700 text-lg",children:"Nenhum evento cadastrado ainda."}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Novo Evento" para comear.'})]}):L.map(P=>l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex gap-4 flex-1",children:[P.image&&l.jsx("img",{src:P.image,alt:P.title,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900",children:P.title}),l.jsx("p",{className:"text-amber-700 mt-2",children:P.description}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("p",{className:"text-sm text-amber-600",children:["Data: ",P.date]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Horrio: ",P.time]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Local: ",P.location]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{I(P),Tt(!0)},className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg",children:l.jsx(Fa,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>Ze(P.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(Ua,{className:"w-5 h-5"})})]})]})},String(P.id)))}),l.jsxs("button",{onClick:()=>ee.success("Eventos j sincronizados automaticamente com o Firestore"),className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Sincronizao (Firestore)"]}),$e&&S&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:String(S.id)!=="0"?"Editar Evento":"Novo Evento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo do evento",value:S.title,onChange:P=>I(U=>U?{...U,title:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("textarea",{placeholder:"Descrio",value:S.description,onChange:P=>I(U=>U?{...U,description:P.target.value}:null),className:"w-full p-3 border rounded-lg h-24"}),l.jsx("input",{type:"date",placeholder:"Data",value:S.date,onChange:P=>I(U=>U?{...U,date:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"time",placeholder:"Horrio",value:S.time,onChange:P=>I(U=>U?{...U,time:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"text",placeholder:"Local",value:S.location,onChange:P=>I(U=>U?{...U,location:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900",children:"Foto do Evento"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>Lt("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Je==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Lc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>Lt("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Je==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Mc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>Lt("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Je==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Oc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),Je==="url"&&l.jsx("input",{type:"url",placeholder:"URL da imagem",value:S.image||"",onChange:P=>I(U=>U?{...U,image:P.target.value}:null),className:"w-full p-3 border rounded-lg"}),Je==="file"&&l.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:Ti,className:"w-full p-3 border rounded-lg"}),Je==="camera"&&l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:Ti,className:"w-full p-3 border rounded-lg"}),S.image&&l.jsx("img",{src:S.image,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{onClick:()=>S&&ia(S),className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Salvar"]}),l.jsx("button",{onClick:()=>{Tt(!1),I(null)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})})]}),Vr=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Galeria"}),l.jsxs("button",{onClick:()=>on(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(w4,{className:"w-4 h-4 inline mr-2"}),"Adicionar Fotos"]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:_.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(ll,{className:"w-16 h-16 text-amber-400 mx-auto mb-4"}),l.jsx("p",{className:"text-xl text-amber-800 mb-2",children:"Nenhuma foto na galeria"}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Adicionar Fotos" para comear.'})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:_.map(P=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:P.src,alt:P.title,className:"w-full aspect-square object-cover rounded-lg"}),l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("span",{className:"px-2 py-1 bg-amber-600 text-white text-xs rounded-full",children:P.category})}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg flex items-center justify-center",children:l.jsx("button",{onClick:()=>Bu(P.id),className:"p-2 bg-red-600 rounded-full text-white hover:bg-red-700",children:l.jsx(Ua,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm font-semibold text-amber-900",children:P.title}),l.jsx("p",{className:"text-xs text-amber-700",children:P.description})]})]},String(P.id)))})}),l.jsxs("button",{onClick:()=>ee.success("Galeria sincronizada automaticamente com Firestore"),className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Sincronizao (Firestore)"]}),Dr&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Adicionar Fotos"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Selecionar Seo"}),l.jsx("select",{value:Y,onChange:P=>ge(P.target.value),className:"w-full p-3 border rounded-lg",children:_i.map(P=>l.jsx("option",{value:P,children:P},P))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Mtodo de Upload"}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{type:"button",onClick:()=>Kt("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Lc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>Kt("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Mc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>Kt("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(Oc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),fe==="url"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"url",placeholder:"Cole a URL da imagem aqui",value:zn,onChange:P=>yi(P.target.value),className:"w-full p-3 border rounded-lg"}),l.jsx("button",{onClick:ys,disabled:!zn.trim(),className:"w-full px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:bg-gray-300",children:"Adicionar Imagem"})]}),fe==="file"&&l.jsx("input",{ref:o,type:"file",multiple:!0,accept:"image/*",onChange:et,className:"w-full p-3 border rounded-lg"}),fe==="camera"&&l.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*",capture:"environment",onChange:et,className:"w-full p-3 border rounded-lg"})]})]}),l.jsx("div",{className:"flex gap-4 mt-6",children:l.jsx("button",{onClick:()=>on(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})})]})})]}),Si=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Agenda"}),l.jsxs("button",{onClick:()=>Q(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"Bloquear Horrio"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Horrios Bloqueados"}),C.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(zt,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),l.jsx("p",{className:"text-amber-700",children:"Nenhum horrio bloqueado"})]}):l.jsx("div",{className:"space-y-3",children:C.map(P=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-900",children:P.date}),l.jsx("p",{className:"text-sm text-red-700",children:P.isFullDay?"Dia inteiro":`${P.startTime} - ${P.endTime}`}),l.jsx("p",{className:"text-sm text-red-600",children:P.reason})]}),l.jsx("button",{onClick:()=>qu(P.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:l.jsx(Ua,{className:"w-4 h-4"})})]},String(P.id)))})]}),l.jsxs("button",{onClick:()=>ee.success("Agenda sincronizada automaticamente com Firestore"),className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Sincronizao (Firestore)"]}),q&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Bloquear Horrio"}),l.jsxs("form",{onSubmit:oa,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Data"}),l.jsx("input",{type:"date",name:"date",required:!0,className:"w-full p-3 border rounded-lg"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",name:"isFullDay"}),l.jsx("span",{className:"text-amber-900 font-semibold",children:"Bloquear dia inteiro"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Hora Incio"}),l.jsx("input",{type:"time",name:"startTime",className:"w-full p-3 border rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Hora Fim"}),l.jsx("input",{type:"time",name:"endTime",className:"w-full p-3 border rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[l.jsx("input",{type:"checkbox",checked:vi,onChange:P=>xi(P.target.checked)}),l.jsx("span",{className:"text-amber-900 font-semibold",children:"Adicionar motivo personalizado"})]}),vi?l.jsx("input",{type:"text",name:"customReason",placeholder:"Ex: Feriado, compromisso pessoal...",className:"w-full p-3 border rounded-lg"}):l.jsx("div",{className:"p-3 bg-gray-50 border rounded-lg",children:l.jsxs("p",{className:"text-gray-600 text-sm",children:["Motivo padro: ",l.jsx("strong",{children:'"Ocupado na agenda"'})]})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-2"}),"Bloquear"]}),l.jsx("button",{type:"button",onClick:()=>{Q(!1),xi(!1)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})]})})]}),bi=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Redes Sociais"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsx("p",{className:"text-amber-700 mb-6",children:"Configure os perfis das redes sociais. Apenas as redes com perfil preenchido aparecero no site."}),l.jsx("div",{className:"space-y-4",children:E.map((P,U)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g(P.iconName),l.jsx("span",{className:"font-semibold text-amber-900 w-20",children:P.platform})]}),l.jsx("input",{type:"text",placeholder:"@usuario",value:P.username,onChange:oe=>la(U,"username",oe.target.value),className:"flex-1 p-2 border rounded"}),l.jsx("input",{type:"url",placeholder:"https://...",value:P.url,onChange:oe=>la(U,"url",oe.target.value),className:"flex-1 p-2 border rounded"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${P.active?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{className:"text-sm text-gray-600",children:P.active?"Ativo":"Inativo"})]})]},P.platform))}),l.jsxs("button",{onClick:$u,className:"mt-6 px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Salvar Redes Sociais"]})]})]}),Sn=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Configuraes de udio"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t?l.jsx(Jp,{className:"w-6 h-6 text-green-600"}):l.jsx(Zp,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-amber-900",children:"Som de Atabaque"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Som que toca quando o usurio clica em qualquer lugar do site"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:P=>e(P.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[n?l.jsx(Xp,{className:"w-6 h-6 text-green-600"}):l.jsx(Zp,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-amber-900",children:"Msica de Fundo"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Msica ambiente que toca automaticamente quando o usurio interage com o site"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:P=>r(P.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]})]}),l.jsxs("button",{onClick:async()=>{try{await Rt(He(Ie,"settings","audio"),{atabaqueEnabled:t,backgroundMusicEnabled:n}),ee.success("Configuraes de udio salvas!")}catch(P){console.error("Erro ao salvar audio settings:",P),ee.error("Erro ao salvar configuraes de udio")}},className:"mt-6 px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Yn,{className:"w-4 h-4 inline mr-2"}),"Salvar Configuraes de udio"]})]})]}),ha=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Configuraes do Site"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Ttulo do Site"}),l.jsx("input",{type:"text",value:m.title,onChange:P=>p(U=>({...U,title:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Slogan"}),l.jsx("input",{type:"text",value:m.slogan,onChange:P=>p(U=>({...U,slogan:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(ss,{className:"w-4 h-4 inline mr-1"}),"Telefone/WhatsApp"]}),l.jsx("input",{type:"text",value:m.phone,onChange:P=>p(U=>({...U,phone:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(zt,{className:"w-4 h-4 inline mr-1"}),"Horrio de Funcionamento"]}),l.jsx("input",{type:"text",value:m.hours,onChange:P=>p(U=>({...U,hours:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(ei,{className:"w-4 h-4 inline mr-1"}),"Email Principal"]}),l.jsx("input",{type:"email",value:m.email,onChange:P=>p(U=>({...U,email:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(gr,{className:"w-4 h-4 inline mr-1"}),"Email da Agenda"]}),l.jsx("input",{type:"email",value:m.calendarEmail,onChange:P=>p(U=>({...U,calendarEmail:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(ti,{className:"w-4 h-4 inline mr-1"}),"Endereo"]}),l.jsx("input",{type:"text",value:m.address,onChange:P=>p(U=>({...U,address:P.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Logo do Site"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"url",value:m.logoImage,onChange:P=>p(U=>({...U,logoImage:P.target.value})),className:"w-full p-3 border rounded-lg",placeholder:"URL da logo ou upload abaixo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:aa,className:"w-full p-2 border rounded-lg"}),m.logoImage&&l.jsx("img",{src:m.logoImage,alt:"Logo Preview",className:"w-20 h-20 object-cover rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Imagem do Cabealho"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"url",value:m.headerImage,onChange:P=>p(U=>({...U,headerImage:P.target.value})),className:"w-full p-3 border rounded-lg",placeholder:"URL da imagem ou upload abaixo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:Ni,className:"w-full p-2 border rounded-lg"}),m.headerImage&&l.jsx("img",{src:m.headerImage,alt:"Header Preview",className:"w-full h-32 object-cover rounded-lg"})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsxs("button",{onClick:sa,className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300 flex items-center gap-2",children:[l.jsx(Yn,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-yellow-400 font-serif",children:"Painel Administrativo Completo"}),l.jsx("p",{className:"text-white mt-2",children:"Gerencie todo o contedo e configuraes do site Luz Espiritual"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"lg:w-64",children:l.jsx("div",{className:"bg-slate-800 rounded-lg shadow-lg p-4 border border-yellow-500/20",children:l.jsx("nav",{className:"space-y-2",children:ra.map(P=>l.jsxs("button",{onClick:()=>i(P.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-300 ${s===P.id?"bg-yellow-500 text-slate-900":"text-white hover:bg-slate-700"}`,children:[P.icon,P.label]},P.id))})})}),l.jsxs("div",{className:"flex-1",children:[s==="dashboard"&&Hu(),s==="services"&&ua(),s==="events"&&ca(),s==="gallery"&&Vr(),s==="schedule"&&Si(),s==="social"&&bi(),s==="audio"&&Sn(),s==="settings"&&ha()]})]})]})})},iA=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState({phone:"(24) 99328-9778"});j.useEffect(()=>{const i=()=>{const c=localStorage.getItem("siteSettings");c&&r(JSON.parse(c))};i();const o=()=>{i()};window.addEventListener("storage",o);const u=setInterval(i,1e3);return()=>{window.removeEventListener("storage",o),clearInterval(u)}},[]);const s=()=>{const i=encodeURIComponent("Ol! Gostaria de saber mais sobre os servios espirituais da Luz Espiritual."),o=`https://wa.me/55${n.phone.replace(/\D/g,"")}?text=${i}`;window.open(o,"_blank")};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:l.jsxs("div",{className:"relative",children:[t&&l.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-2xl p-4 w-72 mb-2 transform transition-all duration-300 animate-in slide-in-from-bottom-5",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx($l,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Luz Espiritual"}),l.jsx("p",{className:"text-xs text-green-600",children:"Online agora"})]})]}),l.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Yo,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"bg-gray-100 rounded-lg p-3 mb-3",children:l.jsx("p",{className:"text-sm text-gray-800",children:"Ol!  Como posso ajud-lo em sua jornada espiritual hoje?"})}),l.jsx("button",{onClick:s,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300",children:"Iniciar Conversa"})]}),l.jsx("button",{onClick:()=>e(!t),className:"bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 animate-pulse",children:l.jsx($l,{className:"w-6 h-6"})}),l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:"1"})]})}),t&&l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>e(!1)})]})},oA=({onLogin:t,onClose:e})=>{const[n,r]=j.useState({username:"",password:""}),s=o=>{o.preventDefault(),t(n.username,n.password)?(ee.success("Login realizado com sucesso!"),e()):ee.error("Credenciais invlidas!")},i=o=>{const{name:u,value:c}=o.target;r(h=>({...h,[u]:c}))};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(Fc,{className:"w-6 h-6 text-amber-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-amber-900 font-serif",children:"Acesso Administrativo"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-300",children:l.jsx(Yo,{className:"w-5 h-5 text-gray-600"})})]}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Usurio"}),l.jsxs("div",{className:"relative",children:[l.jsx(ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-amber-600 w-5 h-5"}),l.jsx("input",{type:"text",name:"username",value:n.username,onChange:i,className:"w-full pl-12 pr-4 py-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu usurio",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(Fc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-amber-600 w-5 h-5"}),l.jsx("input",{type:"password",name:"password",value:n.password,onChange:i,className:"w-full pl-12 pr-4 py-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none transition-colors duration-300",placeholder:"Digite sua senha",required:!0})]})]}),l.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold rounded-lg hover:from-amber-700 hover:to-orange-700 transform hover:scale-105 transition-all duration-300 shadow-lg",children:"Entrar"})]}),l.jsx("div",{className:"mt-6 p-4 bg-amber-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-amber-800 text-center",children:[l.jsx(Fc,{className:"w-4 h-4 inline mr-1"}),"rea restrita para administradores"]})})]})})};function aA(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[s,i]=j.useState(0),[o,u]=j.useState(!1),[c,h]=j.useState(!0),[m,p]=j.useState(!0);j.useEffect(()=>{localStorage.getItem("isAdmin")==="true"&&e(!0)},[]);const g=j.useRef(null),E=j.useRef(null);j.useEffect(()=>{const C=new Audio;C.src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",C.volume=.7,g.current=C;const O=new Audio;O.src="https://media.vocaroo.com/mp3/1hVSqVKdjS35",O.loop=!0,O.volume=.3,O.crossOrigin="anonymous",E.current=O;const L=localStorage.getItem("atabaqueEnabled");L!==null&&h(JSON.parse(L));const x=localStorage.getItem("backgroundMusicEnabled");x!==null&&p(JSON.parse(x))},[]);const A=()=>{const C=s+1;i(C),C===5&&(r(!0),i(0))},k=(C,O)=>C==="admin"&&O==="123456"?(e(!0),localStorage.setItem("isAdmin","true"),r(!1),!0):!1,R=()=>{e(!1),localStorage.removeItem("isAdmin")},T=()=>{c&&g.current&&(g.current.currentTime=0,g.current.play().catch(console.log)),!o&&m&&E.current&&(E.current.play().catch(console.log),u(!0))},_=C=>{h(C),localStorage.setItem("atabaqueEnabled",JSON.stringify(C))},N=C=>{p(C),localStorage.setItem("backgroundMusicEnabled",JSON.stringify(C)),E.current&&(C&&o?E.current.play().catch(console.log):E.current.pause())};return l.jsx(OE,{children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",onClick:T,onScroll:T,onMouseMove:T,style:{cursor:"default"},children:[l.jsx(A4,{onLogoClick:A,isAdmin:t,onLogout:R}),l.jsx("main",{className:"pt-20",children:l.jsxs(AE,{children:[l.jsx($r,{path:"/",element:l.jsx(R4,{})}),l.jsx($r,{path:"/services",element:l.jsx(j4,{})}),l.jsx($r,{path:"/gallery",element:l.jsx(P4,{})}),l.jsx($r,{path:"/contact",element:l.jsx(D4,{})}),l.jsx($r,{path:"/booking",element:l.jsx(V4,{})}),t&&l.jsx($r,{path:"/admin",element:l.jsx(sA,{atabaqueEnabled:c,onToggleAtabaque:_,backgroundMusicEnabled:m,onToggleBackgroundMusic:N})})]})}),l.jsx(k4,{}),l.jsx(iA,{}),n&&l.jsx(oA,{onLogin:k,onClose:()=>r(!1)}),l.jsx(IT,{position:"top-right"})]})})}Iv(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(aA,{})}));
