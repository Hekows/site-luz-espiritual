function jx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Rx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qg={exports:{}},Wl={},Hg={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ro=Symbol.for("react.element"),Px=Symbol.for("react.portal"),Vx=Symbol.for("react.fragment"),Dx=Symbol.for("react.strict_mode"),Mx=Symbol.for("react.profiler"),Ox=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),Fx=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),zx=Symbol.for("react.memo"),$x=Symbol.for("react.lazy"),fm=Symbol.iterator;function Bx(t){return t===null||typeof t!="object"?null:(t=fm&&t[fm]||t["@@iterator"],typeof t=="function"?t:null)}var Wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gg=Object.assign,Qg={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=Qg,this.updater=n||Wg}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kg(){}Kg.prototype=Gs.prototype;function Jd(t,e,n){this.props=t,this.context=e,this.refs=Qg,this.updater=n||Wg}var Xd=Jd.prototype=new Kg;Xd.constructor=Jd;Gg(Xd,Gs.prototype);Xd.isPureReactComponent=!0;var mm=Array.isArray,Jg=Object.prototype.hasOwnProperty,Yd={current:null},Xg={key:!0,ref:!0,__self:!0,__source:!0};function Yg(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Jg.call(e,r)&&!Xg.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];s.children=c}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:Ro,type:t,key:i,ref:o,props:s,_owner:Yd.current}}function qx(t,e){return{$$typeof:Ro,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ro}function Hx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pm=/\/+/g;function $u(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hx(""+t.key):e.toString(36)}function Pa(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ro:case Px:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$u(o,0):r,mm(s)?(n="",t!=null&&(n=t.replace(pm,"$&/")+"/"),Pa(s,e,n,"",function(h){return h})):s!=null&&(Zd(s)&&(s=qx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(pm,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",mm(t))for(var u=0;u<t.length;u++){i=t[u];var c=r+$u(i,u);o+=Pa(i,e,n,c,s)}else if(c=Bx(t),typeof c=="function")for(t=c.call(t),u=0;!(i=t.next()).done;)i=i.value,c=r+$u(i,u++),o+=Pa(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function la(t,e,n){if(t==null)return t;var r=[],s=0;return Pa(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Wx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},Va={transition:null},Gx={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Va,ReactCurrentOwner:Yd};function Zg(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:la,forEach:function(t,e,n){la(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return la(t,function(){e++}),e},toArray:function(t){return la(t,function(e){return e})||[]},only:function(t){if(!Zd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Gs;re.Fragment=Vx;re.Profiler=Mx;re.PureComponent=Jd;re.StrictMode=Dx;re.Suspense=Ux;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gx;re.act=Zg;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Gg({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Jg.call(e,c)&&!Xg.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:Ro,type:t.type,key:s,ref:i,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:Lx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ox,_context:t},t.Consumer=t};re.createElement=Yg;re.createFactory=function(t){var e=Yg.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:Fx,render:t}};re.isValidElement=Zd;re.lazy=function(t){return{$$typeof:$x,_payload:{_status:-1,_result:t},_init:Wx}};re.memo=function(t,e){return{$$typeof:zx,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Va.transition;Va.transition={};try{t()}finally{Va.transition=e}};re.unstable_act=Zg;re.useCallback=function(t,e){return gt.current.useCallback(t,e)};re.useContext=function(t){return gt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};re.useEffect=function(t,e){return gt.current.useEffect(t,e)};re.useId=function(){return gt.current.useId()};re.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return gt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};re.useRef=function(t){return gt.current.useRef(t)};re.useState=function(t){return gt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return gt.current.useTransition()};re.version="18.3.1";Hg.exports=re;var j=Hg.exports;const Cc=Rx(j),Qx=jx({__proto__:null,default:Cc},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx=j,Jx=Symbol.for("react.element"),Xx=Symbol.for("react.fragment"),Yx=Object.prototype.hasOwnProperty,Zx=Kx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ew={key:!0,ref:!0,__self:!0,__source:!0};function e0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yx.call(e,r)&&!ew.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Jx,type:t,key:i,ref:o,props:s,_owner:Zx.current}}Wl.Fragment=Xx;Wl.jsx=e0;Wl.jsxs=e0;qg.exports=Wl;var l=qg.exports,t0={exports:{}},kt={},n0={exports:{}},r0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,J){var Y=q.length;q.push(J);e:for(;0<Y;){var ge=Y-1>>>1,fe=q[ge];if(0<s(fe,J))q[ge]=J,q[Y]=fe,Y=ge;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var J=q[0],Y=q.pop();if(Y!==J){q[0]=Y;e:for(var ge=0,fe=q.length,$t=fe>>>1;ge<$t;){var Fe=2*(ge+1)-1,Bt=q[Fe],We=Fe+1,Rt=q[We];if(0>s(Bt,Y))We<fe&&0>s(Rt,Bt)?(q[ge]=Rt,q[We]=Y,ge=We):(q[ge]=Bt,q[Fe]=Y,ge=Fe);else if(We<fe&&0>s(Rt,Y))q[ge]=Rt,q[We]=Y,ge=We;else break e}}return J}function s(q,J){var Y=q.sortIndex-J.sortIndex;return Y!==0?Y:q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],h=[],m=1,p=null,g=3,S=!1,A=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=q)r(h),J.sortIndex=J.expirationTime,e(c,J);else break;J=n(h)}}function C(q){if(k=!1,N(q),!A)if(n(c)!==null)A=!0,Sr(M);else{var J=n(h);J!==null&&Yt(C,J.startTime-q)}}function M(q,J){A=!1,k&&(k=!1,E(y),y=-1),S=!0;var Y=g;try{for(N(J),p=n(c);p!==null&&(!(p.expirationTime>J)||q&&!I());){var ge=p.callback;if(typeof ge=="function"){p.callback=null,g=p.priorityLevel;var fe=ge(p.expirationTime<=J);J=t.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(c)&&r(c),N(J)}else r(c);p=n(c)}if(p!==null)var $t=!0;else{var Fe=n(h);Fe!==null&&Yt(C,Fe.startTime-J),$t=!1}return $t}finally{p=null,g=Y,S=!1}}var F=!1,x=null,y=-1,_=5,T=-1;function I(){return!(t.unstable_now()-T<_)}function R(){if(x!==null){var q=t.unstable_now();T=q;var J=!0;try{J=x(!0,q)}finally{J?b():(F=!1,x=null)}}else F=!1}var b;if(typeof w=="function")b=function(){w(R)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,vt=Le.port2;Le.port1.onmessage=R,b=function(){vt.postMessage(null)}}else b=function(){D(R,0)};function Sr(q){x=q,F||(F=!0,b())}function Yt(q,J){y=D(function(){q(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){A||S||(A=!0,Sr(M))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var Y=g;g=J;try{return q()}finally{g=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,J){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=g;g=q;try{return J()}finally{g=Y}},t.unstable_scheduleCallback=function(q,J,Y){var ge=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ge+Y:ge):Y=ge,q){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=Y+fe,q={id:m++,callback:J,priorityLevel:q,startTime:Y,expirationTime:fe,sortIndex:-1},Y>ge?(q.sortIndex=Y,e(h,q),n(c)===null&&q===n(h)&&(k?(E(y),y=-1):k=!0,Yt(C,Y-ge))):(q.sortIndex=fe,e(c,q),A||S||(A=!0,Sr(M))),q},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(q){var J=g;return function(){var Y=g;g=J;try{return q.apply(this,arguments)}finally{g=Y}}}})(r0);n0.exports=r0;var tw=n0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nw=j,At=tw;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s0=new Set,no={};function Kr(t,e){Rs(t,e),Rs(t+"Capture",e)}function Rs(t,e){for(no[t]=e,t=0;t<e.length;t++)s0.add(e[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ac=Object.prototype.hasOwnProperty,rw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gm={},ym={};function sw(t){return Ac.call(ym,t)?!0:Ac.call(gm,t)?!1:rw.test(t)?ym[t]=!0:(gm[t]=!0,!1)}function iw(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ow(t,e,n,r){if(e===null||typeof e>"u"||iw(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var eh=/[\-:]([a-z])/g;function th(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(eh,th);it[e]=new yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(eh,th);it[e]=new yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(eh,th);it[e]=new yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new yt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function nh(t,e,n,r){var s=it.hasOwnProperty(e)?it[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ow(e,n,s,r)&&(n=null),r||s===null?sw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=nw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),hs=Symbol.for("react.portal"),fs=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),o0=Symbol.for("react.context"),sh=Symbol.for("react.forward_ref"),jc=Symbol.for("react.suspense"),Rc=Symbol.for("react.suspense_list"),ih=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),a0=Symbol.for("react.offscreen"),vm=Symbol.iterator;function Ti(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var Ie=Object.assign,Bu;function Pi(t){if(Bu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bu=e&&e[1]||""}return`
`+Bu+t}var qu=!1;function Hu(t,e){if(!t||qu)return"";qu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,u=i.length-1;1<=o&&0<=u&&s[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(s[o]!==i[u]){if(o!==1||u!==1)do if(o--,u--,0>u||s[o]!==i[u]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=u);break}}}finally{qu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pi(t):""}function aw(t){switch(t.tag){case 5:return Pi(t.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return t=Hu(t.type,!1),t;case 11:return t=Hu(t.type.render,!1),t;case 1:return t=Hu(t.type,!0),t;default:return""}}function Pc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fs:return"Fragment";case hs:return"Portal";case kc:return"Profiler";case rh:return"StrictMode";case jc:return"Suspense";case Rc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o0:return(t.displayName||"Context")+".Consumer";case i0:return(t._context.displayName||"Context")+".Provider";case sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ih:return e=t.displayName||null,e!==null?e:Pc(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return Pc(t(e))}catch{}}return null}function lw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pc(e);case 8:return e===rh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function l0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uw(t){var e=l0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ca(t){t._valueTracker||(t._valueTracker=uw(t))}function u0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=l0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function el(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vc(t,e){var n=e.checked;return Ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function c0(t,e){e=e.checked,e!=null&&nh(t,"checked",e,!1)}function Dc(t,e){c0(t,e);var n=dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mc(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function wm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mc(t,e,n){(e!=="number"||el(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vi=Array.isArray;function Ns(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Oc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _m(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(Vi(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function d0(t,e){var n=dr(e.value),r=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Em(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function h0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var da,f0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(da=da||document.createElement("div"),da.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=da.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cw=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(t){cw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zi[e]=zi[t]})});function m0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zi.hasOwnProperty(t)&&zi[t]?(""+e).trim():e+"px"}function p0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=m0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dw=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fc(t,e){if(e){if(dw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Uc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zc=null;function oh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $c=null,Ts=null,bs=null;function Sm(t){if(t=Do(t)){if(typeof $c!="function")throw Error($(280));var e=t.stateNode;e&&(e=Xl(e),$c(t.stateNode,t.type,e))}}function g0(t){Ts?bs?bs.push(t):bs=[t]:Ts=t}function y0(){if(Ts){var t=Ts,e=bs;if(bs=Ts=null,Sm(t),e)for(t=0;t<e.length;t++)Sm(e[t])}}function v0(t,e){return t(e)}function x0(){}var Wu=!1;function w0(t,e,n){if(Wu)return t(e,n);Wu=!0;try{return v0(t,e,n)}finally{Wu=!1,(Ts!==null||bs!==null)&&(x0(),y0())}}function so(t,e){var n=t.stateNode;if(n===null)return null;var r=Xl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Bc=!1;if(Sn)try{var bi={};Object.defineProperty(bi,"passive",{get:function(){Bc=!0}}),window.addEventListener("test",bi,bi),window.removeEventListener("test",bi,bi)}catch{Bc=!1}function hw(t,e,n,r,s,i,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(m){this.onError(m)}}var $i=!1,tl=null,nl=!1,qc=null,fw={onError:function(t){$i=!0,tl=t}};function mw(t,e,n,r,s,i,o,u,c){$i=!1,tl=null,hw.apply(fw,arguments)}function pw(t,e,n,r,s,i,o,u,c){if(mw.apply(this,arguments),$i){if($i){var h=tl;$i=!1,tl=null}else throw Error($(198));nl||(nl=!0,qc=h)}}function Jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nm(t){if(Jr(t)!==t)throw Error($(188))}function gw(t){var e=t.alternate;if(!e){if(e=Jr(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Nm(s),t;if(i===r)return Nm(s),e;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o){for(u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function E0(t){return t=gw(t),t!==null?S0(t):null}function S0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=S0(t);if(e!==null)return e;t=t.sibling}return null}var N0=At.unstable_scheduleCallback,Tm=At.unstable_cancelCallback,yw=At.unstable_shouldYield,vw=At.unstable_requestPaint,Pe=At.unstable_now,xw=At.unstable_getCurrentPriorityLevel,ah=At.unstable_ImmediatePriority,T0=At.unstable_UserBlockingPriority,rl=At.unstable_NormalPriority,ww=At.unstable_LowPriority,b0=At.unstable_IdlePriority,Gl=null,an=null;function _w(t){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Gl,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Nw,Ew=Math.log,Sw=Math.LN2;function Nw(t){return t>>>=0,t===0?32:31-(Ew(t)/Sw|0)|0}var ha=64,fa=4194304;function Di(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var u=o&~s;u!==0?r=Di(u):(i&=o,i!==0&&(r=Di(i)))}else o=n&~s,o!==0?r=Di(o):i!==0&&(r=Di(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kt(e),s=1<<n,r|=t[n],e&=~s;return r}function Tw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Kt(i),u=1<<o,c=s[o];c===-1?(!(u&n)||u&r)&&(s[o]=Tw(u,e)):c<=e&&(t.expiredLanes|=u),i&=~u}}function Hc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function I0(){var t=ha;return ha<<=1,!(ha&4194240)&&(ha=64),t}function Gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Po(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kt(e),t[e]=n}function Iw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Kt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var he=0;function C0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var A0,uh,k0,j0,R0,Wc=!1,ma=[],Xn=null,Yn=null,Zn=null,io=new Map,oo=new Map,qn=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bm(t,e){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Yn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":io.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(e.pointerId)}}function Ii(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Do(e),e!==null&&uh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Aw(t,e,n,r,s){switch(e){case"focusin":return Xn=Ii(Xn,t,e,n,r,s),!0;case"dragenter":return Yn=Ii(Yn,t,e,n,r,s),!0;case"mouseover":return Zn=Ii(Zn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return io.set(i,Ii(io.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oo.set(i,Ii(oo.get(i)||null,t,e,n,r,s)),!0}return!1}function P0(t){var e=Vr(t.target);if(e!==null){var n=Jr(e);if(n!==null){if(e=n.tag,e===13){if(e=_0(n),e!==null){t.blockedOn=e,R0(t.priority,function(){k0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Da(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zc=r,n.target.dispatchEvent(r),zc=null}else return e=Do(n),e!==null&&uh(e),t.blockedOn=n,!1;e.shift()}return!0}function Im(t,e,n){Da(t)&&n.delete(e)}function kw(){Wc=!1,Xn!==null&&Da(Xn)&&(Xn=null),Yn!==null&&Da(Yn)&&(Yn=null),Zn!==null&&Da(Zn)&&(Zn=null),io.forEach(Im),oo.forEach(Im)}function Ci(t,e){t.blockedOn===e&&(t.blockedOn=null,Wc||(Wc=!0,At.unstable_scheduleCallback(At.unstable_NormalPriority,kw)))}function ao(t){function e(s){return Ci(s,t)}if(0<ma.length){Ci(ma[0],t);for(var n=1;n<ma.length;n++){var r=ma[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xn!==null&&Ci(Xn,t),Yn!==null&&Ci(Yn,t),Zn!==null&&Ci(Zn,t),io.forEach(e),oo.forEach(e),n=0;n<qn.length;n++)r=qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<qn.length&&(n=qn[0],n.blockedOn===null);)P0(n),n.blockedOn===null&&qn.shift()}var Is=jn.ReactCurrentBatchConfig,il=!0;function jw(t,e,n,r){var s=he,i=Is.transition;Is.transition=null;try{he=1,ch(t,e,n,r)}finally{he=s,Is.transition=i}}function Rw(t,e,n,r){var s=he,i=Is.transition;Is.transition=null;try{he=4,ch(t,e,n,r)}finally{he=s,Is.transition=i}}function ch(t,e,n,r){if(il){var s=Gc(t,e,n,r);if(s===null)rc(t,e,r,ol,n),bm(t,r);else if(Aw(s,t,e,n,r))r.stopPropagation();else if(bm(t,r),e&4&&-1<Cw.indexOf(t)){for(;s!==null;){var i=Do(s);if(i!==null&&A0(i),i=Gc(t,e,n,r),i===null&&rc(t,e,r,ol,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rc(t,e,r,null,n)}}var ol=null;function Gc(t,e,n,r){if(ol=null,t=oh(r),t=Vr(t),t!==null)if(e=Jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ol=t,null}function V0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xw()){case ah:return 1;case T0:return 4;case rl:case ww:return 16;case b0:return 536870912;default:return 16}default:return 16}}var Gn=null,dh=null,Ma=null;function D0(){if(Ma)return Ma;var t,e=dh,n=e.length,r,s="value"in Gn?Gn.value:Gn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ma=s.slice(t,1<r?1-r:void 0)}function Oa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pa(){return!0}function Cm(){return!1}function jt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pa:Cm,this.isPropagationStopped=Cm,this}return Ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),e}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hh=jt(Qs),Vo=Ie({},Qs,{view:0,detail:0}),Pw=jt(Vo),Qu,Ku,Ai,Ql=Ie({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ai&&(Ai&&t.type==="mousemove"?(Qu=t.screenX-Ai.screenX,Ku=t.screenY-Ai.screenY):Ku=Qu=0,Ai=t),Qu)},movementY:function(t){return"movementY"in t?t.movementY:Ku}}),Am=jt(Ql),Vw=Ie({},Ql,{dataTransfer:0}),Dw=jt(Vw),Mw=Ie({},Vo,{relatedTarget:0}),Ju=jt(Mw),Ow=Ie({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=jt(Ow),Fw=Ie({},Qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uw=jt(Fw),zw=Ie({},Qs,{data:0}),km=jt(zw),$w={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qw[t])?!!e[t]:!1}function fh(){return Hw}var Ww=Ie({},Vo,{key:function(t){if(t.key){var e=$w[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fh,charCode:function(t){return t.type==="keypress"?Oa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gw=jt(Ww),Qw=Ie({},Ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jm=jt(Qw),Kw=Ie({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fh}),Jw=jt(Kw),Xw=Ie({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yw=jt(Xw),Zw=Ie({},Ql,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e_=jt(Zw),t_=[9,13,27,32],mh=Sn&&"CompositionEvent"in window,Bi=null;Sn&&"documentMode"in document&&(Bi=document.documentMode);var n_=Sn&&"TextEvent"in window&&!Bi,M0=Sn&&(!mh||Bi&&8<Bi&&11>=Bi),Rm=" ",Pm=!1;function O0(t,e){switch(t){case"keyup":return t_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function r_(t,e){switch(t){case"compositionend":return L0(e);case"keypress":return e.which!==32?null:(Pm=!0,Rm);case"textInput":return t=e.data,t===Rm&&Pm?null:t;default:return null}}function s_(t,e){if(ms)return t==="compositionend"||!mh&&O0(t,e)?(t=D0(),Ma=dh=Gn=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return M0&&e.locale!=="ko"?null:e.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!i_[t.type]:e==="textarea"}function F0(t,e,n,r){g0(r),e=al(e,"onChange"),0<e.length&&(n=new hh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qi=null,lo=null;function o_(t){J0(t,0)}function Kl(t){var e=ys(t);if(u0(e))return t}function a_(t,e){if(t==="change")return e}var U0=!1;if(Sn){var Xu;if(Sn){var Yu="oninput"in document;if(!Yu){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),Yu=typeof Dm.oninput=="function"}Xu=Yu}else Xu=!1;U0=Xu&&(!document.documentMode||9<document.documentMode)}function Mm(){qi&&(qi.detachEvent("onpropertychange",z0),lo=qi=null)}function z0(t){if(t.propertyName==="value"&&Kl(lo)){var e=[];F0(e,lo,t,oh(t)),w0(o_,e)}}function l_(t,e,n){t==="focusin"?(Mm(),qi=e,lo=n,qi.attachEvent("onpropertychange",z0)):t==="focusout"&&Mm()}function u_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kl(lo)}function c_(t,e){if(t==="click")return Kl(e)}function d_(t,e){if(t==="input"||t==="change")return Kl(e)}function h_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xt=typeof Object.is=="function"?Object.is:h_;function uo(t,e){if(Xt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ac.call(e,s)||!Xt(t[s],e[s]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lm(t,e){var n=Om(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Om(n)}}function $0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function B0(){for(var t=window,e=el();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=el(t.document)}return e}function ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function f_(t){var e=B0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$0(n.ownerDocument.documentElement,n)){if(r!==null&&ph(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Lm(n,i);var o=Lm(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m_=Sn&&"documentMode"in document&&11>=document.documentMode,ps=null,Qc=null,Hi=null,Kc=!1;function Fm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kc||ps==null||ps!==el(r)||(r=ps,"selectionStart"in r&&ph(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&uo(Hi,r)||(Hi=r,r=al(Qc,"onSelect"),0<r.length&&(e=new hh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ps)))}function ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionend:ga("Transition","TransitionEnd")},Zu={},q0={};Sn&&(q0=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Jl(t){if(Zu[t])return Zu[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in q0)return Zu[t]=e[n];return t}var H0=Jl("animationend"),W0=Jl("animationiteration"),G0=Jl("animationstart"),Q0=Jl("transitionend"),K0=new Map,Um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){K0.set(t,e),Kr(e,[t])}for(var ec=0;ec<Um.length;ec++){var tc=Um[ec],p_=tc.toLowerCase(),g_=tc[0].toUpperCase()+tc.slice(1);xr(p_,"on"+g_)}xr(H0,"onAnimationEnd");xr(W0,"onAnimationIteration");xr(G0,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(Q0,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mi));function zm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pw(r,e,void 0,t),t.currentTarget=null}function J0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==i&&s.isPropagationStopped())break e;zm(s,u,h),i=c}else for(o=0;o<r.length;o++){if(u=r[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==i&&s.isPropagationStopped())break e;zm(s,u,h),i=c}}}if(nl)throw t=qc,nl=!1,qc=null,t}function xe(t,e){var n=e[ed];n===void 0&&(n=e[ed]=new Set);var r=t+"__bubble";n.has(r)||(X0(e,t,2,!1),n.add(r))}function nc(t,e,n){var r=0;e&&(r|=4),X0(n,t,r,e)}var ya="_reactListening"+Math.random().toString(36).slice(2);function co(t){if(!t[ya]){t[ya]=!0,s0.forEach(function(n){n!=="selectionchange"&&(y_.has(n)||nc(n,!1,t),nc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ya]||(e[ya]=!0,nc("selectionchange",!1,e))}}function X0(t,e,n,r){switch(V0(e)){case 1:var s=jw;break;case 4:s=Rw;break;default:s=ch}n=s.bind(null,e,n,t),s=void 0,!Bc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;u!==null;){if(o=Vr(u),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}u=u.parentNode}}r=r.return}w0(function(){var h=i,m=oh(n),p=[];e:{var g=K0.get(t);if(g!==void 0){var S=hh,A=t;switch(t){case"keypress":if(Oa(n)===0)break e;case"keydown":case"keyup":S=Gw;break;case"focusin":A="focus",S=Ju;break;case"focusout":A="blur",S=Ju;break;case"beforeblur":case"afterblur":S=Ju;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=Am;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=Dw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Jw;break;case H0:case W0:case G0:S=Lw;break;case Q0:S=Yw;break;case"scroll":S=Pw;break;case"wheel":S=e_;break;case"copy":case"cut":case"paste":S=Uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=jm}var k=(e&4)!==0,D=!k&&t==="scroll",E=k?g!==null?g+"Capture":null:g;k=[];for(var w=h,N;w!==null;){N=w;var C=N.stateNode;if(N.tag===5&&C!==null&&(N=C,E!==null&&(C=so(w,E),C!=null&&k.push(ho(w,C,N)))),D)break;w=w.return}0<k.length&&(g=new S(g,A,null,n,m),p.push({event:g,listeners:k}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",g&&n!==zc&&(A=n.relatedTarget||n.fromElement)&&(Vr(A)||A[Nn]))break e;if((S||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,S?(A=n.relatedTarget||n.toElement,S=h,A=A?Vr(A):null,A!==null&&(D=Jr(A),A!==D||A.tag!==5&&A.tag!==6)&&(A=null)):(S=null,A=h),S!==A)){if(k=Am,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=jm,C="onPointerLeave",E="onPointerEnter",w="pointer"),D=S==null?g:ys(S),N=A==null?g:ys(A),g=new k(C,w+"leave",S,n,m),g.target=D,g.relatedTarget=N,C=null,Vr(m)===h&&(k=new k(E,w+"enter",A,n,m),k.target=N,k.relatedTarget=D,C=k),D=C,S&&A)t:{for(k=S,E=A,w=0,N=k;N;N=as(N))w++;for(N=0,C=E;C;C=as(C))N++;for(;0<w-N;)k=as(k),w--;for(;0<N-w;)E=as(E),N--;for(;w--;){if(k===E||E!==null&&k===E.alternate)break t;k=as(k),E=as(E)}k=null}else k=null;S!==null&&$m(p,g,S,k,!1),A!==null&&D!==null&&$m(p,D,A,k,!0)}}e:{if(g=h?ys(h):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var M=a_;else if(Vm(g))if(U0)M=d_;else{M=u_;var F=l_}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=c_);if(M&&(M=M(t,h))){F0(p,M,n,m);break e}F&&F(t,g,h),t==="focusout"&&(F=g._wrapperState)&&F.controlled&&g.type==="number"&&Mc(g,"number",g.value)}switch(F=h?ys(h):window,t){case"focusin":(Vm(F)||F.contentEditable==="true")&&(ps=F,Qc=h,Hi=null);break;case"focusout":Hi=Qc=ps=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,Fm(p,n,m);break;case"selectionchange":if(m_)break;case"keydown":case"keyup":Fm(p,n,m)}var x;if(mh)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ms?O0(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(M0&&n.locale!=="ko"&&(ms||y!=="onCompositionStart"?y==="onCompositionEnd"&&ms&&(x=D0()):(Gn=m,dh="value"in Gn?Gn.value:Gn.textContent,ms=!0)),F=al(h,y),0<F.length&&(y=new km(y,t,null,n,m),p.push({event:y,listeners:F}),x?y.data=x:(x=L0(n),x!==null&&(y.data=x)))),(x=n_?r_(t,n):s_(t,n))&&(h=al(h,"onBeforeInput"),0<h.length&&(m=new km("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=x))}J0(p,e)})}function ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function al(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=so(t,n),i!=null&&r.unshift(ho(t,i,s)),i=so(t,e),i!=null&&r.push(ho(t,i,s))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $m(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var u=n,c=u.alternate,h=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&h!==null&&(u=h,s?(c=so(n,i),c!=null&&o.unshift(ho(n,c,u))):s||(c=so(n,i),c!=null&&o.push(ho(n,c,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var v_=/\r\n?/g,x_=/\u0000|\uFFFD/g;function Bm(t){return(typeof t=="string"?t:""+t).replace(v_,`
`).replace(x_,"")}function va(t,e,n){if(e=Bm(e),Bm(t)!==e&&n)throw Error($(425))}function ll(){}var Jc=null,Xc=null;function Yc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zc=typeof setTimeout=="function"?setTimeout:void 0,w_=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,__=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(t){return qm.resolve(null).then(t).catch(E_)}:Zc;function E_(t){setTimeout(function(){throw t})}function sc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ao(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ao(e)}function er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Hm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ks,fo="__reactProps$"+Ks,Nn="__reactContainer$"+Ks,ed="__reactEvents$"+Ks,S_="__reactListeners$"+Ks,N_="__reactHandles$"+Ks;function Vr(t){var e=t[sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Hm(t);t!==null;){if(n=t[sn])return n;t=Hm(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[sn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ys(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function Xl(t){return t[fo]||null}var td=[],vs=-1;function wr(t){return{current:t}}function _e(t){0>vs||(t.current=td[vs],td[vs]=null,vs--)}function ye(t,e){vs++,td[vs]=t.current,t.current=e}var hr={},ft=wr(hr),Et=wr(!1),zr=hr;function Ps(t,e){var n=t.type.contextTypes;if(!n)return hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function St(t){return t=t.childContextTypes,t!=null}function ul(){_e(Et),_e(ft)}function Wm(t,e,n){if(ft.current!==hr)throw Error($(168));ye(ft,e),ye(Et,n)}function Y0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error($(108,lw(t)||"Unknown",s));return Ie({},n,r)}function cl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,zr=ft.current,ye(ft,t),ye(Et,Et.current),!0}function Gm(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=Y0(t,e,zr),r.__reactInternalMemoizedMergedChildContext=t,_e(Et),_e(ft),ye(ft,t)):_e(Et),ye(Et,n)}var vn=null,Yl=!1,ic=!1;function Z0(t){vn===null?vn=[t]:vn.push(t)}function T_(t){Yl=!0,Z0(t)}function _r(){if(!ic&&vn!==null){ic=!0;var t=0,e=he;try{var n=vn;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vn=null,Yl=!1}catch(s){throw vn!==null&&(vn=vn.slice(t+1)),N0(ah,_r),s}finally{he=e,ic=!1}}return null}var xs=[],ws=0,dl=null,hl=0,Pt=[],Vt=0,$r=null,xn=1,wn="";function kr(t,e){xs[ws++]=hl,xs[ws++]=dl,dl=t,hl=e}function ey(t,e,n){Pt[Vt++]=xn,Pt[Vt++]=wn,Pt[Vt++]=$r,$r=t;var r=xn;t=wn;var s=32-Kt(r)-1;r&=~(1<<s),n+=1;var i=32-Kt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xn=1<<32-Kt(e)+s|n<<s|r,wn=i+t}else xn=1<<i|n<<s|r,wn=t}function gh(t){t.return!==null&&(kr(t,1),ey(t,1,0))}function yh(t){for(;t===dl;)dl=xs[--ws],xs[ws]=null,hl=xs[--ws],xs[ws]=null;for(;t===$r;)$r=Pt[--Vt],Pt[Vt]=null,wn=Pt[--Vt],Pt[Vt]=null,xn=Pt[--Vt],Pt[Vt]=null}var Ct=null,It=null,Ee=!1,Gt=null;function ty(t,e){var n=Lt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Qm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ct=t,It=er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ct=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$r!==null?{id:xn,overflow:wn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ct=t,It=null,!0):!1;default:return!1}}function nd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rd(t){if(Ee){var e=It;if(e){var n=e;if(!Qm(t,e)){if(nd(t))throw Error($(418));e=er(n.nextSibling);var r=Ct;e&&Qm(t,e)?ty(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Ct=t)}}else{if(nd(t))throw Error($(418));t.flags=t.flags&-4097|2,Ee=!1,Ct=t}}}function Km(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function xa(t){if(t!==Ct)return!1;if(!Ee)return Km(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yc(t.type,t.memoizedProps)),e&&(e=It)){if(nd(t))throw ny(),Error($(418));for(;e;)ty(t,e),e=er(e.nextSibling)}if(Km(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=Ct?er(t.stateNode.nextSibling):null;return!0}function ny(){for(var t=It;t;)t=er(t.nextSibling)}function Vs(){It=Ct=null,Ee=!1}function vh(t){Gt===null?Gt=[t]:Gt.push(t)}var b_=jn.ReactCurrentBatchConfig;function ki(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var u=s.refs;o===null?delete u[i]:u[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function wa(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jm(t){var e=t._init;return e(t._payload)}function ry(t){function e(E,w){if(t){var N=E.deletions;N===null?(E.deletions=[w],E.flags|=16):N.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=sr(E,w),E.index=0,E.sibling=null,E}function i(E,w,N){return E.index=N,t?(N=E.alternate,N!==null?(N=N.index,N<w?(E.flags|=2,w):N):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function u(E,w,N,C){return w===null||w.tag!==6?(w=hc(N,E.mode,C),w.return=E,w):(w=s(w,N),w.return=E,w)}function c(E,w,N,C){var M=N.type;return M===fs?m(E,w,N.props.children,C,N.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$n&&Jm(M)===w.type)?(C=s(w,N.props),C.ref=ki(E,w,N),C.return=E,C):(C=qa(N.type,N.key,N.props,null,E.mode,C),C.ref=ki(E,w,N),C.return=E,C)}function h(E,w,N,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=fc(N,E.mode,C),w.return=E,w):(w=s(w,N.children||[]),w.return=E,w)}function m(E,w,N,C,M){return w===null||w.tag!==7?(w=Fr(N,E.mode,C,M),w.return=E,w):(w=s(w,N),w.return=E,w)}function p(E,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=hc(""+w,E.mode,N),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ua:return N=qa(w.type,w.key,w.props,null,E.mode,N),N.ref=ki(E,null,w),N.return=E,N;case hs:return w=fc(w,E.mode,N),w.return=E,w;case $n:var C=w._init;return p(E,C(w._payload),N)}if(Vi(w)||Ti(w))return w=Fr(w,E.mode,N,null),w.return=E,w;wa(E,w)}return null}function g(E,w,N,C){var M=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return M!==null?null:u(E,w,""+N,C);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ua:return N.key===M?c(E,w,N,C):null;case hs:return N.key===M?h(E,w,N,C):null;case $n:return M=N._init,g(E,w,M(N._payload),C)}if(Vi(N)||Ti(N))return M!==null?null:m(E,w,N,C,null);wa(E,N)}return null}function S(E,w,N,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(N)||null,u(w,E,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ua:return E=E.get(C.key===null?N:C.key)||null,c(w,E,C,M);case hs:return E=E.get(C.key===null?N:C.key)||null,h(w,E,C,M);case $n:var F=C._init;return S(E,w,N,F(C._payload),M)}if(Vi(C)||Ti(C))return E=E.get(N)||null,m(w,E,C,M,null);wa(w,C)}return null}function A(E,w,N,C){for(var M=null,F=null,x=w,y=w=0,_=null;x!==null&&y<N.length;y++){x.index>y?(_=x,x=null):_=x.sibling;var T=g(E,x,N[y],C);if(T===null){x===null&&(x=_);break}t&&x&&T.alternate===null&&e(E,x),w=i(T,w,y),F===null?M=T:F.sibling=T,F=T,x=_}if(y===N.length)return n(E,x),Ee&&kr(E,y),M;if(x===null){for(;y<N.length;y++)x=p(E,N[y],C),x!==null&&(w=i(x,w,y),F===null?M=x:F.sibling=x,F=x);return Ee&&kr(E,y),M}for(x=r(E,x);y<N.length;y++)_=S(x,E,y,N[y],C),_!==null&&(t&&_.alternate!==null&&x.delete(_.key===null?y:_.key),w=i(_,w,y),F===null?M=_:F.sibling=_,F=_);return t&&x.forEach(function(I){return e(E,I)}),Ee&&kr(E,y),M}function k(E,w,N,C){var M=Ti(N);if(typeof M!="function")throw Error($(150));if(N=M.call(N),N==null)throw Error($(151));for(var F=M=null,x=w,y=w=0,_=null,T=N.next();x!==null&&!T.done;y++,T=N.next()){x.index>y?(_=x,x=null):_=x.sibling;var I=g(E,x,T.value,C);if(I===null){x===null&&(x=_);break}t&&x&&I.alternate===null&&e(E,x),w=i(I,w,y),F===null?M=I:F.sibling=I,F=I,x=_}if(T.done)return n(E,x),Ee&&kr(E,y),M;if(x===null){for(;!T.done;y++,T=N.next())T=p(E,T.value,C),T!==null&&(w=i(T,w,y),F===null?M=T:F.sibling=T,F=T);return Ee&&kr(E,y),M}for(x=r(E,x);!T.done;y++,T=N.next())T=S(x,E,y,T.value,C),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?y:T.key),w=i(T,w,y),F===null?M=T:F.sibling=T,F=T);return t&&x.forEach(function(R){return e(E,R)}),Ee&&kr(E,y),M}function D(E,w,N,C){if(typeof N=="object"&&N!==null&&N.type===fs&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ua:e:{for(var M=N.key,F=w;F!==null;){if(F.key===M){if(M=N.type,M===fs){if(F.tag===7){n(E,F.sibling),w=s(F,N.props.children),w.return=E,E=w;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===$n&&Jm(M)===F.type){n(E,F.sibling),w=s(F,N.props),w.ref=ki(E,F,N),w.return=E,E=w;break e}n(E,F);break}else e(E,F);F=F.sibling}N.type===fs?(w=Fr(N.props.children,E.mode,C,N.key),w.return=E,E=w):(C=qa(N.type,N.key,N.props,null,E.mode,C),C.ref=ki(E,w,N),C.return=E,E=C)}return o(E);case hs:e:{for(F=N.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(E,w.sibling),w=s(w,N.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=fc(N,E.mode,C),w.return=E,E=w}return o(E);case $n:return F=N._init,D(E,w,F(N._payload),C)}if(Vi(N))return A(E,w,N,C);if(Ti(N))return k(E,w,N,C);wa(E,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,N),w.return=E,E=w):(n(E,w),w=hc(N,E.mode,C),w.return=E,E=w),o(E)):n(E,w)}return D}var Ds=ry(!0),sy=ry(!1),fl=wr(null),ml=null,_s=null,xh=null;function wh(){xh=_s=ml=null}function _h(t){var e=fl.current;_e(fl),t._currentValue=e}function sd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){ml=t,xh=_s=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Ut(t){var e=t._currentValue;if(xh!==t)if(t={context:t,memoizedValue:e,next:null},_s===null){if(ml===null)throw Error($(308));_s=t,ml.dependencies={lanes:0,firstContext:t}}else _s=_s.next=t;return e}var Dr=null;function Eh(t){Dr===null?Dr=[t]:Dr.push(t)}function iy(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Eh(e)):(n.next=s.next,s.next=n),e.interleaved=n,Tn(t,r)}function Tn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Bn=!1;function Sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _n(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function tr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Tn(t,n)}return s=r.interleaved,s===null?(e.next=e,Eh(r)):(e.next=s.next,s.next=e),r.interleaved=e,Tn(t,n)}function La(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}function Xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var s=t.updateQueue;Bn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?i=h:o.next=h,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=h:u.next=h,m.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,m=h=c=null,u=i;do{var g=u.lane,S=u.eventTime;if((r&g)===g){m!==null&&(m=m.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=t,k=u;switch(g=e,S=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){p=A.call(S,p,g);break e}p=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,g=typeof A=="function"?A.call(S,p,g):A,g==null)break e;p=Ie({},p,g);break e;case 2:Bn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[u]:g.push(u))}else S={eventTime:S,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(h=m=S,c=p):m=m.next=S,o|=g;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;g=u,u=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(m===null&&(c=p),s.baseState=c,s.firstBaseUpdate=h,s.lastBaseUpdate=m,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qr|=o,t.lanes=o,t.memoizedState=p}}function Ym(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Mo={},ln=wr(Mo),mo=wr(Mo),po=wr(Mo);function Mr(t){if(t===Mo)throw Error($(174));return t}function Nh(t,e){switch(ye(po,e),ye(mo,t),ye(ln,Mo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lc(e,t)}_e(ln),ye(ln,e)}function Ms(){_e(ln),_e(mo),_e(po)}function ay(t){Mr(po.current);var e=Mr(ln.current),n=Lc(e,t.type);e!==n&&(ye(mo,t),ye(ln,n))}function Th(t){mo.current===t&&(_e(ln),_e(mo))}var Ne=wr(0);function gl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oc=[];function bh(){for(var t=0;t<oc.length;t++)oc[t]._workInProgressVersionPrimary=null;oc.length=0}var Fa=jn.ReactCurrentDispatcher,ac=jn.ReactCurrentBatchConfig,Br=0,be=null,ze=null,Ye=null,yl=!1,Wi=!1,go=0,I_=0;function at(){throw Error($(321))}function Ih(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xt(t[n],e[n]))return!1;return!0}function Ch(t,e,n,r,s,i){if(Br=i,be=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fa.current=t===null||t.memoizedState===null?j_:R_,t=n(r,s),Wi){i=0;do{if(Wi=!1,go=0,25<=i)throw Error($(301));i+=1,Ye=ze=null,e.updateQueue=null,Fa.current=P_,t=n(r,s)}while(Wi)}if(Fa.current=vl,e=ze!==null&&ze.next!==null,Br=0,Ye=ze=be=null,yl=!1,e)throw Error($(300));return t}function Ah(){var t=go!==0;return go=0,t}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function zt(){if(ze===null){var t=be.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ye===null?be.memoizedState:Ye.next;if(e!==null)Ye=e,ze=t;else{if(t===null)throw Error($(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ye===null?be.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function yo(t,e){return typeof e=="function"?e(t):e}function lc(t){var e=zt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=o=null,c=null,h=i;do{var m=h.lane;if((Br&m)===m)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=p,o=r):c=c.next=p,be.lanes|=m,qr|=m}h=h.next}while(h!==null&&h!==i);c===null?o=r:c.next=u,Xt(r,e.memoizedState)||(_t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,be.lanes|=i,qr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uc(t){var e=zt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Xt(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ly(){}function uy(t,e){var n=be,r=zt(),s=e(),i=!Xt(r.memoizedState,s);if(i&&(r.memoizedState=s,_t=!0),r=r.queue,kh(hy.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,vo(9,dy.bind(null,n,r,s,e),void 0,null),et===null)throw Error($(349));Br&30||cy(n,e,s)}return s}function cy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dy(t,e,n,r){e.value=n,e.getSnapshot=r,fy(e)&&my(t)}function hy(t,e,n){return n(function(){fy(e)&&my(t)})}function fy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xt(t,n)}catch{return!0}}function my(t){var e=Tn(t,1);e!==null&&Jt(e,t,1,-1)}function Zm(t){var e=nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:t},e.queue=t,t=t.dispatch=k_.bind(null,be,t),[e.memoizedState,t]}function vo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=be.updateQueue,e===null?(e={lastEffect:null,stores:null},be.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function py(){return zt().memoizedState}function Ua(t,e,n,r){var s=nn();be.flags|=t,s.memoizedState=vo(1|e,n,void 0,r===void 0?null:r)}function Zl(t,e,n,r){var s=zt();r=r===void 0?null:r;var i=void 0;if(ze!==null){var o=ze.memoizedState;if(i=o.destroy,r!==null&&Ih(r,o.deps)){s.memoizedState=vo(e,n,i,r);return}}be.flags|=t,s.memoizedState=vo(1|e,n,i,r)}function ep(t,e){return Ua(8390656,8,t,e)}function kh(t,e){return Zl(2048,8,t,e)}function gy(t,e){return Zl(4,2,t,e)}function yy(t,e){return Zl(4,4,t,e)}function vy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xy(t,e,n){return n=n!=null?n.concat([t]):null,Zl(4,4,vy.bind(null,e,t),n)}function jh(){}function wy(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _y(t,e){var n=zt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ih(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ey(t,e,n){return Br&21?(Xt(n,e)||(n=I0(),be.lanes|=n,qr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function C_(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=ac.transition;ac.transition={};try{t(!1),e()}finally{he=n,ac.transition=r}}function Sy(){return zt().memoizedState}function A_(t,e,n){var r=rr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ny(t))Ty(e,n);else if(n=iy(t,e,n,r),n!==null){var s=pt();Jt(n,t,r,s),by(n,e,r)}}function k_(t,e,n){var r=rr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ny(t))Ty(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,u=i(o,n);if(s.hasEagerState=!0,s.eagerState=u,Xt(u,o)){var c=e.interleaved;c===null?(s.next=s,Eh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=iy(t,e,s,r),n!==null&&(s=pt(),Jt(n,t,r,s),by(n,e,r))}}function Ny(t){var e=t.alternate;return t===be||e!==null&&e===be}function Ty(t,e){Wi=yl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function by(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lh(t,n)}}var vl={readContext:Ut,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},j_={readContext:Ut,useCallback:function(t,e){return nn().memoizedState=[t,e===void 0?null:e],t},useContext:Ut,useEffect:ep,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ua(4194308,4,vy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ua(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ua(4,2,t,e)},useMemo:function(t,e){var n=nn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=nn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=A_.bind(null,be,t),[r.memoizedState,t]},useRef:function(t){var e=nn();return t={current:t},e.memoizedState=t},useState:Zm,useDebugValue:jh,useDeferredValue:function(t){return nn().memoizedState=t},useTransition:function(){var t=Zm(!1),e=t[0];return t=C_.bind(null,t[1]),nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=be,s=nn();if(Ee){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),et===null)throw Error($(349));Br&30||cy(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ep(hy.bind(null,r,i,t),[t]),r.flags|=2048,vo(9,dy.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=nn(),e=et.identifierPrefix;if(Ee){var n=wn,r=xn;n=(r&~(1<<32-Kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=I_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},R_={readContext:Ut,useCallback:wy,useContext:Ut,useEffect:kh,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:_y,useReducer:lc,useRef:py,useState:function(){return lc(yo)},useDebugValue:jh,useDeferredValue:function(t){var e=zt();return Ey(e,ze.memoizedState,t)},useTransition:function(){var t=lc(yo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1},P_={readContext:Ut,useCallback:wy,useContext:Ut,useEffect:kh,useImperativeHandle:xy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:_y,useReducer:uc,useRef:py,useState:function(){return uc(yo)},useDebugValue:jh,useDeferredValue:function(t){var e=zt();return ze===null?e.memoizedState=t:Ey(e,ze.memoizedState,t)},useTransition:function(){var t=uc(yo)[0],e=zt().memoizedState;return[t,e]},useMutableSource:ly,useSyncExternalStore:uy,useId:Sy,unstable_isNewReconciler:!1};function Ht(t,e){if(t&&t.defaultProps){e=Ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function id(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var eu={isMounted:function(t){return(t=t._reactInternals)?Jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),s=rr(t),i=_n(r,s);i.payload=e,n!=null&&(i.callback=n),e=tr(t,i,s),e!==null&&(Jt(e,t,s,r),La(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),s=rr(t),i=_n(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=tr(t,i,s),e!==null&&(Jt(e,t,s,r),La(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=rr(t),s=_n(n,r);s.tag=2,e!=null&&(s.callback=e),e=tr(t,s,r),e!==null&&(Jt(e,t,r,n),La(e,t,r))}};function tp(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!uo(n,r)||!uo(s,i):!0}function Iy(t,e,n){var r=!1,s=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=Ut(i):(s=St(e)?zr:ft.current,r=e.contextTypes,i=(r=r!=null)?Ps(t,s):hr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function np(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&eu.enqueueReplaceState(e,e.state,null)}function od(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ut(i):(i=St(e)?zr:ft.current,s.context=Ps(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(id(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eu.enqueueReplaceState(s,s.state,null),pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Os(t,e){try{var n="",r=e;do n+=aw(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ad(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var V_=typeof WeakMap=="function"?WeakMap:Map;function Cy(t,e,n){n=_n(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wl||(wl=!0,yd=r),ad(t,e)},n}function Ay(t,e,n){n=_n(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ad(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ad(t,e),typeof r!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new V_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Q_.bind(null,t,e,n),e.then(t,t))}function sp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ip(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_n(-1,1),e.tag=2,tr(n,e,1))),n.lanes|=1),t)}var D_=jn.ReactCurrentOwner,_t=!1;function mt(t,e,n,r){e.child=t===null?sy(e,null,n,r):Ds(e,t.child,n,r)}function op(t,e,n,r,s){n=n.render;var i=e.ref;return Cs(e,s),r=Ch(t,e,n,r,i,s),n=Ah(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bn(t,e,s)):(Ee&&n&&gh(e),e.flags|=1,mt(t,e,r,s),e.child)}function ap(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Fh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ky(t,e,i,r,s)):(t=qa(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:uo,n(o,r)&&t.ref===e.ref)return bn(t,e,s)}return e.flags|=1,t=sr(i,r),t.ref=e.ref,t.return=e,e.child=t}function ky(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(uo(i,r)&&t.ref===e.ref)if(_t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,bn(t,e,s)}return ld(t,e,n,r,s)}function jy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ss,bt),bt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ss,bt),bt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ss,bt),bt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Ss,bt),bt|=r;return mt(t,e,s,n),e.child}function Ry(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ld(t,e,n,r,s){var i=St(n)?zr:ft.current;return i=Ps(e,i),Cs(e,s),n=Ch(t,e,n,r,i,s),r=Ah(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bn(t,e,s)):(Ee&&r&&gh(e),e.flags|=1,mt(t,e,n,s),e.child)}function lp(t,e,n,r,s){if(St(n)){var i=!0;cl(e)}else i=!1;if(Cs(e,s),e.stateNode===null)za(t,e),Iy(e,n,r),od(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var c=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ut(h):(h=St(n)?zr:ft.current,h=Ps(e,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||c!==h)&&np(e,o,r,h),Bn=!1;var g=e.memoizedState;o.state=g,pl(e,r,o,s),c=e.memoizedState,u!==r||g!==c||Et.current||Bn?(typeof m=="function"&&(id(e,n,m,r),c=e.memoizedState),(u=Bn||tp(e,n,u,r,g,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=h,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,oy(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Ht(e.type,u),o.props=h,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ut(c):(c=St(n)?zr:ft.current,c=Ps(e,c));var S=n.getDerivedStateFromProps;(m=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==p||g!==c)&&np(e,o,r,c),Bn=!1,g=e.memoizedState,o.state=g,pl(e,r,o,s);var A=e.memoizedState;u!==p||g!==A||Et.current||Bn?(typeof S=="function"&&(id(e,n,S,r),A=e.memoizedState),(h=Bn||tp(e,n,h,r,g,A,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,A,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,A,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),o.props=r,o.state=A,o.context=c,r=h):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return ud(t,e,n,r,i,s)}function ud(t,e,n,r,s,i){Ry(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Gm(e,n,!1),bn(t,e,i);r=e.stateNode,D_.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ds(e,t.child,null,i),e.child=Ds(e,null,u,i)):mt(t,e,u,i),e.memoizedState=r.state,s&&Gm(e,n,!0),e.child}function Py(t){var e=t.stateNode;e.pendingContext?Wm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wm(t,e.context,!1),Nh(t,e.containerInfo)}function up(t,e,n,r,s){return Vs(),vh(s),e.flags|=256,mt(t,e,n,r),e.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function dd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vy(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,u;if((u=o)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ne,s&1),t===null)return rd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ru(o,r,0,null),t=Fr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=dd(n),e.memoizedState=cd,t):Rh(e,o));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return M_(t,e,o,r,u,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=sr(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=sr(u,i):(i=Fr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?dd(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=cd,r}return i=t.child,t=i.sibling,r=sr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rh(t,e){return e=ru({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _a(t,e,n,r){return r!==null&&vh(r),Ds(e,t.child,null,n),t=Rh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M_(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=cc(Error($(422))),_a(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ru({mode:"visible",children:r.children},s,0,null),i=Fr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ds(e,t.child,null,o),e.child.memoizedState=dd(o),e.memoizedState=cd,i);if(!(e.mode&1))return _a(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error($(419)),r=cc(i,r,void 0),_a(t,e,o,r)}if(u=(o&t.childLanes)!==0,_t||u){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Tn(t,s),Jt(r,t,s,-1))}return Lh(),r=cc(Error($(421))),_a(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=K_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,It=er(s.nextSibling),Ct=e,Ee=!0,Gt=null,t!==null&&(Pt[Vt++]=xn,Pt[Vt++]=wn,Pt[Vt++]=$r,xn=t.id,wn=t.overflow,$r=e),e=Rh(e,r.children),e.flags|=4096,e)}function cp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sd(t.return,e,n)}function dc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Dy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(mt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cp(t,n,e);else if(t.tag===19)cp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dc(e,!0,n,null,i);break;case"together":dc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function za(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function O_(t,e,n){switch(e.tag){case 3:Py(e),Vs();break;case 5:ay(e);break;case 1:St(e.type)&&cl(e);break;case 4:Nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(fl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?Vy(t,e,n):(ye(Ne,Ne.current&1),t=bn(t,e,n),t!==null?t.sibling:null);ye(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Dy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,jy(t,e,n)}return bn(t,e,n)}var My,hd,Oy,Ly;My=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hd=function(){};Oy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mr(ln.current);var i=null;switch(n){case"input":s=Vc(t,s),r=Vc(t,r),i=[];break;case"select":s=Ie({},s,{value:void 0}),r=Ie({},r,{value:void 0}),i=[];break;case"textarea":s=Oc(t,s),r=Oc(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Fc(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(no.hasOwnProperty(h)?i||(i=[]):(i=i||[]).push(h,null));for(h in r){var c=r[h];if(u=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(no.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&xe("scroll",t),i||u===c||(i=[])):(i=i||[]).push(h,c))}n&&(i=i||[]).push("style",n);var h=i;(e.updateQueue=h)&&(e.flags|=4)}};Ly=function(t,e,n,r){n!==r&&(e.flags|=4)};function ji(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function L_(t,e,n){var r=e.pendingProps;switch(yh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return St(e.type)&&ul(),lt(e),null;case 3:return r=e.stateNode,Ms(),_e(Et),_e(ft),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gt!==null&&(wd(Gt),Gt=null))),hd(t,e),lt(e),null;case 5:Th(e);var s=Mr(po.current);if(n=e.type,t!==null&&e.stateNode!=null)Oy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return lt(e),null}if(t=Mr(ln.current),xa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sn]=e,r[fo]=i,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(s=0;s<Mi.length;s++)xe(Mi[s],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":xm(r,i),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},xe("invalid",r);break;case"textarea":_m(r,i),xe("invalid",r)}Fc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var u=i[o];o==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&va(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&va(r.textContent,u,t),s=["children",""+u]):no.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":ca(r),wm(r,i,!0);break;case"textarea":ca(r),Em(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ll)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=h0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sn]=e,t[fo]=r,My(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uc(n,r),n){case"dialog":xe("cancel",t),xe("close",t),s=r;break;case"iframe":case"object":case"embed":xe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Mi.length;s++)xe(Mi[s],t);s=r;break;case"source":xe("error",t),s=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),s=r;break;case"details":xe("toggle",t),s=r;break;case"input":xm(t,r),s=Vc(t,r),xe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ie({},r,{value:void 0}),xe("invalid",t);break;case"textarea":_m(t,r),s=Oc(t,r),xe("invalid",t);break;default:s=r}Fc(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?p0(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&f0(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ro(t,c):typeof c=="number"&&ro(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(no.hasOwnProperty(i)?c!=null&&i==="onScroll"&&xe("scroll",t):c!=null&&nh(t,i,c,o))}switch(n){case"input":ca(t),wm(t,r,!1);break;case"textarea":ca(t),Em(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ns(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ns(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)Ly(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Mr(po.current),Mr(ln.current),xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[sn]=e,(i=r.nodeValue!==n)&&(t=Ct,t!==null))switch(t.tag){case 3:va(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&va(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sn]=e,e.stateNode=r}return lt(e),null;case 13:if(_e(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&It!==null&&e.mode&1&&!(e.flags&128))ny(),Vs(),e.flags|=98560,i=!1;else if(i=xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[sn]=e}else Vs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),i=!1}else Gt!==null&&(wd(Gt),Gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?qe===0&&(qe=3):Lh())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return Ms(),hd(t,e),t===null&&co(e.stateNode.containerInfo),lt(e),null;case 10:return _h(e.type._context),lt(e),null;case 17:return St(e.type)&&ul(),lt(e),null;case 19:if(_e(Ne),i=e.memoizedState,i===null)return lt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ji(i,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gl(t),o!==null){for(e.flags|=128,ji(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&Pe()>Ls&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304)}else{if(!r)if(t=gl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ji(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ee)return lt(e),null}else 2*Pe()-i.renderingStartTime>Ls&&n!==1073741824&&(e.flags|=128,r=!0,ji(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Pe(),e.sibling=null,n=Ne.current,ye(Ne,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Oh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function F_(t,e){switch(yh(e),e.tag){case 1:return St(e.type)&&ul(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ms(),_e(Et),_e(ft),bh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Th(e),null;case 13:if(_e(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Vs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(Ne),null;case 4:return Ms(),null;case 10:return _h(e.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var Ea=!1,dt=!1,U_=typeof WeakSet=="function"?WeakSet:Set,W=null;function Es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function fd(t,e,n){try{n()}catch(r){je(t,e,r)}}var dp=!1;function z_(t,e){if(Jc=il,t=B0(),ph(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,u=-1,c=-1,h=0,m=0,p=t,g=null;t:for(;;){for(var S;p!==n||s!==0&&p.nodeType!==3||(u=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(S=p.firstChild)!==null;)g=p,p=S;for(;;){if(p===t)break t;if(g===n&&++h===s&&(u=o),g===i&&++m===r&&(c=o),(S=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=S}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xc={focusedElem:t,selectionRange:n},il=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,D=A.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:Ht(e.type,k),D);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(C){je(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return A=dp,dp=!1,A}function Gi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&fd(e,n,i)}s=s.next}while(s!==r)}}function tu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function md(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Fy(t){var e=t.alternate;e!==null&&(t.alternate=null,Fy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sn],delete e[fo],delete e[ed],delete e[S_],delete e[N_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Uy(t){return t.tag===5||t.tag===3||t.tag===4}function hp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Uy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(pd(t,e,n),t=t.sibling;t!==null;)pd(t,e,n),t=t.sibling}function gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}var tt=null,Wt=!1;function Un(t,e,n){for(n=n.child;n!==null;)zy(t,e,n),n=n.sibling}function zy(t,e,n){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:dt||Es(n,e);case 6:var r=tt,s=Wt;tt=null,Un(t,e,n),tt=r,Wt=s,tt!==null&&(Wt?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(Wt?(t=tt,n=n.stateNode,t.nodeType===8?sc(t.parentNode,n):t.nodeType===1&&sc(t,n),ao(t)):sc(tt,n.stateNode));break;case 4:r=tt,s=Wt,tt=n.stateNode.containerInfo,Wt=!0,Un(t,e,n),tt=r,Wt=s;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fd(n,e,o),s=s.next}while(s!==r)}Un(t,e,n);break;case 1:if(!dt&&(Es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){je(n,e,u)}Un(t,e,n);break;case 21:Un(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,Un(t,e,n),dt=r):Un(t,e,n);break;default:Un(t,e,n)}}function fp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new U_),e.forEach(function(r){var s=J_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,u=o;e:for(;u!==null;){switch(u.tag){case 5:tt=u.stateNode,Wt=!1;break e;case 3:tt=u.stateNode.containerInfo,Wt=!0;break e;case 4:tt=u.stateNode.containerInfo,Wt=!0;break e}u=u.return}if(tt===null)throw Error($(160));zy(i,o,s),tt=null,Wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(h){je(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$y(e,t),e=e.sibling}function $y(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qt(e,t),tn(t),r&4){try{Gi(3,t,t.return),tu(3,t)}catch(k){je(t,t.return,k)}try{Gi(5,t,t.return)}catch(k){je(t,t.return,k)}}break;case 1:qt(e,t),tn(t),r&512&&n!==null&&Es(n,n.return);break;case 5:if(qt(e,t),tn(t),r&512&&n!==null&&Es(n,n.return),t.flags&32){var s=t.stateNode;try{ro(s,"")}catch(k){je(t,t.return,k)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&c0(s,i),Uc(u,o);var h=Uc(u,i);for(o=0;o<c.length;o+=2){var m=c[o],p=c[o+1];m==="style"?p0(s,p):m==="dangerouslySetInnerHTML"?f0(s,p):m==="children"?ro(s,p):nh(s,m,p,h)}switch(u){case"input":Dc(s,i);break;case"textarea":d0(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?Ns(s,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ns(s,!!i.multiple,i.defaultValue,!0):Ns(s,!!i.multiple,i.multiple?[]:"",!1))}s[fo]=i}catch(k){je(t,t.return,k)}}break;case 6:if(qt(e,t),tn(t),r&4){if(t.stateNode===null)throw Error($(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(k){je(t,t.return,k)}}break;case 3:if(qt(e,t),tn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(e.containerInfo)}catch(k){je(t,t.return,k)}break;case 4:qt(e,t),tn(t);break;case 13:qt(e,t),tn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dh=Pe())),r&4&&fp(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(h=dt)||m,qt(e,t),dt=h):qt(e,t),tn(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!m&&t.mode&1)for(W=t,m=t.child;m!==null;){for(p=W=m;W!==null;){switch(g=W,S=g.child,g.tag){case 0:case 11:case 14:case 15:Gi(4,g,g.return);break;case 1:Es(g,g.return);var A=g.stateNode;if(typeof A.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(k){je(r,n,k)}}break;case 5:Es(g,g.return);break;case 22:if(g.memoizedState!==null){pp(p);continue}}S!==null?(S.return=g,W=S):pp(p)}m=m.sibling}e:for(m=null,p=t;;){if(p.tag===5){if(m===null){m=p;try{s=p.stateNode,h?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=m0("display",o))}catch(k){je(t,t.return,k)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(k){je(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:qt(e,t),tn(t),r&4&&fp(t);break;case 21:break;default:qt(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Uy(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ro(s,""),r.flags&=-33);var i=hp(t);gd(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,u=hp(t);pd(t,u,o);break;default:throw Error($(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $_(t,e,n){W=t,By(t)}function By(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ea;if(!o){var u=s.alternate,c=u!==null&&u.memoizedState!==null||dt;u=Ea;var h=dt;if(Ea=o,(dt=c)&&!h)for(W=s;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?gp(s):c!==null?(c.return=o,W=c):gp(s);for(;i!==null;)W=i,By(i),i=i.sibling;W=s,Ea=u,dt=h}mp(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):mp(t)}}function mp(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||tu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ht(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ym(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ym(e,o,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&ao(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}dt||e.flags&512&&md(e)}catch(g){je(e,e.return,g)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function pp(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function gp(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{tu(4,e)}catch(c){je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){je(e,s,c)}}var i=e.return;try{md(e)}catch(c){je(e,i,c)}break;case 5:var o=e.return;try{md(e)}catch(c){je(e,o,c)}}}catch(c){je(e,e.return,c)}if(e===t){W=null;break}var u=e.sibling;if(u!==null){u.return=e.return,W=u;break}W=e.return}}var B_=Math.ceil,xl=jn.ReactCurrentDispatcher,Ph=jn.ReactCurrentOwner,Ft=jn.ReactCurrentBatchConfig,ce=0,et=null,De=null,st=0,bt=0,Ss=wr(0),qe=0,xo=null,qr=0,nu=0,Vh=0,Qi=null,wt=null,Dh=0,Ls=1/0,yn=null,wl=!1,yd=null,nr=null,Sa=!1,Qn=null,_l=0,Ki=0,vd=null,$a=-1,Ba=0;function pt(){return ce&6?Pe():$a!==-1?$a:$a=Pe()}function rr(t){return t.mode&1?ce&2&&st!==0?st&-st:b_.transition!==null?(Ba===0&&(Ba=I0()),Ba):(t=he,t!==0||(t=window.event,t=t===void 0?16:V0(t.type)),t):1}function Jt(t,e,n,r){if(50<Ki)throw Ki=0,vd=null,Error($(185));Po(t,n,r),(!(ce&2)||t!==et)&&(t===et&&(!(ce&2)&&(nu|=n),qe===4&&Hn(t,st)),Nt(t,r),n===1&&ce===0&&!(e.mode&1)&&(Ls=Pe()+500,Yl&&_r()))}function Nt(t,e){var n=t.callbackNode;bw(t,e);var r=sl(t,t===et?st:0);if(r===0)n!==null&&Tm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Tm(n),e===1)t.tag===0?T_(yp.bind(null,t)):Z0(yp.bind(null,t)),__(function(){!(ce&6)&&_r()}),n=null;else{switch(C0(r)){case 1:n=ah;break;case 4:n=T0;break;case 16:n=rl;break;case 536870912:n=b0;break;default:n=rl}n=Xy(n,qy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qy(t,e){if($a=-1,Ba=0,ce&6)throw Error($(327));var n=t.callbackNode;if(As()&&t.callbackNode!==n)return null;var r=sl(t,t===et?st:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=El(t,r);else{e=r;var s=ce;ce|=2;var i=Wy();(et!==t||st!==e)&&(yn=null,Ls=Pe()+500,Lr(t,e));do try{W_();break}catch(u){Hy(t,u)}while(!0);wh(),xl.current=i,ce=s,De!==null?e=0:(et=null,st=0,e=qe)}if(e!==0){if(e===2&&(s=Hc(t),s!==0&&(r=s,e=xd(t,s))),e===1)throw n=xo,Lr(t,0),Hn(t,r),Nt(t,Pe()),n;if(e===6)Hn(t,r);else{if(s=t.current.alternate,!(r&30)&&!q_(s)&&(e=El(t,r),e===2&&(i=Hc(t),i!==0&&(r=i,e=xd(t,i))),e===1))throw n=xo,Lr(t,0),Hn(t,r),Nt(t,Pe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:jr(t,wt,yn);break;case 3:if(Hn(t,r),(r&130023424)===r&&(e=Dh+500-Pe(),10<e)){if(sl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){pt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Zc(jr.bind(null,t,wt,yn),e);break}jr(t,wt,yn);break;case 4:if(Hn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Kt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*B_(r/1960))-r,10<r){t.timeoutHandle=Zc(jr.bind(null,t,wt,yn),r);break}jr(t,wt,yn);break;case 5:jr(t,wt,yn);break;default:throw Error($(329))}}}return Nt(t,Pe()),t.callbackNode===n?qy.bind(null,t):null}function xd(t,e){var n=Qi;return t.current.memoizedState.isDehydrated&&(Lr(t,e).flags|=256),t=El(t,e),t!==2&&(e=wt,wt=n,e!==null&&wd(e)),t}function wd(t){wt===null?wt=t:wt.push.apply(wt,t)}function q_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hn(t,e){for(e&=~Vh,e&=~nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kt(e),r=1<<n;t[n]=-1,e&=~r}}function yp(t){if(ce&6)throw Error($(327));As();var e=sl(t,0);if(!(e&1))return Nt(t,Pe()),null;var n=El(t,e);if(t.tag!==0&&n===2){var r=Hc(t);r!==0&&(e=r,n=xd(t,r))}if(n===1)throw n=xo,Lr(t,0),Hn(t,e),Nt(t,Pe()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,jr(t,wt,yn),Nt(t,Pe()),null}function Mh(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Ls=Pe()+500,Yl&&_r())}}function Hr(t){Qn!==null&&Qn.tag===0&&!(ce&6)&&As();var e=ce;ce|=1;var n=Ft.transition,r=he;try{if(Ft.transition=null,he=1,t)return t()}finally{he=r,Ft.transition=n,ce=e,!(ce&6)&&_r()}}function Oh(){bt=Ss.current,_e(Ss)}function Lr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,w_(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(yh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ul();break;case 3:Ms(),_e(Et),_e(ft),bh();break;case 5:Th(r);break;case 4:Ms();break;case 13:_e(Ne);break;case 19:_e(Ne);break;case 10:_h(r.type._context);break;case 22:case 23:Oh()}n=n.return}if(et=t,De=t=sr(t.current,null),st=bt=e,qe=0,xo=null,Vh=nu=qr=0,wt=Qi=null,Dr!==null){for(e=0;e<Dr.length;e++)if(n=Dr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Dr=null}return t}function Hy(t,e){do{var n=De;try{if(wh(),Fa.current=vl,yl){for(var r=be.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yl=!1}if(Br=0,Ye=ze=be=null,Wi=!1,go=0,Ph.current=null,n===null||n.return===null){qe=1,xo=e,De=null;break}e:{var i=t,o=n.return,u=n,c=e;if(e=st,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,m=u,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var S=sp(o);if(S!==null){S.flags&=-257,ip(S,o,u,i,e),S.mode&1&&rp(i,h,e),e=S,c=h;var A=e.updateQueue;if(A===null){var k=new Set;k.add(c),e.updateQueue=k}else A.add(c);break e}else{if(!(e&1)){rp(i,h,e),Lh();break e}c=Error($(426))}}else if(Ee&&u.mode&1){var D=sp(o);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ip(D,o,u,i,e),vh(Os(c,u));break e}}i=c=Os(c,u),qe!==4&&(qe=2),Qi===null?Qi=[i]:Qi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=Cy(i,c,e);Xm(i,E);break e;case 1:u=c;var w=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(nr===null||!nr.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=Ay(i,u,e);Xm(i,C);break e}}i=i.return}while(i!==null)}Qy(n)}catch(M){e=M,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Wy(){var t=xl.current;return xl.current=vl,t===null?vl:t}function Lh(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(qr&268435455)&&!(nu&268435455)||Hn(et,st)}function El(t,e){var n=ce;ce|=2;var r=Wy();(et!==t||st!==e)&&(yn=null,Lr(t,e));do try{H_();break}catch(s){Hy(t,s)}while(!0);if(wh(),ce=n,xl.current=r,De!==null)throw Error($(261));return et=null,st=0,qe}function H_(){for(;De!==null;)Gy(De)}function W_(){for(;De!==null&&!yw();)Gy(De)}function Gy(t){var e=Jy(t.alternate,t,bt);t.memoizedProps=t.pendingProps,e===null?Qy(t):De=e,Ph.current=null}function Qy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=F_(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,De=null;return}}else if(n=L_(n,e,bt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);qe===0&&(qe=5)}function jr(t,e,n){var r=he,s=Ft.transition;try{Ft.transition=null,he=1,G_(t,e,n,r)}finally{Ft.transition=s,he=r}return null}function G_(t,e,n,r){do As();while(Qn!==null);if(ce&6)throw Error($(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Iw(t,i),t===et&&(De=et=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sa||(Sa=!0,Xy(rl,function(){return As(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ft.transition,Ft.transition=null;var o=he;he=1;var u=ce;ce|=4,Ph.current=null,z_(t,n),$y(n,t),f_(Xc),il=!!Jc,Xc=Jc=null,t.current=n,$_(n),vw(),ce=u,he=o,Ft.transition=i}else t.current=n;if(Sa&&(Sa=!1,Qn=t,_l=s),i=t.pendingLanes,i===0&&(nr=null),_w(n.stateNode),Nt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wl)throw wl=!1,t=yd,yd=null,t;return _l&1&&t.tag!==0&&As(),i=t.pendingLanes,i&1?t===vd?Ki++:(Ki=0,vd=t):Ki=0,_r(),null}function As(){if(Qn!==null){var t=C0(_l),e=Ft.transition,n=he;try{if(Ft.transition=null,he=16>t?16:t,Qn===null)var r=!1;else{if(t=Qn,Qn=null,_l=0,ce&6)throw Error($(331));var s=ce;for(ce|=4,W=t.current;W!==null;){var i=W,o=i.child;if(W.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(W=h;W!==null;){var m=W;switch(m.tag){case 0:case 11:case 15:Gi(8,m,i)}var p=m.child;if(p!==null)p.return=m,W=p;else for(;W!==null;){m=W;var g=m.sibling,S=m.return;if(Fy(m),m===h){W=null;break}if(g!==null){g.return=S,W=g;break}W=S}}}var A=i.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}W=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,W=o;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gi(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,W=E;break e}W=i.return}}var w=t.current;for(W=w;W!==null;){o=W;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,W=N;else e:for(o=w;W!==null;){if(u=W,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:tu(9,u)}}catch(M){je(u,u.return,M)}if(u===o){W=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,W=C;break e}W=u.return}}if(ce=s,_r(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Gl,t)}catch{}r=!0}return r}finally{he=n,Ft.transition=e}}return!1}function vp(t,e,n){e=Os(n,e),e=Cy(t,e,1),t=tr(t,e,1),e=pt(),t!==null&&(Po(t,1,e),Nt(t,e))}function je(t,e,n){if(t.tag===3)vp(t,t,n);else for(;e!==null;){if(e.tag===3){vp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nr===null||!nr.has(r))){t=Os(n,t),t=Ay(e,t,1),e=tr(e,t,1),t=pt(),e!==null&&(Po(e,1,t),Nt(e,t));break}}e=e.return}}function Q_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(st&n)===n&&(qe===4||qe===3&&(st&130023424)===st&&500>Pe()-Dh?Lr(t,0):Vh|=n),Nt(t,e)}function Ky(t,e){e===0&&(t.mode&1?(e=fa,fa<<=1,!(fa&130023424)&&(fa=4194304)):e=1);var n=pt();t=Tn(t,e),t!==null&&(Po(t,e,n),Nt(t,n))}function K_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ky(t,n)}function J_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),Ky(t,n)}var Jy;Jy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,O_(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ee&&e.flags&1048576&&ey(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;za(t,e),t=e.pendingProps;var s=Ps(e,ft.current);Cs(e,n),s=Ch(null,e,r,t,s,n);var i=Ah();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(i=!0,cl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sh(e),s.updater=eu,e.stateNode=s,s._reactInternals=e,od(e,r,t,n),e=ud(null,e,r,!0,i,n)):(e.tag=0,Ee&&i&&gh(e),mt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(za(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Y_(r),t=Ht(r,t),s){case 0:e=ld(null,e,r,t,n);break e;case 1:e=lp(null,e,r,t,n);break e;case 11:e=op(null,e,r,t,n);break e;case 14:e=ap(null,e,r,Ht(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),ld(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),lp(t,e,r,s,n);case 3:e:{if(Py(e),t===null)throw Error($(387));r=e.pendingProps,i=e.memoizedState,s=i.element,oy(t,e),pl(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Os(Error($(423)),e),e=up(t,e,r,n,s);break e}else if(r!==s){s=Os(Error($(424)),e),e=up(t,e,r,n,s);break e}else for(It=er(e.stateNode.containerInfo.firstChild),Ct=e,Ee=!0,Gt=null,n=sy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===s){e=bn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return ay(e),t===null&&rd(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Yc(r,s)?o=null:i!==null&&Yc(r,i)&&(e.flags|=32),Ry(t,e),mt(t,e,o,n),e.child;case 6:return t===null&&rd(e),null;case 13:return Vy(t,e,n);case 4:return Nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ds(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),op(t,e,r,s,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(fl,r._currentValue),r._currentValue=o,i!==null)if(Xt(i.value,o)){if(i.children===s.children&&!Et.current){e=bn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){o=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_n(-1,n&-n),c.tag=2;var h=i.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?c.next=c:(c.next=m.next,m.next=c),h.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),sd(i.return,n,e),u.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error($(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),sd(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}mt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Cs(e,n),s=Ut(s),r=r(s),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,s=Ht(r,e.pendingProps),s=Ht(r.type,s),ap(t,e,r,s,n);case 15:return ky(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ht(r,s),za(t,e),e.tag=1,St(r)?(t=!0,cl(e)):t=!1,Cs(e,n),Iy(e,r,s),od(e,r,s,n),ud(null,e,r,!0,t,n);case 19:return Dy(t,e,n);case 22:return jy(t,e,n)}throw Error($(156,e.tag))};function Xy(t,e){return N0(t,e)}function X_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(t,e,n,r){return new X_(t,e,n,r)}function Fh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Y_(t){if(typeof t=="function")return Fh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sh)return 11;if(t===ih)return 14}return 2}function sr(t,e){var n=t.alternate;return n===null?(n=Lt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qa(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Fh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fs:return Fr(n.children,s,i,e);case rh:o=8,s|=8;break;case kc:return t=Lt(12,n,e,s|2),t.elementType=kc,t.lanes=i,t;case jc:return t=Lt(13,n,e,s),t.elementType=jc,t.lanes=i,t;case Rc:return t=Lt(19,n,e,s),t.elementType=Rc,t.lanes=i,t;case a0:return ru(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i0:o=10;break e;case o0:o=9;break e;case sh:o=11;break e;case ih:o=14;break e;case $n:o=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Lt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Fr(t,e,n,r){return t=Lt(7,t,r,e),t.lanes=n,t}function ru(t,e,n,r){return t=Lt(22,t,r,e),t.elementType=a0,t.lanes=n,t.stateNode={isHidden:!1},t}function hc(t,e,n){return t=Lt(6,t,null,e),t.lanes=n,t}function fc(t,e,n){return e=Lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Z_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gu(0),this.expirationTimes=Gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gu(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uh(t,e,n,r,s,i,o,u,c){return t=new Z_(t,e,n,u,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Lt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sh(i),t}function e2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Yy(t){if(!t)return hr;t=t._reactInternals;e:{if(Jr(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(St(n))return Y0(t,n,e)}return e}function Zy(t,e,n,r,s,i,o,u,c){return t=Uh(n,r,!0,t,s,i,o,u,c),t.context=Yy(null),n=t.current,r=pt(),s=rr(n),i=_n(r,s),i.callback=e??null,tr(n,i,s),t.current.lanes=s,Po(t,s,r),Nt(t,r),t}function su(t,e,n,r){var s=e.current,i=pt(),o=rr(s);return n=Yy(n),e.context===null?e.context=n:e.pendingContext=n,e=_n(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=tr(s,e,o),t!==null&&(Jt(t,s,o,i),La(t,s,o)),o}function Sl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function zh(t,e){xp(t,e),(t=t.alternate)&&xp(t,e)}function t2(){return null}var ev=typeof reportError=="function"?reportError:function(t){console.error(t)};function $h(t){this._internalRoot=t}iu.prototype.render=$h.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));su(t,e,null,null)};iu.prototype.unmount=$h.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hr(function(){su(null,t,null,null)}),e[Nn]=null}};function iu(t){this._internalRoot=t}iu.prototype.unstable_scheduleHydration=function(t){if(t){var e=j0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qn.length&&e!==0&&e<qn[n].priority;n++);qn.splice(n,0,t),n===0&&P0(t)}};function Bh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ou(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wp(){}function n2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var h=Sl(o);i.call(h)}}var o=Zy(e,r,t,0,null,!1,!1,"",wp);return t._reactRootContainer=o,t[Nn]=o.current,co(t.nodeType===8?t.parentNode:t),Hr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var h=Sl(c);u.call(h)}}var c=Uh(t,0,!1,null,null,!1,!1,"",wp);return t._reactRootContainer=c,t[Nn]=c.current,co(t.nodeType===8?t.parentNode:t),Hr(function(){su(e,c,n,r)}),c}function au(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var u=s;s=function(){var c=Sl(o);u.call(c)}}su(e,o,t,s)}else o=n2(n,e,t,s,r);return Sl(o)}A0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Di(e.pendingLanes);n!==0&&(lh(e,n|1),Nt(e,Pe()),!(ce&6)&&(Ls=Pe()+500,_r()))}break;case 13:Hr(function(){var r=Tn(t,1);if(r!==null){var s=pt();Jt(r,t,1,s)}}),zh(t,1)}};uh=function(t){if(t.tag===13){var e=Tn(t,134217728);if(e!==null){var n=pt();Jt(e,t,134217728,n)}zh(t,134217728)}};k0=function(t){if(t.tag===13){var e=rr(t),n=Tn(t,e);if(n!==null){var r=pt();Jt(n,t,e,r)}zh(t,e)}};j0=function(){return he};R0=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};$c=function(t,e,n){switch(e){case"input":if(Dc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Xl(r);if(!s)throw Error($(90));u0(r),Dc(r,s)}}}break;case"textarea":d0(t,n);break;case"select":e=n.value,e!=null&&Ns(t,!!n.multiple,e,!1)}};v0=Mh;x0=Hr;var r2={usingClientEntryPoint:!1,Events:[Do,ys,Xl,g0,y0,Mh]},Ri={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s2={bundleType:Ri.bundleType,version:Ri.version,rendererPackageName:Ri.rendererPackageName,rendererConfig:Ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E0(t),t===null?null:t.stateNode},findFiberByHostInstance:Ri.findFiberByHostInstance||t2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Na.isDisabled&&Na.supportsFiber)try{Gl=Na.inject(s2),an=Na}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r2;kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(e))throw Error($(200));return e2(t,e,null,n)};kt.createRoot=function(t,e){if(!Bh(t))throw Error($(299));var n=!1,r="",s=ev;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Uh(t,1,!1,null,null,n,!1,r,s),t[Nn]=e.current,co(t.nodeType===8?t.parentNode:t),new $h(e)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=E0(e),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return Hr(t)};kt.hydrate=function(t,e,n){if(!ou(e))throw Error($(200));return au(null,t,e,!0,n)};kt.hydrateRoot=function(t,e,n){if(!Bh(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=ev;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Zy(e,null,t,1,n??null,s,!1,i,o),t[Nn]=e.current,co(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new iu(e)};kt.render=function(t,e,n){if(!ou(e))throw Error($(200));return au(null,t,e,!1,n)};kt.unmountComponentAtNode=function(t){if(!ou(t))throw Error($(40));return t._reactRootContainer?(Hr(function(){au(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};kt.unstable_batchedUpdates=Mh;kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ou(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return au(t,e,n,!1,r)};kt.version="18.3.1-next-f1338f8080-20240426";function tv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tv)}catch(t){console.error(t)}}tv(),t0.exports=kt;var i2=t0.exports,nv,_p=i2;nv=_p.createRoot,_p.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wo(){return wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wo.apply(this,arguments)}var Kn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Kn||(Kn={}));const Ep="popstate";function o2(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:u}=r.location;return _d("",{pathname:i,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Nl(s)}return l2(e,n,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a2(){return Math.random().toString(36).substr(2,8)}function Sp(t,e){return{usr:t.state,key:t.key,idx:e}}function _d(t,e,n,r){return n===void 0&&(n=null),wo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Js(e):e,{state:n,key:e&&e.key||r||a2()})}function Nl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Js(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function l2(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,u=Kn.Pop,c=null,h=m();h==null&&(h=0,o.replaceState(wo({},o.state,{idx:h}),""));function m(){return(o.state||{idx:null}).idx}function p(){u=Kn.Pop;let D=m(),E=D==null?null:D-h;h=D,c&&c({action:u,location:k.location,delta:E})}function g(D,E){u=Kn.Push;let w=_d(k.location,D,E);h=m()+1;let N=Sp(w,h),C=k.createHref(w);try{o.pushState(N,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(C)}i&&c&&c({action:u,location:k.location,delta:1})}function S(D,E){u=Kn.Replace;let w=_d(k.location,D,E);h=m();let N=Sp(w,h),C=k.createHref(w);o.replaceState(N,"",C),i&&c&&c({action:u,location:k.location,delta:0})}function A(D){let E=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof D=="string"?D:Nl(D);return w=w.replace(/ $/,"%20"),Oe(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let k={get action(){return u},get location(){return t(s,o)},listen(D){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ep,p),c=D,()=>{s.removeEventListener(Ep,p),c=null}},createHref(D){return e(s,D)},createURL:A,encodeLocation(D){let E=A(D);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:S,go(D){return o.go(D)}};return k}var Np;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Np||(Np={}));function u2(t,e,n){return n===void 0&&(n="/"),c2(t,e,n)}function c2(t,e,n,r){let s=typeof e=="string"?Js(e):e,i=qh(s.pathname||"/",n);if(i==null)return null;let o=sv(t);d2(o);let u=null;for(let c=0;u==null&&c<o.length;++c){let h=S2(i);u=w2(o[c],h)}return u}function sv(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ir([r,c.relativePath]),m=n.concat(c);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),sv(i.children,e,m,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:v2(h,i.index),routesMeta:m})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,o);else for(let c of iv(i.path))s(i,o,c)}),e}function iv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=iv(r.join("/")),u=[];return u.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&u.push(...o),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function d2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:x2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const h2=/^:[\w-]+$/,f2=3,m2=2,p2=1,g2=10,y2=-2,Tp=t=>t==="*";function v2(t,e){let n=t.split("/"),r=n.length;return n.some(Tp)&&(r+=y2),e&&(r+=m2),n.filter(s=>!Tp(s)).reduce((s,i)=>s+(h2.test(i)?f2:i===""?p2:g2),r)}function x2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function w2(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let u=0;u<r.length;++u){let c=r[u],h=u===r.length-1,m=i==="/"?e:e.slice(i.length)||"/",p=_2({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},m),g=c.route;if(!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:ir([i,p.pathname]),pathnameBase:I2(ir([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ir([i,p.pathnameBase]))}return o}function _2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=E2(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((h,m,p)=>{let{paramName:g,isOptional:S}=m;if(g==="*"){let k=u[p]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const A=u[p];return S&&!A?h[g]=void 0:h[g]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function E2(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function S2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function N2(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Js(t):t;return{pathname:n?n.startsWith("/")?n:T2(n,e):e,search:C2(r),hash:A2(s)}}function T2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function mc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ov(t,e){let n=b2(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function av(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Js(t):(s=wo({},t),Oe(!s.pathname||!s.pathname.includes("?"),mc("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),mc("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),mc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,u;if(o==null)u=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}u=p>=0?e[p]:"/"}let c=N2(s,u),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||m)&&(c.pathname+="/"),c}const ir=t=>t.join("/").replace(/\/\/+/g,"/"),I2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),C2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,A2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function k2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lv=["post","put","patch","delete"];new Set(lv);const j2=["get",...lv];new Set(j2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _o(){return _o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_o.apply(this,arguments)}const Hh=j.createContext(null),R2=j.createContext(null),Xr=j.createContext(null),lu=j.createContext(null),Yr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),uv=j.createContext(null);function P2(t,e){let{relative:n}=e===void 0?{}:e;Oo()||Oe(!1);let{basename:r,navigator:s}=j.useContext(Xr),{hash:i,pathname:o,search:u}=hv(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ir([r,o])),s.createHref({pathname:c,search:u,hash:i})}function Oo(){return j.useContext(lu)!=null}function Lo(){return Oo()||Oe(!1),j.useContext(lu).location}function cv(t){j.useContext(Xr).static||j.useLayoutEffect(t)}function dv(){let{isDataRoute:t}=j.useContext(Yr);return t?W2():V2()}function V2(){Oo()||Oe(!1);let t=j.useContext(Hh),{basename:e,future:n,navigator:r}=j.useContext(Xr),{matches:s}=j.useContext(Yr),{pathname:i}=Lo(),o=JSON.stringify(ov(s,n.v7_relativeSplatPath)),u=j.useRef(!1);return cv(()=>{u.current=!0}),j.useCallback(function(h,m){if(m===void 0&&(m={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let p=av(h,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ir([e,p.pathname])),(m.replace?r.replace:r.push)(p,m.state,m)},[e,r,o,i,t])}function hv(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Xr),{matches:s}=j.useContext(Yr),{pathname:i}=Lo(),o=JSON.stringify(ov(s,r.v7_relativeSplatPath));return j.useMemo(()=>av(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function D2(t,e){return M2(t,e)}function M2(t,e,n,r){Oo()||Oe(!1);let{navigator:s}=j.useContext(Xr),{matches:i}=j.useContext(Yr),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let h=Lo(),m;if(e){var p;let D=typeof e=="string"?Js(e):e;c==="/"||(p=D.pathname)!=null&&p.startsWith(c)||Oe(!1),m=D}else m=h;let g=m.pathname||"/",S=g;if(c!=="/"){let D=c.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=u2(t,{pathname:S}),k=z2(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:ir([c,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:ir([c,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),i,n,r);return e&&k?j.createElement(lu.Provider,{value:{location:_o({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Kn.Pop}},k):k}function O2(){let t=H2(),e=k2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,null)}const L2=j.createElement(O2,null);class F2 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Yr.Provider,{value:this.props.routeContext},j.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function U2(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(Hh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Yr.Provider,{value:e},r)}function z2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(s=n)==null?void 0:s.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);m>=0||Oe(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:g,errors:S}=n,A=p.route.loader&&g[p.route.id]===void 0&&(!S||S[p.route.id]===void 0);if(p.route.lazy||A){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,g)=>{let S,A=!1,k=null,D=null;n&&(S=u&&p.route.id?u[p.route.id]:void 0,k=p.route.errorElement||L2,c&&(h<0&&g===0?(G2("route-fallback"),A=!0,D=null):h===g&&(A=!0,D=p.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,g+1)),w=()=>{let N;return S?N=k:A?N=D:p.route.Component?N=j.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=m,j.createElement(U2,{match:p,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(F2,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var fv=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fv||{}),mv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mv||{});function $2(t){let e=j.useContext(Hh);return e||Oe(!1),e}function B2(t){let e=j.useContext(R2);return e||Oe(!1),e}function q2(t){let e=j.useContext(Yr);return e||Oe(!1),e}function pv(t){let e=q2(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function H2(){var t;let e=j.useContext(uv),n=B2(),r=pv();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function W2(){let{router:t}=$2(fv.UseNavigateStable),e=pv(mv.UseNavigateStable),n=j.useRef(!1);return cv(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,_o({fromRouteId:e},i)))},[t,e])}const bp={};function G2(t,e,n){bp[t]||(bp[t]=!0)}function Q2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Rr(t){Oe(!1)}function K2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Kn.Pop,navigator:i,static:o=!1,future:u}=t;Oo()&&Oe(!1);let c=e.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:i,static:o,future:_o({v7_relativeSplatPath:!1},u)}),[c,u,i,o]);typeof r=="string"&&(r=Js(r));let{pathname:m="/",search:p="",hash:g="",state:S=null,key:A="default"}=r,k=j.useMemo(()=>{let D=qh(m,c);return D==null?null:{location:{pathname:D,search:p,hash:g,state:S,key:A},navigationType:s}},[c,m,p,g,S,A,s]);return k==null?null:j.createElement(Xr.Provider,{value:h},j.createElement(lu.Provider,{children:n,value:k}))}function J2(t){let{children:e,location:n}=t;return D2(Ed(e),n)}new Promise(()=>{});function Ed(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Ed(r.props.children,i));return}r.type!==Rr&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ed(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function X2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Y2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Z2(t,e){return t.button===0&&(!e||e==="_self")&&!Y2(t)}const eE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tE="6";try{window.__reactRouterVersion=tE}catch{}const nE="startTransition",Ip=Qx[nE];function rE(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=o2({window:s,v5Compat:!0}));let o=i.current,[u,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},m=j.useCallback(p=>{h&&Ip?Ip(()=>c(p)):c(p)},[c,h]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.useEffect(()=>Q2(r),[r]),j.createElement(K2,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const sE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cp=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:u,target:c,to:h,preventScrollReset:m,viewTransition:p}=e,g=X2(e,eE),{basename:S}=j.useContext(Xr),A,k=!1;if(typeof h=="string"&&iE.test(h)&&(A=h,sE))try{let N=new URL(window.location.href),C=h.startsWith("//")?new URL(N.protocol+h):new URL(h),M=qh(C.pathname,S);C.origin===N.origin&&M!=null?h=M+C.search+C.hash:k=!0}catch{}let D=P2(h,{relative:s}),E=oE(h,{replace:o,state:u,target:c,preventScrollReset:m,relative:s,viewTransition:p});function w(N){r&&r(N),N.defaultPrevented||E(N)}return j.createElement("a",Sd({},g,{href:A||D,onClick:k||i?r:w,ref:n,target:c}))});var Ap;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ap||(Ap={}));var kp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kp||(kp={}));function oE(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:u}=e===void 0?{}:e,c=dv(),h=Lo(),m=hv(t,{relative:o});return j.useCallback(p=>{if(Z2(p,n)){p.preventDefault();let g=r!==void 0?r:Nl(h)===Nl(m);c(t,{replace:g,state:s,preventScrollReset:i,relative:o,viewTransition:u})}},[h,c,m,r,s,n,t,i,o,u])}let aE={data:""},lE=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||aE},uE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,cE=/\/\*[^]*?\*\/|  +/g,jp=/\n+/g,Wn=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Wn(o,i):i+"{"+Wn(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Wn(o,e?e.replace(/([^,])+/g,u=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,u):u?u+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Wn.p?Wn.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},gn={},gv=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gv(t[n]);return e}return t},dE=(t,e,n,r,s)=>{let i=gv(t),o=gn[i]||(gn[i]=(c=>{let h=0,m=11;for(;h<c.length;)m=101*m+c.charCodeAt(h++)>>>0;return"go"+m})(i));if(!gn[o]){let c=i!==t?t:(h=>{let m,p,g=[{}];for(;m=uE.exec(h.replace(cE,""));)m[4]?g.shift():m[3]?(p=m[3].replace(jp," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][m[1]]=m[2].replace(jp," ").trim();return g[0]})(t);gn[o]=Wn(s?{["@keyframes "+o]:c}:c,n?"":"."+o)}let u=n&&gn.g?gn.g:null;return n&&(gn.g=gn[o]),((c,h,m,p)=>{p?h.data=h.data.replace(p,c):h.data.indexOf(c)===-1&&(h.data=m?c+h.data:h.data+c)})(gn[o],e,r,u),o},hE=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let u=o(n),c=u&&u.props&&u.props.className||/^go/.test(u)&&u;o=c?"."+c:u&&typeof u=="object"?u.props?"":Wn(u,""):u===!1?"":u}return r+s+(o??"")},"");function uu(t){let e=this||{},n=t.call?t(e.p):t;return dE(n.unshift?n.raw?hE(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,lE(e.target),e.g,e.o,e.k)}let yv,Nd,Td;uu.bind({g:1});let In=uu.bind({k:1});function fE(t,e,n,r){Wn.p=e,yv=t,Nd=n,Td=r}function Er(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let u=Object.assign({},i),c=u.className||s.className;n.p=Object.assign({theme:Nd&&Nd()},u),n.o=/ *go\d+/.test(c),u.className=uu.apply(n,r)+(c?" "+c:"");let h=t;return t[0]&&(h=u.as||t,delete u.as),Td&&h[0]&&Td(u),yv(h,u)}return s}}var mE=t=>typeof t=="function",Tl=(t,e)=>mE(t)?t(e):t,pE=(()=>{let t=0;return()=>(++t).toString()})(),vv=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),gE=20,Wh="default",xv=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return xv(t,{type:t.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=e;return{...t,toasts:t.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ha=[],wv={toasts:[],pausedAt:void 0,settings:{toastLimit:gE}},on={},_v=(t,e=Wh)=>{on[e]=xv(on[e]||wv,t),Ha.forEach(([n,r])=>{n===e&&r(on[e])})},Ev=t=>Object.keys(on).forEach(e=>_v(t,e)),yE=t=>Object.keys(on).find(e=>on[e].toasts.some(n=>n.id===t)),cu=(t=Wh)=>e=>{_v(e,t)},vE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},xE=(t={},e=Wh)=>{let[n,r]=j.useState(on[e]||wv),s=j.useRef(on[e]);j.useEffect(()=>(s.current!==on[e]&&r(on[e]),Ha.push([e,r]),()=>{let o=Ha.findIndex(([u])=>u===e);o>-1&&Ha.splice(o,1)}),[e]);let i=n.toasts.map(o=>{var u,c,h;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((u=t[o.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((c=t[o.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||vE[o.type],style:{...t.style,...(h=t[o.type])==null?void 0:h.style,...o.style}}});return{...n,toasts:i}},wE=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||pE()}),Fo=t=>(e,n)=>{let r=wE(e,t,n);return cu(r.toasterId||yE(r.id))({type:2,toast:r}),r.id},$e=(t,e)=>Fo("blank")(t,e);$e.error=Fo("error");$e.success=Fo("success");$e.loading=Fo("loading");$e.custom=Fo("custom");$e.dismiss=(t,e)=>{let n={type:3,toastId:t};e?cu(e)(n):Ev(n)};$e.dismissAll=t=>$e.dismiss(void 0,t);$e.remove=(t,e)=>{let n={type:4,toastId:t};e?cu(e)(n):Ev(n)};$e.removeAll=t=>$e.remove(void 0,t);$e.promise=(t,e,n)=>{let r=$e.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Tl(e.success,s):void 0;return i?$e.success(i,{id:r,...n,...n==null?void 0:n.success}):$e.dismiss(r),s}).catch(s=>{let i=e.error?Tl(e.error,s):void 0;i?$e.error(i,{id:r,...n,...n==null?void 0:n.error}):$e.dismiss(r)}),t};var _E=1e3,EE=(t,e="default")=>{let{toasts:n,pausedAt:r}=xE(t,e),s=j.useRef(new Map).current,i=j.useCallback((p,g=_E)=>{if(s.has(p))return;let S=setTimeout(()=>{s.delete(p),o({type:4,toastId:p})},g);s.set(p,S)},[]);j.useEffect(()=>{if(r)return;let p=Date.now(),g=n.map(S=>{if(S.duration===1/0)return;let A=(S.duration||0)+S.pauseDuration-(p-S.createdAt);if(A<0){S.visible&&$e.dismiss(S.id);return}return setTimeout(()=>$e.dismiss(S.id,e),A)});return()=>{g.forEach(S=>S&&clearTimeout(S))}},[n,r,e]);let o=j.useCallback(cu(e),[e]),u=j.useCallback(()=>{o({type:5,time:Date.now()})},[o]),c=j.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),h=j.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=j.useCallback((p,g)=>{let{reverseOrder:S=!1,gutter:A=8,defaultPosition:k}=g||{},D=n.filter(N=>(N.position||k)===(p.position||k)&&N.height),E=D.findIndex(N=>N.id===p.id),w=D.filter((N,C)=>C<E&&N.visible).length;return D.filter(N=>N.visible).slice(...S?[w+1]:[0,w]).reduce((N,C)=>N+(C.height||0)+A,0)},[n]);return j.useEffect(()=>{n.forEach(p=>{if(p.dismissed)i(p.id,p.removeDelay);else{let g=s.get(p.id);g&&(clearTimeout(g),s.delete(p.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:u,endPause:h,calculateOffset:m}}},SE=In`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,NE=In`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,TE=In`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bE=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${NE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${TE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,IE=In`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,CE=Er("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${IE} 1s linear infinite;
`,AE=In`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kE=In`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jE=Er("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${AE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,RE=Er("div")`
  position: absolute;
`,PE=Er("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,VE=In`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,DE=Er("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${VE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ME=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?j.createElement(DE,null,e):e:n==="blank"?null:j.createElement(PE,null,j.createElement(CE,{...r}),n!=="loading"&&j.createElement(RE,null,n==="error"?j.createElement(bE,{...r}):j.createElement(jE,{...r})))},OE=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LE=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,FE="0%{opacity:0;} 100%{opacity:1;}",UE="0%{opacity:1;} 100%{opacity:0;}",zE=Er("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,$E=Er("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,BE=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=vv()?[FE,UE]:[OE(n),LE(n)];return{animation:e?`${In(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${In(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},qE=j.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?BE(t.position||e||"top-center",t.visible):{opacity:0},i=j.createElement(ME,{toast:t}),o=j.createElement($E,{...t.ariaProps},Tl(t.message,t));return j.createElement(zE,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):j.createElement(j.Fragment,null,i,o))});fE(j.createElement);var HE=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=j.useCallback(o=>{if(o){let u=()=>{let c=o.getBoundingClientRect().height;r(t,c)};u(),new MutationObserver(u).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return j.createElement("div",{ref:i,className:e,style:n},s)},WE=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},GE=uu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ta=16,QE=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,toasterId:i,containerStyle:o,containerClassName:u})=>{let{toasts:c,handlers:h}=EE(n,i);return j.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Ta,left:Ta,right:Ta,bottom:Ta,pointerEvents:"none",...o},className:u,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(m=>{let p=m.position||e,g=h.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),S=WE(p,g);return j.createElement(HE,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?GE:"",style:S},m.type==="custom"?Tl(m.message,m):s?s(m):j.createElement(qE,{toast:m,position:p}))}))},pe=$e;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JE=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Rp=t=>{const e=JE(t);return e.charAt(0).toUpperCase()+e.slice(1)},Sv=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),XE=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...u},c)=>j.createElement("svg",{ref:c,...YE,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Sv("lucide",s),...!i&&!XE(u)&&{"aria-hidden":"true"},...u},[...o.map(([h,m])=>j.createElement(h,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const n=j.forwardRef(({className:r,...s},i)=>j.createElement(ZE,{ref:i,iconNode:e,className:Sv(`lucide-${KE(Rp(t))}`,`lucide-${t}`,r),...s}));return n.displayName=Rp(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],or=ne("calendar",e4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],pc=ne("camera",t4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bd=ne("chevron-left",n4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Id=ne("chevron-right",r4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],i4=ne("circle-check-big",s4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dt=ne("clock",o4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pp=ne("eye",a4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],u4=ne("facebook",l4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]],gc=ne("file-image",c4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],h4=ne("heart",d4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Wa=ne("image",f4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],p4=ne("instagram",m4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],yc=ne("link",g4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],vc=ne("lock",y4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fs=ne("mail",v4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Us=ne("map-pin",x4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],_4=ne("menu",w4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M10.1 2.182a10 10 0 0 1 3.8 0",key:"5ilxe3"}],["path",{d:"M13.9 21.818a10 10 0 0 1-3.8 0",key:"11zvb9"}],["path",{d:"M17.609 3.72a10 10 0 0 1 2.69 2.7",key:"jiglxs"}],["path",{d:"M2.182 13.9a10 10 0 0 1 0-3.8",key:"c0bmvh"}],["path",{d:"M20.28 17.61a10 10 0 0 1-2.7 2.69",key:"elg7ff"}],["path",{d:"M21.818 10.1a10 10 0 0 1 0 3.8",key:"qkgqxc"}],["path",{d:"M3.721 6.391a10 10 0 0 1 2.7-2.69",key:"1mcia2"}],["path",{d:"m6.163 21.117-2.906.85a1 1 0 0 1-1.236-1.169l.965-2.98",key:"1qsu07"}]],bl=ne("message-circle-dashed",E4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],N4=ne("message-square",S4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],b4=ne("monitor",T4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Vp=ne("music",I4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Wr=ne("phone",C4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Dp=ne("plus",A4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],zn=ne("save",k4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],R4=ne("send",j4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cd=ne("settings",P4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ba=ne("square-pen",V4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Il=ne("star",D4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ia=ne("trash-2",M4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],L4=ne("triangle-alert",O4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],U4=ne("twitter",F4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],$4=ne("upload",z4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cl=ne("user",B4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ga=ne("users",q4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Mp=ne("volume-2",H4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Op=ne("volume-x",W4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uo=ne("x",G4);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],K4=ne("youtube",Q4),J4=({onLogoClick:t,isAdmin:e,onLogout:n})=>{const[r,s]=j.useState(!1),[i,o]=j.useState({title:"Luz Espiritual",logoImage:""}),u=Lo(),c=dv();j.useEffect(()=>{const p=localStorage.getItem("siteSettings");p&&o(g=>({...g,...JSON.parse(p)}))},[]);const h=()=>{e&&c("/admin")},m=[{name:"Incio",path:"/"},{name:"Servios",path:"/services"},{name:"Galeria",path:"/gallery"},{name:"Contato",path:"/contact"},{name:"Agendar",path:"/booking"}];return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-sm shadow-lg border-b border-yellow-500/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"flex justify-between items-center py-4",children:[l.jsx("div",{className:"flex items-center",children:l.jsxs("button",{onClick:t,className:"flex items-center space-x-3 hover:opacity-80 transition-opacity duration-300",children:[i.logoImage?l.jsx("img",{src:i.logoImage,alt:i.title,className:"h-12 w-12 object-cover rounded-full"}):l.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-slate-900 font-bold text-xl",children:"L"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-yellow-400 font-serif",children:i.title}),l.jsx("p",{className:"text-sm text-yellow-200 hidden sm:block",children:"Tradio e Espiritualidade"})]})]})}),l.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[m.map(p=>l.jsxs(Cp,{to:p.path,className:`text-white hover:text-yellow-400 font-medium transition-colors duration-300 relative ${u.pathname===p.path?"text-yellow-400":""}`,children:[p.name,u.pathname===p.path&&l.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-0.5 bg-yellow-400"})]},p.name)),e&&l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-colors duration-300 font-semibold",children:[l.jsx(Cd,{className:"w-4 h-4"}),"Painel Admin"]}),l.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300 font-semibold",children:[l.jsx(Cl,{className:"w-4 h-4"}),"Sair"]})]})]}),l.jsx("div",{className:"md:hidden",children:l.jsx("button",{onClick:()=>s(!r),className:"text-white hover:text-yellow-400 transition-colors duration-300",children:r?l.jsx(Uo,{className:"h-6 w-6"}):l.jsx(_4,{className:"h-6 w-6"})})})]}),r&&l.jsx("div",{className:"md:hidden",children:l.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-slate-800 border-t border-yellow-500/20",children:[m.map(p=>l.jsx(Cp,{to:p.path,className:`block px-3 py-2 text-white hover:text-yellow-400 hover:bg-slate-700 rounded-md font-medium transition-colors duration-300 ${u.pathname===p.path?"text-yellow-400 bg-slate-700":""}`,onClick:()=>s(!1),children:p.name},p.name)),e&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>{h(),s(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-2 bg-yellow-500 text-slate-900 rounded-md hover:bg-yellow-400 transition-colors duration-300 font-semibold",children:[l.jsx(Cd,{className:"w-4 h-4"}),"Painel Admin"]}),l.jsxs("button",{onClick:()=>{n(),s(!1)},className:"w-full text-left flex items-center gap-2 px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-300 font-semibold",children:[l.jsx(Cl,{className:"w-4 h-4"}),"Sair"]})]})]})})]})})},X4=()=>{const[t,e]=j.useState({title:"Luz Espiritual",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com"}),[n,r]=j.useState([]);j.useEffect(()=>{const i=()=>{const c=localStorage.getItem("siteSettings");c&&e(JSON.parse(c));const h=localStorage.getItem("socialProfiles");if(h){const m=JSON.parse(h);r(m.filter(p=>p.active))}};i();const o=()=>{i()};window.addEventListener("storage",o);const u=setInterval(i,1e3);return()=>{window.removeEventListener("storage",o),clearInterval(u)}},[]);const s=i=>{switch(i){case"Instagram":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("defs",{children:l.jsxs("radialGradient",{id:"instagramGradient",cx:"30%",cy:"107%",r:"150%",children:[l.jsx("stop",{offset:"0%",style:{stopColor:"#fdf497"}}),l.jsx("stop",{offset:"5%",style:{stopColor:"#fdf497"}}),l.jsx("stop",{offset:"45%",style:{stopColor:"#fd5949"}}),l.jsx("stop",{offset:"60%",style:{stopColor:"#d6249f"}}),l.jsx("stop",{offset:"90%",style:{stopColor:"#285AEB"}})]})}),l.jsx("path",{fill:"url(#instagramGradient)",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})]});case"Facebook":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#1877F2"}),l.jsx("path",{fill:"white",d:"M13.397 20.997v-8.196h2.765l.411-3.209h-3.176V7.548c0-.926.258-1.56 1.587-1.56h1.684V3.127A22.336 22.336 0 0014.201 3c-2.444 0-4.122 1.492-4.122 4.231v2.355H7.332v3.209h2.753v8.202h3.312z"})]});case"TikTok":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("path",{fill:"#000000",d:"M19.59 6.69a4.83 4.83 0 01-3.77-4.25V2h-3.45v13.67a2.89 2.89 0 01-5.2 1.74 2.89 2.89 0 012.31-4.64 2.93 2.93 0 01.88.13V9.4a6.84 6.84 0 00-1-.05A6.33 6.33 0 005 20.1a6.34 6.34 0 0010.86-4.43v-7a8.16 8.16 0 004.77 1.52v-3.4a4.85 4.85 0 01-1-.1z"}),l.jsx("path",{fill:"#EE1D52",d:"M9.68 10.7a2.89 2.89 0 00-2.31 4.64 2.89 2.89 0 005.2-1.74V2h3.45a4.83 4.83 0 003.77 4.25c.34.05.68.08 1 .1v3.4a8.16 8.16 0 01-4.77-1.52v7a6.34 6.34 0 01-10.86 4.43A6.33 6.33 0 019.36 9.35c.34 0 .67.02 1 .05v3.5a2.93 2.93 0 00-.88-.13z"}),l.jsx("path",{fill:"#69C9D0",d:"M19.59 6.69c-.34-.02-.68-.05-1-.1a4.83 4.83 0 01-3.77-4.25h.18v4.35a8.16 8.16 0 004.77 1.52v-3.4c.34.05.68.08 1 .1v3.4c-1.84 0-3.48-.64-4.77-1.52v7a6.34 6.34 0 01-10.86 4.43 6.33 6.33 0 009.36-5.57V2h3.45c0 .26.05.52.09.78.24 1.63 1.16 3.03 2.46 3.91z"})]});case"YouTube":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("path",{fill:"#FF0000",d:"M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814z"}),l.jsx("path",{fill:"white",d:"M9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]});case"Twitter":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#1DA1F2"}),l.jsx("path",{fill:"white",d:"M18.244 8.603c.01.14.01.281.01.422 0 4.301-3.273 9.256-9.256 9.256-1.84 0-3.552-.537-4.992-1.459.261.03.512.04.783.04 1.52 0 2.918-.512 4.032-1.388a3.263 3.263 0 01-3.043-2.26c.2.03.402.05.613.05.291 0 .582-.04.853-.11a3.257 3.257 0 01-2.61-3.194v-.04c.432.241.934.392 1.467.412a3.254 3.254 0 01-1.448-2.71c0-.603.16-1.156.442-1.638a9.25 9.25 0 006.712 3.404 3.67 3.67 0 01-.08-.743 3.254 3.254 0 013.254-3.254c.934 0 1.779.392 2.37 1.025a6.403 6.403 0 002.067-.784 3.243 3.243 0 01-1.428 1.789A6.515 6.515 0 0020 7.544a6.995 6.995 0 01-1.756 1.059z"})]});case"WhatsApp":return l.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",children:[l.jsx("circle",{cx:"12",cy:"12",r:"12",fill:"#25D366"}),l.jsx("path",{fill:"white",d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"})]});default:return l.jsx(Ga,{className:"w-6 h-6"})}};return l.jsx("footer",{className:"bg-slate-900 text-white border-t border-yellow-500/20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[l.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:t.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:"Conectando voc com a sabedoria ancestral atravs da tradio If. Nossos servios espirituais oferecem orientao e transformao para sua jornada de vida."}),n.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-3",children:"Siga-nos"}),l.jsx("div",{className:"flex space-x-4",children:n.map(i=>l.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-white hover:bg-gray-100 rounded-full flex items-center justify-center transition-all duration-300 shadow-lg hover:shadow-xl",title:`Seguir no ${i.platform}`,children:s(i.iconName)},i.platform))})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Contato"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Wr,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white",children:t.phone}),l.jsx("a",{href:`https://wa.me/55${t.phone.replace(/\D/g,"")}`,className:"text-green-400 hover:text-green-300 text-sm font-semibold",children:"WhatsApp"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Fs,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsx("div",{children:l.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-yellow-400",children:t.email})})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Us,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),l.jsx("p",{className:"text-white text-sm",children:t.address})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Funcionamento"}),l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Dt,{className:"w-5 h-5 text-yellow-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-white",children:"Segunda a Sbado"}),l.jsx("p",{className:"text-white",children:t.hours})]})]})}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Links Rpidos"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("a",{href:"/services",className:"block text-white hover:text-yellow-400 transition-colors duration-300",children:"Nossos Servios"}),l.jsx("a",{href:"/booking",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Agendar Consulta"}),l.jsx("a",{href:"/gallery",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Galeria"}),l.jsx("a",{href:"/contact",className:"block text-yellow-200 hover:text-yellow-100 transition-colors duration-300",children:"Contato"})]})]})]})]}),l.jsx("div",{className:"border-t border-yellow-500/30 mt-12 pt-8",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[l.jsxs("p",{className:"text-white text-sm",children:[" ",new Date().getFullYear()," ",t.title,". Todos os direitos reservados."]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4 md:mt-0",children:[l.jsx(h4,{className:"w-4 h-4 text-red-400"}),l.jsx("p",{className:"text-white text-sm",children:"Feito com amor e dedicao espiritual"})]})]})})]})})},Y4=()=>{const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState([]),[o,u]=j.useState([]),[c,h]=j.useState("Todos"),[m,p]=j.useState(null),[g,S]=j.useState({title:"Luz Espiritual",slogan:"O destino fala, os bzios revelam, Exu transforma",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"Seg  sexta: 09h s 18h - Sbado: 09h s 13h",email:"contato@luzespiritual.com",headerImage:""});j.useEffect(()=>{const C=localStorage.getItem("services");C&&e(JSON.parse(C).filter(_=>_.active));const M=localStorage.getItem("galleryImages");M&&r(JSON.parse(M));const F=localStorage.getItem("events");F&&i(JSON.parse(F).filter(_=>_.active));const x=localStorage.getItem("socialProfiles");x&&u(JSON.parse(x).filter(_=>_.active));const y=localStorage.getItem("siteSettings");if(y){const _=JSON.parse(y);S(T=>({...T,..._}))}},[]);const A=["Todos",...Array.from(new Set(n.map(C=>C.category)))],k=c==="Todos"?n:n.filter(C=>C.category===c),D=C=>p(C),E=()=>p(null),w=()=>p(C=>(C-1+k.length)%k.length),N=()=>p(C=>(C+1)%k.length);return l.jsxs("div",{className:"min-h-screen",children:[l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40"}),l.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-fixed opacity-30",style:{backgroundImage:g.headerImage?`url("${g.headerImage}")`:'url("https://images.pexels.com/photos/6980523/pexels-photo-6980523.jpeg?auto=compress&cs=tinysrgb&w=1600")'}}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[l.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-6 font-serif animate-fade-in text-yellow-400",children:g.title}),l.jsx("p",{className:"text-2xl md:text-3xl mb-8 opacity-90 font-light animate-fade-in-delay text-white",children:g.slogan}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center animate-fade-in-delay-2",children:[l.jsxs("a",{href:"/services",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Il,{className:"w-5 h-5"}),"Nossos Servios"]}),l.jsxs("a",{href:"/booking",className:"inline-flex items-center gap-2 px-8 py-4 border-2 border-yellow-400 text-yellow-400 rounded-full hover:bg-yellow-400 hover:text-slate-900 transition-all duration-300 transform hover:scale-105 font-semibold",children:[l.jsx(or,{className:"w-5 h-5"}),"Agendar Consulta"]})]})]})]}),t.length>0&&l.jsx("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Nossos Servios Espirituais"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Conecte-se com a sabedoria ancestral atravs de nossos servios especializados"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.slice(0,3).map(C=>l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[C.image&&l.jsx("div",{className:"aspect-video rounded-xl overflow-hidden mb-6 shadow-lg",children:l.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover"})}),l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:C.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:C.description}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(Dt,{className:"w-5 h-5"}),l.jsx("span",{className:"font-semibold",children:C.duration})]}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:C.price})]}),l.jsxs("a",{href:"/booking",className:"w-full inline-flex items-center justify-center gap-2 px-6 py-3 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(or,{className:"w-5 h-5"}),"Agendar Agora"]})]},C.id))}),t.length>3&&l.jsx("div",{className:"text-center mt-12",children:l.jsxs("a",{href:"/services",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Pp,{className:"w-5 h-5"}),"Ver Todos os Servios"]})})]})}),s.length>0&&l.jsx("section",{className:"py-20 bg-slate-900",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Prximos Eventos"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Participe de nossos eventos e cerimnias especiais"})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.slice(0,3).map(C=>l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[C.image&&l.jsx("div",{className:"aspect-video rounded-xl overflow-hidden mb-6 shadow-lg",children:l.jsx("img",{src:C.image,alt:C.title,className:"w-full h-full object-cover"})}),l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4 font-serif",children:C.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:C.description}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(or,{className:"w-5 h-5"}),l.jsxs("span",{className:"font-semibold",children:[C.date," s ",C.time]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-yellow-300",children:[l.jsx(Us,{className:"w-5 h-5"}),l.jsx("span",{children:C.location})]})]})]},C.id))})]})}),n.length>0&&l.jsxs("section",{className:"py-20 bg-gradient-to-br from-slate-800 via-slate-900 to-slate-800 overflow-hidden",children:[l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-bold text-yellow-400 mb-6 font-serif",children:"Galeria Espiritual"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto",children:"Momentos sagrados de nossa jornada espiritual"})]}),A.length>1&&l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:A.map(C=>l.jsx("button",{onClick:()=>h(C),className:`px-6 py-3 rounded-full font-semibold transition-all duration-300 ${c===C?"bg-yellow-500 text-slate-900 shadow-lg":"bg-slate-700 text-white hover:bg-slate-600"}`,children:C},C))}),l.jsxs("div",{className:"relative w-full overflow-hidden",children:[l.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-0%)"},children:k.slice(0,10).map((C,M)=>l.jsx("div",{className:"min-w-[80%] sm:min-w-[45%] md:min-w-[30%] lg:min-w-[25%] px-3",children:l.jsxs("div",{onClick:()=>D(M),className:"relative group overflow-hidden rounded-2xl shadow-lg border border-slate-700 cursor-pointer",children:[l.jsx("img",{src:C.src,alt:"",className:"w-full h-72 object-cover transition-transform duration-500 group-hover:scale-110"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex justify-center items-center",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:C.category})})]})},C.id))}),l.jsx("button",{onClick:w,className:"absolute left-0 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(bd,{className:"w-6 h-6"})}),l.jsx("button",{onClick:N,className:"absolute right-0 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Id,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"text-center mt-12",children:l.jsxs("a",{href:"/gallery",className:"inline-flex items-center gap-2 px-8 py-4 bg-yellow-500 text-slate-900 rounded-full hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-lg font-semibold",children:[l.jsx(Pp,{className:"w-5 h-5"}),"Ver Galeria Completa"]})})]}),m!==null&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:l.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",children:[l.jsx("button",{onClick:E,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors duration-300",children:l.jsx(Uo,{className:"w-6 h-6"})}),l.jsx("img",{src:k[m].src,alt:"",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg text-center",children:l.jsx("span",{className:"inline-block bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:k[m].category})}),l.jsx("button",{onClick:w,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(bd,{className:"w-6 h-6"})}),l.jsx("button",{onClick:N,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Id,{className:"w-6 h-6"})})]})})]})]})},Z4=()=>{const[t,e]=j.useState([]),[n,r]=j.useState({phone:"(24) 99328-9778",email:"contato@luzespiritual.com"});return j.useEffect(()=>{const s=()=>{const u=localStorage.getItem("services");if(u){const h=JSON.parse(u);e(h.filter(m=>m.active))}const c=localStorage.getItem("siteSettings");c&&r(JSON.parse(c))};s();const i=()=>{s()};window.addEventListener("storage",i);const o=setInterval(s,1e3);return()=>{window.removeEventListener("storage",i),clearInterval(o)}},[]),l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Nossos Servios Espirituais"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Conecte-se com a sabedoria ancestral e transforme sua vida atravs de nossos servios especializados"})]})}),l.jsx("section",{className:"py-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx(Il,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Servios em Configurao"}),l.jsx("p",{className:"text-xl text-white mb-8",children:"Nossos servios esto sendo preparados com todo carinho e dedicao."}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-white",children:"Entre em contato conosco para mais informaes:"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("a",{href:`https://wa.me/55${n.phone.replace(/\D/g,"")}`,className:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx(Wr,{className:"w-5 h-5 mr-2"}),"WhatsApp: ",n.phone]}),l.jsxs("a",{href:`mailto:${n.email}`,className:"inline-flex items-center px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Fs,{className:"w-5 h-5 mr-2"}),"Email: ",n.email]})]})]})]}):l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(s=>l.jsxs("div",{className:"group bg-slate-700/50 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border border-yellow-500/20",children:[s.image&&l.jsxs("div",{className:"relative h-64 overflow-hidden",children:[l.jsx("img",{src:s.image,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:s.price})})]}),l.jsxs("div",{className:"p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-4",children:s.title}),l.jsx("p",{className:"text-white mb-6 leading-relaxed",children:s.description}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center text-yellow-300",children:[l.jsx(Dt,{className:"w-5 h-5 mr-2"}),l.jsx("span",{className:"font-medium",children:s.duration})]}),l.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:s.price})]}),l.jsxs("a",{href:"/booking",className:"w-full inline-flex items-center justify-center px-6 py-3 bg-yellow-500 text-slate-900 font-bold rounded-lg hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105",children:[l.jsx(or,{className:"w-5 h-5 mr-2"}),"Agendar Consulta"]})]})]},s.id))})})}),l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-yellow-400 mb-6",children:"Pronto para Transformar sua Vida?"}),l.jsx("p",{className:"text-xl text-white mb-8",children:"Agende sua consulta e descubra os caminhos que os Orixs tm preparado para voc"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("a",{href:"/booking",className:"px-8 py-4 bg-yellow-500 text-slate-900 font-bold rounded-full text-lg hover:bg-yellow-400 transition-all duration-300",children:[l.jsx(or,{className:"inline w-5 h-5 mr-2"}),"Agendar Agora"]}),l.jsxs("a",{href:"/contact",className:"px-8 py-4 border-2 border-yellow-400 text-yellow-400 font-bold rounded-full text-lg hover:bg-yellow-400 hover:text-slate-900 transition-all duration-300",children:[l.jsx(Wr,{className:"inline w-5 h-5 mr-2"}),"Falar Conosco"]})]})]})})]})},eS=()=>{const[t,e]=j.useState([]),[n,r]=j.useState("Todos"),[s,i]=j.useState(null),o=["Todos","Rituais","Iniciao","Eventos"];j.useEffect(()=>{const g=()=>{const k=localStorage.getItem("galleryImages");k&&e(JSON.parse(k))};g();const S=()=>g();window.addEventListener("storage",S);const A=setInterval(g,1e3);return()=>{window.removeEventListener("storage",S),clearInterval(A)}},[]);const u=n==="Todos"?t:t.filter(g=>g.category===n),c=g=>i(g),h=()=>i(null),m=()=>i(g=>(g-1+u.length)%u.length),p=()=>i(g=>(g+1)%u.length);return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Galeria Espiritual"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Momentos especiais de nossa jornada espiritual e cerimnias sagradas"})]})}),l.jsx("section",{className:"py-8 bg-slate-800 shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:o.map(g=>l.jsx("button",{onClick:()=>r(g),className:`px-6 py-3 rounded-full font-semibold transition-all duration-300 ${n===g?"bg-yellow-500 text-slate-900 shadow-lg":"bg-slate-700 text-white hover:bg-slate-600"}`,children:g},g))})})}),l.jsx("section",{className:"py-16",children:l.jsx("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:u.length===0?l.jsxs("div",{className:"col-span-full text-center py-20",children:[l.jsx(Wa,{className:"w-16 h-16 text-yellow-400 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Nenhuma imagem encontrada"}),l.jsx("p",{className:"text-xl text-white",children:"Adicione imagens ao painel administrativo."})]}):u.map((g,S)=>l.jsxs("div",{onClick:()=>c(S),className:"relative group overflow-hidden rounded-2xl shadow-lg border border-slate-700 cursor-pointer transition-transform hover:scale-[1.02]",children:[l.jsx("img",{src:g.src,alt:"",className:"w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110"}),l.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex justify-center items-center",children:l.jsx("span",{className:"bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:g.category})})]},g.id))})}),s!==null&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",children:l.jsxs("div",{className:"relative max-w-5xl w-full max-h-[90vh] flex flex-col items-center",children:[l.jsx("button",{onClick:h,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-white/20 hover:bg-white/30 rounded-full flex items-center justify-center text-white transition-colors duration-300",children:l.jsx(Uo,{className:"w-6 h-6"})}),l.jsx("img",{src:u[s].src,alt:"",className:"w-full h-auto max-h-[80vh] object-contain rounded-lg"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg text-center",children:l.jsx("span",{className:"inline-block bg-yellow-500 text-slate-900 px-3 py-1 rounded-full text-sm font-bold",children:u[s].category})}),l.jsx("button",{onClick:m,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(bd,{className:"w-6 h-6"})}),l.jsx("button",{onClick:p,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/40 hover:bg-black/70 text-white p-3 rounded-full",children:l.jsx(Id,{className:"w-6 h-6"})})]})})]})},tS=()=>{const[t,e]=j.useState({name:"",email:"",phone:"",message:""}),[n,r]=j.useState({title:"Luz Espiritual",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com"});j.useEffect(()=>{const c=localStorage.getItem("siteSettings");c&&r(h=>({...h,...JSON.parse(c)}))},[]);const s=c=>{const{name:h,value:m}=c.target;e(p=>({...p,[h]:m}))},i=c=>{if(c.preventDefault(),!t.name||!t.email||!t.message){pe.error("Por favor, preencha todos os campos obrigatrios");return}pe.success("Mensagem enviada com sucesso! Retornaremos em breve."),e({name:"",email:"",phone:"",message:""})},o=()=>{const c=n.phone.replace(/\D/g,""),h=`Ol! Gostaria de mais informaes sobre os servios do ${n.title}.`,m=`https://wa.me/55${c}?text=${encodeURIComponent(h)}`;window.open(m,"_blank")},u=()=>{const h=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(n.address)}`;window.open(h,"_blank")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-16",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Entre em Contato"}),l.jsx("p",{className:"text-xl text-white max-w-3xl mx-auto leading-relaxed",children:"Estamos aqui para orientar sua jornada espiritual. Entre em contato conosco para agendar uma consulta ou esclarecer suas dvidas."})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16",children:[l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-8 font-serif",children:"Informaes de Contato"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Us,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Endereo"}),l.jsx("p",{className:"text-white mb-3",children:n.address}),l.jsxs("button",{onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-300",children:[l.jsx(Us,{className:"w-4 h-4"}),"Ver Rota no Google Maps"]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Wr,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Telefone/WhatsApp"}),l.jsx("p",{className:"text-white",children:n.phone}),l.jsxs("button",{onClick:o,className:"mt-2 inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx(bl,{className:"w-4 h-4"}),"Chamar no WhatsApp"]})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Fs,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"E-mail"}),l.jsx("p",{className:"text-white",children:n.email})]})]}),l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Dt,{className:"w-6 h-6 text-yellow-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-yellow-400 mb-1",children:"Horrio de Funcionamento"}),l.jsx("p",{className:"text-white",children:n.hours})]})]})]})]})}),l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm rounded-2xl p-8 shadow-xl border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-8 font-serif",children:"Envie sua Mensagem"}),l.jsxs("form",{onSubmit:i,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Nome Completo *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu nome completo",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"E-mail *"}),l.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu e-mail",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Telefone/WhatsApp"}),l.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300",placeholder:"(00) 00000-0000"})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-yellow-400 mb-2",children:"Mensagem *"}),l.jsx("textarea",{id:"message",name:"message",rows:6,value:t.message,onChange:s,className:"w-full px-4 py-3 border-2 border-slate-600 bg-slate-800 text-white rounded-lg focus:border-yellow-500 focus:outline-none transition-colors duration-300 resize-none",placeholder:"Descreva como podemos ajud-lo em sua jornada espiritual...",required:!0})]}),l.jsxs("button",{type:"submit",className:"w-full bg-yellow-500 text-slate-900 font-bold py-4 px-6 rounded-lg hover:bg-yellow-400 transform hover:scale-[1.02] transition-all duration-300 shadow-lg flex items-center justify-center gap-2",children:[l.jsx(R4,{className:"w-5 h-5"}),"Enviar Mensagem"]})]}),l.jsx("div",{className:"mt-8 p-4 bg-slate-800 rounded-lg border border-yellow-500/30",children:l.jsxs("p",{className:"text-sm text-white text-center",children:[l.jsx("strong",{children:"Resposta Garantida:"})," Todas as mensagens so respondidas em at 24 horas. Para urgncias, utilize o WhatsApp."]})})]})]}),l.jsxs("div",{className:"mt-16 bg-gradient-to-r from-slate-800 to-slate-900 rounded-2xl p-8 text-white text-center border border-yellow-500/20",children:[l.jsx("h2",{className:"text-3xl font-bold mb-4 font-serif text-yellow-400",children:"Orientao Espiritual Personalizada"}),l.jsx("p",{className:"text-xl mb-6 opacity-90",children:"Cada consulta  nica, assim como cada caminho espiritual. Estamos aqui para orient-lo com sabedoria ancestral e dedicao."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs("button",{onClick:o,className:"inline-flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-300",children:[l.jsx(bl,{className:"w-5 h-5"}),"Conversar no WhatsApp"]}),l.jsxs("a",{href:"/booking",className:"inline-flex items-center gap-2 px-6 py-3 bg-yellow-500 text-slate-900 rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:[l.jsx(Dt,{className:"w-5 h-5"}),"Agendar Consulta"]})]})]})]})})},nS=()=>{var C;const[t,e]=j.useState([]),[n,r]=j.useState([]),[s,i]=j.useState({phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",calendarEmail:"agenda@luzespiritual.com"}),[o,u]=j.useState({name:"",email:"",phone:"",service:"",date:"",time:"",message:""}),[c,h]=j.useState(1),[m,p]=j.useState(!1);j.useEffect(()=>{const M=localStorage.getItem("services");if(M){const y=JSON.parse(M);e(y.filter(_=>_.active))}const F=localStorage.getItem("siteSettings");F&&i(JSON.parse(F));const x=localStorage.getItem("blockedTimes");x&&r(JSON.parse(x))},[]);const g=["09:00","09:30","10:00","10:30","11:00","11:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"],S=M=>n.some(F=>F.date===M&&F.isFullDay),A=(M,F)=>n.some(x=>x.date!==M?!1:x.isFullDay?!0:x.startTime&&x.endTime?F>=x.startTime&&F<=x.endTime:!1),k=M=>S(M)?[]:g.filter(F=>!A(M,F)),D=(M,F)=>{const x=n.find(y=>y.date!==M?!1:y.isFullDay?!0:F&&y.startTime&&y.endTime?F>=y.startTime&&F<=y.endTime:!1);return(x==null?void 0:x.reason)||"Ocupado na agenda"},E=M=>{const{name:F,value:x}=M.target;u(F==="date"?y=>({...y,[F]:x,time:""}):y=>({...y,[F]:x}))},w=()=>{if(c===1&&(!o.name||!o.email||!o.phone)){pe.error("Preencha todos os campos obrigatrios");return}if(c===2&&!o.service){pe.error("Selecione um servio");return}if(c===3&&(!o.date||!o.time)){pe.error("Selecione data e horrio");return}if(c===3){if(S(o.date)){pe.error(`Esta data est bloqueada: ${D(o.date)}`);return}if(A(o.date,o.time)){pe.error(`Este horrio est bloqueado: ${D(o.date,o.time)}`);return}}h(M=>M+1)},N=()=>{const M=t.find(y=>y.id===parseInt(o.service)),F=`
 *AGENDAMENTO - LUZ ESPIRITUAL* 

*Nome:* ${o.name}
*Email:* ${o.email}
*Telefone:* ${o.phone}

*Servio:* ${M==null?void 0:M.title}
*Data:* ${new Date(o.date).toLocaleDateString("pt-BR")}
*Horrio:* ${o.time}

*Mensagem:* ${o.message||"Nenhuma mensagem adicional"}

_Agendamento realizado atravs do site_
    `.trim(),x=`https://wa.me/55${s.phone.replace(/\D/g,"")}?text=${encodeURIComponent(F)}`;window.open(x,"_blank"),p(!0),pe.success("Agendamento enviado! Voc ser redirecionado para o WhatsApp.")};return m?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-2xl p-8 text-center",children:[l.jsx(i4,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),l.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"Agendamento Enviado!"}),l.jsx("p",{className:"text-white mb-6",children:"Seu agendamento foi enviado com sucesso. Em breve entraremos em contato para confirmar."}),l.jsx("button",{onClick:()=>{p(!1),h(1),u({name:"",email:"",phone:"",service:"",date:"",time:"",message:""})},className:"w-full px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:"Fazer Novo Agendamento"})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-20",children:[l.jsx("section",{className:"py-16 bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 border-b border-yellow-500/30",children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-yellow-400 mb-6 font-serif",children:"Agende Sua Consulta"}),l.jsx("p",{className:"text-xl text-white leading-relaxed",children:"Reserve seu momento de conexo espiritual e transformao"})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[l.jsxs("div",{className:"bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"bg-slate-800/80 px-8 py-6 border-b border-yellow-500/30",children:[l.jsx("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(M=>l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${c>=M?"bg-yellow-500 text-slate-900":"bg-slate-700 text-gray-400"}`,children:M}),M<4&&l.jsx("div",{className:`w-16 h-1 mx-2 ${c>M?"bg-yellow-500":"bg-slate-700"}`})]},M))}),l.jsxs("div",{className:"flex justify-between mt-4 text-sm font-medium",children:[l.jsx("span",{className:c>=1?"text-yellow-400":"text-gray-400",children:"Dados Pessoais"}),l.jsx("span",{className:c>=2?"text-yellow-400":"text-gray-400",children:"Servio"}),l.jsx("span",{className:c>=3?"text-yellow-400":"text-gray-400",children:"Data e Hora"}),l.jsx("span",{className:c>=4?"text-yellow-400":"text-gray-400",children:"Confirmao"})]})]}),l.jsxs("div",{className:"p-8",children:[c===1&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Seus Dados Pessoais"}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(Cl,{className:"w-4 h-4 inline mr-2"}),"Nome Completo *"]}),l.jsx("input",{type:"text",name:"name",value:o.name,onChange:E,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"Seu nome completo",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(Fs,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),l.jsx("input",{type:"email",name:"email",value:o.email,onChange:E,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(Wr,{className:"w-4 h-4 inline mr-2"}),"Telefone/WhatsApp *"]}),l.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:E,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"(00) 00000-0000",required:!0})]})]}),c===2&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Escolha o Servio"}),t.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-xl text-yellow-400 mb-4",children:"Nossos servios esto sendo configurados."}),l.jsx("p",{className:"text-white",children:"Entre em contato conosco pelo WhatsApp para agendar."}),l.jsx("a",{href:`https://wa.me/55${s.phone.replace(/\D/g,"")}`,className:"inline-block mt-4 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors duration-300",children:"Contatar WhatsApp"})]}):l.jsx("div",{className:"space-y-4",children:t.map(M=>l.jsxs("label",{className:`block p-6 border-2 rounded-lg cursor-pointer transition-colors duration-300 ${o.service===M.id.toString()?"border-yellow-500 bg-slate-800":"border-yellow-500/30 hover:border-yellow-500"}`,children:[l.jsx("input",{type:"radio",name:"service",value:M.id,checked:o.service===M.id.toString(),onChange:E,className:"sr-only"}),l.jsxs("div",{className:"flex items-start gap-4",children:[M.image&&l.jsx("img",{src:M.image,alt:M.title,className:"w-16 h-16 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:M.title}),l.jsx("p",{className:"text-white mt-2",children:M.description}),l.jsxs("div",{className:"flex gap-4 mt-3",children:[l.jsxs("span",{className:"text-sm text-yellow-400 font-medium",children:[l.jsx(Dt,{className:"w-4 h-4 inline mr-1"}),M.duration]}),l.jsx("span",{className:"text-sm text-yellow-400 font-bold",children:M.price})]})]})]})]},M.id))})]}),c===3&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Data e Horrio"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(or,{className:"w-4 h-4 inline mr-2"}),"Data Preferida"]}),l.jsx("input",{type:"date",name:"date",value:o.date,onChange:E,min:new Date().toISOString().split("T")[0],className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none"}),o.date&&S(o.date)&&l.jsx("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[l.jsx(L4,{className:"w-4 h-4"}),l.jsxs("span",{className:"text-sm font-medium",children:["Data indisponvel: ",D(o.date)]})]})})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(Dt,{className:"w-4 h-4 inline mr-2"}),"Horrio Preferido"]}),l.jsxs("select",{name:"time",value:o.time,onChange:E,disabled:!o.date||S(o.date),className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none disabled:bg-slate-700 disabled:cursor-not-allowed",children:[l.jsx("option",{value:"",children:o.date?S(o.date)?"Data indisponvel":"Selecione um horrio":"Selecione uma data primeiro"}),o.date&&!S(o.date)&&k(o.date).map(M=>l.jsx("option",{value:M,children:M},M))]}),o.date&&!S(o.date)&&l.jsx("div",{className:"mt-2",children:g.filter(M=>A(o.date,M)).length>0&&l.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-800 mb-1",children:"Horrios indisponveis nesta data:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:g.filter(M=>A(o.date,M)).map(M=>l.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded",children:M},M))})]})})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-yellow-400 mb-2",children:[l.jsx(N4,{className:"w-4 h-4 inline mr-2"}),"Mensagem Adicional (Opcional)"]}),l.jsx("textarea",{name:"message",value:o.message,onChange:E,rows:4,className:"w-full p-4 bg-slate-800 border-2 border-yellow-500/30 text-white rounded-lg focus:border-yellow-500 focus:outline-none",placeholder:"Alguma informao adicional que gostaria de compartilhar..."})]}),l.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg border border-yellow-500/30",children:[l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Informaes Importantes:"}),l.jsxs("ul",{className:"text-sm text-white space-y-1",children:[l.jsxs("li",{children:[" Funcionamento: Segunda a Sbado, ",s.hours]}),l.jsx("li",{children:" Confirmao ser feita por WhatsApp"}),l.jsx("li",{children:" Chegue 10 minutos antes do horrio agendado"})]})]})]}),c===4&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-yellow-400 mb-6",children:"Confirme seus Dados"}),l.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg border border-yellow-500/30 space-y-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Dados Pessoais:"}),l.jsx("p",{className:"text-white",children:o.name}),l.jsx("p",{className:"text-white",children:o.email}),l.jsx("p",{className:"text-white",children:o.phone})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Servio:"}),l.jsx("p",{className:"text-white",children:(C=t.find(M=>M.id===parseInt(o.service)))==null?void 0:C.title})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Data e Horrio:"}),l.jsxs("p",{className:"text-white",children:[new Date(o.date).toLocaleDateString("pt-BR")," s ",o.time]})]}),o.message&&l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-yellow-400",children:"Mensagem:"}),l.jsx("p",{className:"text-white",children:o.message})]})]}),l.jsx("div",{className:"bg-slate-800 p-4 rounded-lg border border-yellow-500/30",children:l.jsxs("p",{className:"text-white text-sm",children:[l.jsx("strong",{children:"Prximo passo:"})," Ao confirmar, voc ser redirecionado para o WhatsApp para finalizar o agendamento diretamente conosco."]})})]}),l.jsxs("div",{className:"flex justify-between mt-8",children:[c>1&&l.jsx("button",{onClick:()=>h(M=>M-1),className:"px-6 py-3 border-2 border-yellow-500 text-yellow-400 font-semibold rounded-lg hover:bg-yellow-500 hover:text-slate-900 transition-colors duration-300",children:"Voltar"}),l.jsx("div",{className:"flex-1"}),c<4?l.jsx("button",{onClick:w,className:"px-6 py-3 bg-yellow-500 text-slate-900 font-semibold rounded-lg hover:bg-yellow-400 transition-colors duration-300",children:"Prximo"}):l.jsx("button",{onClick:N,className:"px-8 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition-colors duration-300",children:"Confirmar Agendamento"})]})]})]}),l.jsxs("div",{className:"mt-12 bg-slate-700/50 backdrop-blur-sm border border-yellow-500/30 rounded-2xl shadow-xl p-8",children:[l.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center",children:"Outras Formas de Contato"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(Wr,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"WhatsApp"}),l.jsx("p",{className:"text-white",children:s.phone})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(Fs,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Email"}),l.jsx("p",{className:"text-white",children:s.calendarEmail})]}),l.jsxs("div",{className:"text-center",children:[l.jsx(Us,{className:"w-8 h-8 text-yellow-400 mx-auto mb-3"}),l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Endereo"}),l.jsx("p",{className:"text-white text-sm",children:s.address})]})]})]})]})]})},rS=()=>{};var Lp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},sS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],u=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,u=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,m=i>>2,p=(i&3)<<4|u>>4;let g=(u&15)<<2|h>>6,S=h&63;c||(S=64,o||(g=64)),r.push(n[m],n[p],n[g],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Nv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],u=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||u==null||h==null||p==null)throw new iS;const g=i<<2|u>>4;if(r.push(g),h!==64){const S=u<<4&240|h>>2;if(r.push(S),p!==64){const A=h<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oS=function(t){const e=Nv(t);return Tv.encodeByteArray(e,!0)},Al=function(t){return oS(t).replace(/\./g,"")},aS=function(t){try{return Tv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS=()=>lS().__FIREBASE_DEFAULTS__,cS=()=>{if(typeof process>"u"||typeof Lp>"u")return;const t=Lp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aS(t[1]);return e&&JSON.parse(e)},Gh=()=>{try{return rS()||uS()||cS()||dS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hS=t=>{var e,n;return(n=(e=Gh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fS=t=>{const e=hS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bv=()=>{var t;return(t=Gh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Al(JSON.stringify(n)),Al(JSON.stringify(o)),""].join(".")}const Ji={};function yS(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ji))Ji[e]?t.emulator.push(e):t.prod.push(e);return t}function vS(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Fp=!1;function xS(t,e){if(typeof window>"u"||typeof document>"u"||!Qh(window.location.host)||Ji[t]===e||Ji[t]||Fp)return;Ji[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",i=yS().prod.length>0;function o(){const g=document.getElementById(r);g&&g.remove()}function u(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,S){g.setAttribute("width","24"),g.setAttribute("id",S),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Fp=!0,o()},g}function m(g,S){g.setAttribute("id",S),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=vS(r),S=n("text"),A=document.getElementById(S)||document.createElement("span"),k=n("learnmore"),D=document.getElementById(k)||document.createElement("a"),E=n("preprendIcon"),w=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;u(N),m(D,k);const C=h();c(w,E),N.append(w,A,D,C),document.body.appendChild(N)}i?(A.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){var e;const t=(e=Gh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ES(){return!_S()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SS(){try{return typeof indexedDB=="object"}catch{return!1}}function NS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="FirebaseError";class Xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TS,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?bS(i,r):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new Xs(s,u,r)}}function bS(t,e){return t.replace(IS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const IS=/\{\$([^}]+)}/g;function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Up(i)&&Up(o)){if(!kl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Up(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return t&&t._delegate?t._delegate:t}class Eo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kS(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);r===u&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(t){return t===Pr?void 0:t}function kS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const RS={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},PS=ae.INFO,VS={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},DS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=VS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=PS,this._logHandler=DS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const MS=(t,e)=>e.some(n=>t instanceof n);let zp,$p;function OS(){return zp||(zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LS(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Av=new WeakMap,Ad=new WeakMap,kv=new WeakMap,xc=new WeakMap,Kh=new WeakMap;function FS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ar(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Av.set(n,t)}).catch(()=>{}),Kh.set(e,t),e}function US(t){if(Ad.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ad.set(t,e)}let kd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ad.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function zS(t){kd=t(kd)}function $S(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wc(this),e,...n);return kv.set(r,e.sort?e.sort():[e]),ar(r)}:LS().includes(t)?function(...e){return t.apply(wc(this),e),ar(Av.get(this))}:function(...e){return ar(t.apply(wc(this),e))}}function BS(t){return typeof t=="function"?$S(t):(t instanceof IDBTransaction&&US(t),MS(t,OS())?new Proxy(t,kd):t)}function ar(t){if(t instanceof IDBRequest)return FS(t);if(xc.has(t))return xc.get(t);const e=BS(t);return e!==t&&(xc.set(t,e),Kh.set(e,t)),e}const wc=t=>Kh.get(t);function qS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),u=ar(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ar(o.result),c.oldVersion,c.newVersion,ar(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),u}const HS=["get","getKey","getAll","getAllKeys","count"],WS=["put","add","delete","clear"],_c=new Map;function Bp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_c.get(e))return _c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=WS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||HS.includes(n)))return;const i=async function(o,...u){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(u.shift())),(await Promise.all([h[n](...u),s&&c.done]))[0]};return _c.set(e,i),i}zS(t=>({...t,get:(e,n,r)=>Bp(e,n)||t.get(e,n,r),has:(e,n)=>!!Bp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(QS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function QS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jd="@firebase/app",qp="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Cv("@firebase/app"),KS="@firebase/app-compat",JS="@firebase/analytics-compat",XS="@firebase/analytics",YS="@firebase/app-check-compat",ZS="@firebase/app-check",eN="@firebase/auth",tN="@firebase/auth-compat",nN="@firebase/database",rN="@firebase/data-connect",sN="@firebase/database-compat",iN="@firebase/functions",oN="@firebase/functions-compat",aN="@firebase/installations",lN="@firebase/installations-compat",uN="@firebase/messaging",cN="@firebase/messaging-compat",dN="@firebase/performance",hN="@firebase/performance-compat",fN="@firebase/remote-config",mN="@firebase/remote-config-compat",pN="@firebase/storage",gN="@firebase/storage-compat",yN="@firebase/firestore",vN="@firebase/ai",xN="@firebase/firestore-compat",wN="firebase",_N="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",EN={[jd]:"fire-core",[KS]:"fire-core-compat",[XS]:"fire-analytics",[JS]:"fire-analytics-compat",[ZS]:"fire-app-check",[YS]:"fire-app-check-compat",[eN]:"fire-auth",[tN]:"fire-auth-compat",[nN]:"fire-rtdb",[rN]:"fire-data-connect",[sN]:"fire-rtdb-compat",[iN]:"fire-fn",[oN]:"fire-fn-compat",[aN]:"fire-iid",[lN]:"fire-iid-compat",[uN]:"fire-fcm",[cN]:"fire-fcm-compat",[dN]:"fire-perf",[hN]:"fire-perf-compat",[fN]:"fire-rc",[mN]:"fire-rc-compat",[pN]:"fire-gcs",[gN]:"fire-gcs-compat",[yN]:"fire-fst",[xN]:"fire-fst-compat",[vN]:"fire-vertex","fire-js":"fire-js",[wN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=new Map,SN=new Map,Pd=new Map;function Hp(t,e){try{t.container.addComponent(e)}catch(n){Cn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pl(t){const e=t.name;if(Pd.has(e))return Cn.debug(`There were multiple attempts to register component ${e}.`),!1;Pd.set(e,t);for(const n of Rl.values())Hp(n,t);for(const n of SN.values())Hp(n,t);return!0}function NN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function TN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Iv("app","Firebase",bN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=_N;function jv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Rd,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw lr.create("bad-app-name",{appName:String(s)});if(n||(n=bv()),!n)throw lr.create("no-options");const i=Rl.get(s);if(i){if(kl(n,i.options)&&kl(r,i.config))return i;throw lr.create("duplicate-app",{appName:s})}const o=new jS(s);for(const c of Pd.values())o.addComponent(c);const u=new IN(n,r,o);return Rl.set(s,u),u}function AN(t=Rd){const e=Rl.get(t);if(!e&&t===Rd&&bv())return jv();if(!e)throw lr.create("no-app",{appName:t});return e}function ks(t,e,n){let r=EN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cn.warn(o.join(" "));return}Pl(new Eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-heartbeat-database",jN=1,So="firebase-heartbeat-store";let Ec=null;function Rv(){return Ec||(Ec=qS(kN,jN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(So)}catch(n){console.warn(n)}}}}).catch(t=>{throw lr.create("idb-open",{originalErrorMessage:t.message})})),Ec}async function RN(t){try{const n=(await Rv()).transaction(So),r=await n.objectStore(So).get(Pv(t));return await n.done,r}catch(e){if(e instanceof Xs)Cn.warn(e.message);else{const n=lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cn.warn(n.message)}}}async function Wp(t,e){try{const r=(await Rv()).transaction(So,"readwrite");await r.objectStore(So).put(e,Pv(t)),await r.done}catch(n){if(n instanceof Xs)Cn.warn(n.message);else{const r=lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cn.warn(r.message)}}}function Pv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1024,VN=30;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ON(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Gp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>VN){const o=LN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gp(),{heartbeatsToSend:r,unsentEntries:s}=MN(this._heartbeatsCache.heartbeats),i=Al(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Cn.warn(n),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function MN(t,e=PN){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Qp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ON{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SS()?NS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Qp(t){return Al(JSON.stringify({version:2,heartbeats:t})).length}function LN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){Pl(new Eo("platform-logger",e=>new GS(e),"PRIVATE")),Pl(new Eo("heartbeat",e=>new DN(e),"PRIVATE")),ks(jd,qp,t),ks(jd,qp,"esm2020"),ks("fire-js","")}FN("");var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ur,Vv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,y){function _(){}_.prototype=y.prototype,x.F=y.prototype,x.prototype=new _,x.prototype.constructor=x,x.D=function(T,I,R){for(var b=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)b[Le-2]=arguments[Le];return y.prototype[I].apply(T,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,y,_){_||(_=0);const T=Array(16);if(typeof y=="string")for(var I=0;I<16;++I)T[I]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(I=0;I<16;++I)T[I]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=x.g[0],_=x.g[1],I=x.g[2];let R=x.g[3],b;b=y+(R^_&(I^R))+T[0]+3614090360&4294967295,y=_+(b<<7&4294967295|b>>>25),b=R+(I^y&(_^I))+T[1]+3905402710&4294967295,R=y+(b<<12&4294967295|b>>>20),b=I+(_^R&(y^_))+T[2]+606105819&4294967295,I=R+(b<<17&4294967295|b>>>15),b=_+(y^I&(R^y))+T[3]+3250441966&4294967295,_=I+(b<<22&4294967295|b>>>10),b=y+(R^_&(I^R))+T[4]+4118548399&4294967295,y=_+(b<<7&4294967295|b>>>25),b=R+(I^y&(_^I))+T[5]+1200080426&4294967295,R=y+(b<<12&4294967295|b>>>20),b=I+(_^R&(y^_))+T[6]+2821735955&4294967295,I=R+(b<<17&4294967295|b>>>15),b=_+(y^I&(R^y))+T[7]+4249261313&4294967295,_=I+(b<<22&4294967295|b>>>10),b=y+(R^_&(I^R))+T[8]+1770035416&4294967295,y=_+(b<<7&4294967295|b>>>25),b=R+(I^y&(_^I))+T[9]+2336552879&4294967295,R=y+(b<<12&4294967295|b>>>20),b=I+(_^R&(y^_))+T[10]+4294925233&4294967295,I=R+(b<<17&4294967295|b>>>15),b=_+(y^I&(R^y))+T[11]+2304563134&4294967295,_=I+(b<<22&4294967295|b>>>10),b=y+(R^_&(I^R))+T[12]+1804603682&4294967295,y=_+(b<<7&4294967295|b>>>25),b=R+(I^y&(_^I))+T[13]+4254626195&4294967295,R=y+(b<<12&4294967295|b>>>20),b=I+(_^R&(y^_))+T[14]+2792965006&4294967295,I=R+(b<<17&4294967295|b>>>15),b=_+(y^I&(R^y))+T[15]+1236535329&4294967295,_=I+(b<<22&4294967295|b>>>10),b=y+(I^R&(_^I))+T[1]+4129170786&4294967295,y=_+(b<<5&4294967295|b>>>27),b=R+(_^I&(y^_))+T[6]+3225465664&4294967295,R=y+(b<<9&4294967295|b>>>23),b=I+(y^_&(R^y))+T[11]+643717713&4294967295,I=R+(b<<14&4294967295|b>>>18),b=_+(R^y&(I^R))+T[0]+3921069994&4294967295,_=I+(b<<20&4294967295|b>>>12),b=y+(I^R&(_^I))+T[5]+3593408605&4294967295,y=_+(b<<5&4294967295|b>>>27),b=R+(_^I&(y^_))+T[10]+38016083&4294967295,R=y+(b<<9&4294967295|b>>>23),b=I+(y^_&(R^y))+T[15]+3634488961&4294967295,I=R+(b<<14&4294967295|b>>>18),b=_+(R^y&(I^R))+T[4]+3889429448&4294967295,_=I+(b<<20&4294967295|b>>>12),b=y+(I^R&(_^I))+T[9]+568446438&4294967295,y=_+(b<<5&4294967295|b>>>27),b=R+(_^I&(y^_))+T[14]+3275163606&4294967295,R=y+(b<<9&4294967295|b>>>23),b=I+(y^_&(R^y))+T[3]+4107603335&4294967295,I=R+(b<<14&4294967295|b>>>18),b=_+(R^y&(I^R))+T[8]+1163531501&4294967295,_=I+(b<<20&4294967295|b>>>12),b=y+(I^R&(_^I))+T[13]+2850285829&4294967295,y=_+(b<<5&4294967295|b>>>27),b=R+(_^I&(y^_))+T[2]+4243563512&4294967295,R=y+(b<<9&4294967295|b>>>23),b=I+(y^_&(R^y))+T[7]+1735328473&4294967295,I=R+(b<<14&4294967295|b>>>18),b=_+(R^y&(I^R))+T[12]+2368359562&4294967295,_=I+(b<<20&4294967295|b>>>12),b=y+(_^I^R)+T[5]+4294588738&4294967295,y=_+(b<<4&4294967295|b>>>28),b=R+(y^_^I)+T[8]+2272392833&4294967295,R=y+(b<<11&4294967295|b>>>21),b=I+(R^y^_)+T[11]+1839030562&4294967295,I=R+(b<<16&4294967295|b>>>16),b=_+(I^R^y)+T[14]+4259657740&4294967295,_=I+(b<<23&4294967295|b>>>9),b=y+(_^I^R)+T[1]+2763975236&4294967295,y=_+(b<<4&4294967295|b>>>28),b=R+(y^_^I)+T[4]+1272893353&4294967295,R=y+(b<<11&4294967295|b>>>21),b=I+(R^y^_)+T[7]+4139469664&4294967295,I=R+(b<<16&4294967295|b>>>16),b=_+(I^R^y)+T[10]+3200236656&4294967295,_=I+(b<<23&4294967295|b>>>9),b=y+(_^I^R)+T[13]+681279174&4294967295,y=_+(b<<4&4294967295|b>>>28),b=R+(y^_^I)+T[0]+3936430074&4294967295,R=y+(b<<11&4294967295|b>>>21),b=I+(R^y^_)+T[3]+3572445317&4294967295,I=R+(b<<16&4294967295|b>>>16),b=_+(I^R^y)+T[6]+76029189&4294967295,_=I+(b<<23&4294967295|b>>>9),b=y+(_^I^R)+T[9]+3654602809&4294967295,y=_+(b<<4&4294967295|b>>>28),b=R+(y^_^I)+T[12]+3873151461&4294967295,R=y+(b<<11&4294967295|b>>>21),b=I+(R^y^_)+T[15]+530742520&4294967295,I=R+(b<<16&4294967295|b>>>16),b=_+(I^R^y)+T[2]+3299628645&4294967295,_=I+(b<<23&4294967295|b>>>9),b=y+(I^(_|~R))+T[0]+4096336452&4294967295,y=_+(b<<6&4294967295|b>>>26),b=R+(_^(y|~I))+T[7]+1126891415&4294967295,R=y+(b<<10&4294967295|b>>>22),b=I+(y^(R|~_))+T[14]+2878612391&4294967295,I=R+(b<<15&4294967295|b>>>17),b=_+(R^(I|~y))+T[5]+4237533241&4294967295,_=I+(b<<21&4294967295|b>>>11),b=y+(I^(_|~R))+T[12]+1700485571&4294967295,y=_+(b<<6&4294967295|b>>>26),b=R+(_^(y|~I))+T[3]+2399980690&4294967295,R=y+(b<<10&4294967295|b>>>22),b=I+(y^(R|~_))+T[10]+4293915773&4294967295,I=R+(b<<15&4294967295|b>>>17),b=_+(R^(I|~y))+T[1]+2240044497&4294967295,_=I+(b<<21&4294967295|b>>>11),b=y+(I^(_|~R))+T[8]+1873313359&4294967295,y=_+(b<<6&4294967295|b>>>26),b=R+(_^(y|~I))+T[15]+4264355552&4294967295,R=y+(b<<10&4294967295|b>>>22),b=I+(y^(R|~_))+T[6]+2734768916&4294967295,I=R+(b<<15&4294967295|b>>>17),b=_+(R^(I|~y))+T[13]+1309151649&4294967295,_=I+(b<<21&4294967295|b>>>11),b=y+(I^(_|~R))+T[4]+4149444226&4294967295,y=_+(b<<6&4294967295|b>>>26),b=R+(_^(y|~I))+T[11]+3174756917&4294967295,R=y+(b<<10&4294967295|b>>>22),b=I+(y^(R|~_))+T[2]+718787259&4294967295,I=R+(b<<15&4294967295|b>>>17),b=_+(R^(I|~y))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+y&4294967295,x.g[1]=x.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+R&4294967295}r.prototype.v=function(x,y){y===void 0&&(y=x.length);const _=y-this.blockSize,T=this.C;let I=this.h,R=0;for(;R<y;){if(I==0)for(;R<=_;)s(this,x,R),R+=this.blockSize;if(typeof x=="string"){for(;R<y;)if(T[I++]=x.charCodeAt(R++),I==this.blockSize){s(this,T),I=0;break}}else for(;R<y;)if(T[I++]=x[R++],I==this.blockSize){s(this,T),I=0;break}}this.h=I,this.o+=y},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var y=1;y<x.length-8;++y)x[y]=0;y=this.o*8;for(var _=x.length-8;_<x.length;++_)x[_]=y&255,y/=256;for(this.v(x),x=Array(16),y=0,_=0;_<4;++_)for(let T=0;T<32;T+=8)x[y++]=this.g[_]>>>T&255;return x};function i(x,y){var _=u;return Object.prototype.hasOwnProperty.call(_,x)?_[x]:_[x]=y(x)}function o(x,y){this.h=y;const _=[];let T=!0;for(let I=x.length-1;I>=0;I--){const R=x[I]|0;T&&R==y||(_[I]=R,T=!1)}this.g=_}var u={};function c(x){return-128<=x&&x<128?i(x,function(y){return new o([y|0],y<0?-1:0)}):new o([x|0],x<0?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return p;if(x<0)return D(h(-x));const y=[];let _=1;for(let T=0;x>=_;T++)y[T]=x/_|0,_*=4294967296;return new o(y,0)}function m(x,y){if(x.length==0)throw Error("number format error: empty string");if(y=y||10,y<2||36<y)throw Error("radix out of range: "+y);if(x.charAt(0)=="-")return D(m(x.substring(1),y));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=h(Math.pow(y,8));let T=p;for(let R=0;R<x.length;R+=8){var I=Math.min(8,x.length-R);const b=parseInt(x.substring(R,R+I),y);I<8?(I=h(Math.pow(y,I)),T=T.j(I).add(h(b))):(T=T.j(_),T=T.add(h(b)))}return T}var p=c(0),g=c(1),S=c(16777216);t=o.prototype,t.m=function(){if(k(this))return-D(this).m();let x=0,y=1;for(let _=0;_<this.g.length;_++){const T=this.i(_);x+=(T>=0?T:4294967296+T)*y,y*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(A(this))return"0";if(k(this))return"-"+D(this).toString(x);const y=h(Math.pow(x,6));var _=this;let T="";for(;;){const I=C(_,y).g;_=E(_,I.j(y));let R=((_.g.length>0?_.g[0]:_.h)>>>0).toString(x);if(_=I,A(_))return R+T;for(;R.length<6;)R="0"+R;T=R+T}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function A(x){if(x.h!=0)return!1;for(let y=0;y<x.g.length;y++)if(x.g[y]!=0)return!1;return!0}function k(x){return x.h==-1}t.l=function(x){return x=E(this,x),k(x)?-1:A(x)?0:1};function D(x){const y=x.g.length,_=[];for(let T=0;T<y;T++)_[T]=~x.g[T];return new o(_,~x.h).add(g)}t.abs=function(){return k(this)?D(this):this},t.add=function(x){const y=Math.max(this.g.length,x.g.length),_=[];let T=0;for(let I=0;I<=y;I++){let R=T+(this.i(I)&65535)+(x.i(I)&65535),b=(R>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);T=b>>>16,R&=65535,b&=65535,_[I]=b<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function E(x,y){return x.add(D(y))}t.j=function(x){if(A(this)||A(x))return p;if(k(this))return k(x)?D(this).j(D(x)):D(D(this).j(x));if(k(x))return D(this.j(D(x)));if(this.l(S)<0&&x.l(S)<0)return h(this.m()*x.m());const y=this.g.length+x.g.length,_=[];for(var T=0;T<2*y;T++)_[T]=0;for(T=0;T<this.g.length;T++)for(let I=0;I<x.g.length;I++){const R=this.i(T)>>>16,b=this.i(T)&65535,Le=x.i(I)>>>16,vt=x.i(I)&65535;_[2*T+2*I]+=b*vt,w(_,2*T+2*I),_[2*T+2*I+1]+=R*vt,w(_,2*T+2*I+1),_[2*T+2*I+1]+=b*Le,w(_,2*T+2*I+1),_[2*T+2*I+2]+=R*Le,w(_,2*T+2*I+2)}for(x=0;x<y;x++)_[x]=_[2*x+1]<<16|_[2*x];for(x=y;x<2*y;x++)_[x]=0;return new o(_,0)};function w(x,y){for(;(x[y]&65535)!=x[y];)x[y+1]+=x[y]>>>16,x[y]&=65535,y++}function N(x,y){this.g=x,this.h=y}function C(x,y){if(A(y))throw Error("division by zero");if(A(x))return new N(p,p);if(k(x))return y=C(D(x),y),new N(D(y.g),D(y.h));if(k(y))return y=C(x,D(y)),new N(D(y.g),y.h);if(x.g.length>30){if(k(x)||k(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,T=y;T.l(x)<=0;)_=M(_),T=M(T);var I=F(_,1),R=F(T,1);for(T=F(T,2),_=F(_,2);!A(T);){var b=R.add(T);b.l(x)<=0&&(I=I.add(_),R=b),T=F(T,1),_=F(_,1)}return y=E(x,I.j(y)),new N(I,y)}for(I=p;x.l(y)>=0;){for(_=Math.max(1,Math.floor(x.m()/y.m())),T=Math.ceil(Math.log(_)/Math.LN2),T=T<=48?1:Math.pow(2,T-48),R=h(_),b=R.j(y);k(b)||b.l(x)>0;)_-=T,R=h(_),b=R.j(y);A(R)&&(R=g),I=I.add(R),x=E(x,b)}return new N(I,x)}t.B=function(x){return C(this,x).h},t.and=function(x){const y=Math.max(this.g.length,x.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)&x.i(T);return new o(_,this.h&x.h)},t.or=function(x){const y=Math.max(this.g.length,x.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)|x.i(T);return new o(_,this.h|x.h)},t.xor=function(x){const y=Math.max(this.g.length,x.g.length),_=[];for(let T=0;T<y;T++)_[T]=this.i(T)^x.i(T);return new o(_,this.h^x.h)};function M(x){const y=x.g.length+1,_=[];for(let T=0;T<y;T++)_[T]=x.i(T)<<1|x.i(T-1)>>>31;return new o(_,x.h)}function F(x,y){const _=y>>5;y%=32;const T=x.g.length-_,I=[];for(let R=0;R<T;R++)I[R]=y>0?x.i(R+_)>>>y|x.i(R+_+1)<<32-y:x.i(R+_);return new o(I,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Vv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=m,ur=o}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dv,Oi,Mv,Qa,Vd,Ov,Lv,Fv;(function(){var t,e=Object.defineProperty;function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ca=="object"&&Ca];for(var d=0;d<a.length;++d){var f=a[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var P=a[v];if(!(P in f))break e;f=f[P]}a=a[a.length-1],v=f[a],d=d(v),d!=v&&d!=null&&e(f,a,{configurable:!0,writable:!0,value:d})}}s("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(a){return a||function(d){var f=[],v;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&f.push([v,d[v]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function c(a,d,f){return a.call.apply(a.bind,arguments)}function h(a,d,f){return h=c,h.apply(null,arguments)}function m(a,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function p(a,d){function f(){}f.prototype=d.prototype,a.Z=d.prototype,a.prototype=new f,a.prototype.constructor=a,a.Ob=function(v,P,O){for(var B=Array(arguments.length-2),te=2;te<arguments.length;te++)B[te-2]=arguments[te];return d.prototype[P].apply(v,B)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function S(a){const d=a.length;if(d>0){const f=Array(d);for(let v=0;v<d;v++)f[v]=a[v];return f}return[]}function A(a,d){for(let v=1;v<arguments.length;v++){const P=arguments[v];var f=typeof P;if(f=f!="object"?f:P?Array.isArray(P)?"array":f:"null",f=="array"||f=="object"&&typeof P.length=="number"){f=a.length||0;const O=P.length||0;a.length=f+O;for(let B=0;B<O;B++)a[f+B]=P[B]}else a.push(P)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function D(a){o.setTimeout(()=>{throw a},0)}function E(){var a=x;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class w{constructor(){this.h=this.g=null}add(d,f){const v=N.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var N=new k(()=>new C,a=>a.reset());class C{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,x=new w,y=()=>{const a=Promise.resolve(void 0);M=()=>{a.then(_)}};function _(){for(var a;a=E();){try{a.h.call(a.g)}catch(f){D(f)}var d=N;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}F=!1}function T(){this.u=this.u,this.C=this.C}T.prototype.u=!1,T.prototype.dispose=function(){this.u||(this.u=!0,this.N())},T.prototype[Symbol.dispose]=function(){this.dispose()},T.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};o.addEventListener("test",f,d),o.removeEventListener("test",f,d)}catch{}return a}();function b(a){return/^[\s\xa0]*$/.test(a)}function Le(a,d){I.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}p(Le,I),Le.prototype.init=function(a,d){const f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(f=="mouseover"?d=a.fromElement:f=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),Sr=0;function Yt(a,d,f,v,P){this.listener=a,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=P,this.key=++Sr,this.da=this.fa=!1}function q(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function J(a,d,f){for(const v in a)d.call(f,a[v],v,a)}function Y(a,d){for(const f in a)d.call(void 0,a[f],f,a)}function ge(a){const d={};for(const f in a)d[f]=a[f];return d}const fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $t(a,d){let f,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(f in v)a[f]=v[f];for(let O=0;O<fe.length;O++)f=fe[O],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function Fe(a){this.src=a,this.g={},this.h=0}Fe.prototype.add=function(a,d,f,v,P){const O=a.toString();a=this.g[O],a||(a=this.g[O]=[],this.h++);const B=We(a,d,v,P);return B>-1?(d=a[B],f||(d.fa=!1)):(d=new Yt(d,this.src,O,!!v,P),d.fa=f,a.push(d)),d};function Bt(a,d){const f=d.type;if(f in a.g){var v=a.g[f],P=Array.prototype.indexOf.call(v,d,void 0),O;(O=P>=0)&&Array.prototype.splice.call(v,P,1),O&&(q(d),a.g[f].length==0&&(delete a.g[f],a.h--))}}function We(a,d,f,v){for(let P=0;P<a.length;++P){const O=a[P];if(!O.da&&O.listener==d&&O.capture==!!f&&O.ha==v)return P}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),Rn={};function ni(a,d,f,v,P){if(Array.isArray(d)){for(let O=0;O<d.length;O++)ni(a,d[O],f,v,P);return null}return f=Qo(f),a&&a[vt]?a.J(d,f,u(v)?!!v.capture:!1,P):ri(a,d,f,!1,v,P)}function ri(a,d,f,v,P,O){if(!d)throw Error("Invalid event type");const B=u(P)?!!P.capture:!!P;let te=oi(a);if(te||(a[Rt]=te=new Fe(a)),f=te.add(d,f,v,B,O),f.proxy)return f;if(v=si(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)R||(P=B),P===void 0&&(P=!1),a.addEventListener(d.toString(),v,P);else if(a.attachEvent)a.attachEvent(Go(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function si(){function a(f){return d.call(a.src,a.listener,f)}const d=Su;return a}function Wo(a,d,f,v,P){if(Array.isArray(d))for(var O=0;O<d.length;O++)Wo(a,d[O],f,v,P);else v=u(v)?!!v.capture:!!v,f=Qo(f),a&&a[vt]?(a=a.i,O=String(d).toString(),O in a.g&&(d=a.g[O],f=We(d,f,v,P),f>-1&&(q(d[f]),Array.prototype.splice.call(d,f,1),d.length==0&&(delete a.g[O],a.h--)))):a&&(a=oi(a))&&(d=a.g[d.toString()],a=-1,d&&(a=We(d,f,v,P)),(f=a>-1?d[a]:null)&&ii(f))}function ii(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[vt])Bt(d.i,a);else{var f=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(f,v,a.capture):d.detachEvent?d.detachEvent(Go(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=oi(d))?(Bt(f,a),f.h==0&&(f.src=null,d[Rt]=null)):q(a)}}}function Go(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function Su(a,d){if(a.da)a=!0;else{d=new Le(d,this);const f=a.listener,v=a.ha||a.src;a.fa&&ii(a),a=f.call(v,d)}return a}function oi(a){return a=a[Rt],a instanceof Fe?a:null}var ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qo(a){return typeof a=="function"?a:(a[ai]||(a[ai]=function(d){return a.handleEvent(d)}),a[ai])}function Ge(){T.call(this),this.i=new Fe(this),this.M=this,this.G=null}p(Ge,T),Ge.prototype[vt]=!0,Ge.prototype.removeEventListener=function(a,d,f,v){Wo(this,a,d,f,v)};function Qe(a,d){var f,v=a.G;if(v)for(f=[];v;v=v.G)f.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new I(d,a);else if(d instanceof I)d.target=d.target||a;else{var P=d;d=new I(v,a),$t(d,P)}P=!0;let O,B;if(f)for(B=f.length-1;B>=0;B--)O=d.g=f[B],P=rs(O,v,!0,d)&&P;if(O=d.g=a,P=rs(O,v,!0,d)&&P,P=rs(O,v,!1,d)&&P,f)for(B=0;B<f.length;B++)O=d.g=f[B],P=rs(O,v,!1,d)&&P}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var a=this.i;for(const d in a.g){const f=a.g[d];for(let v=0;v<f.length;v++)q(f[v]);delete a.g[d],a.h--}}this.G=null},Ge.prototype.J=function(a,d,f,v){return this.i.add(String(a),d,!1,f,v)},Ge.prototype.K=function(a,d,f,v){return this.i.add(String(a),d,!0,f,v)};function rs(a,d,f,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let P=!0;for(let O=0;O<d.length;++O){const B=d[O];if(B&&!B.da&&B.capture==f){const te=B.listener,Ue=B.ha||B.src;B.fa&&Bt(a.i,B),P=te.call(Ue,v)!==!1&&P}}return P&&!v.defaultPrevented}function Nu(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=h(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:o.setTimeout(a,d||0)}function li(a){a.g=Nu(()=>{a.g=null,a.i&&(a.i=!1,li(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class Tu extends T{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:li(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(a){T.call(this),this.h=a,this.g={}}p(Nr,T);var ui=[];function ci(a){J(a.g,function(d,f){this.g.hasOwnProperty(f)&&ii(d)},a),a.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),ci(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var di=o.JSON.stringify,bu=o.JSON.parse,Iu=class{stringify(a){return o.JSON.stringify(a,void 0)}parse(a){return o.JSON.parse(a,void 0)}};function Ko(){}function Jo(){}var Tr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function hi(){I.call(this,"d")}p(hi,I);function fi(){I.call(this,"c")}p(fi,I);var pn={},Xo=null;function V(){return Xo=Xo||new Ge}pn.Ia="serverreachability";function L(a){I.call(this,pn.Ia,a)}p(L,I);function G(a){const d=V();Qe(d,new L(d))}pn.STAT_EVENT="statevent";function le(a,d){I.call(this,pn.STAT_EVENT,a),this.stat=d}p(le,I);function ue(a){const d=V();Qe(d,new le(d,a))}pn.Ja="timingevent";function Ae(a,d){I.call(this,pn.Ja,a),this.size=d}p(Ae,I);function Se(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){a()},d)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function ux(a,d,f,v,P,O){a.info(function(){if(a.g)if(O){var B="",te=O.split("&");for(let me=0;me<te.length;me++){var Ue=te[me].split("=");if(Ue.length>1){const Ke=Ue[0];Ue=Ue[1];const en=Ke.split("_");B=en.length>=2&&en[1]=="type"?B+(Ke+"="+Ue+"&"):B+(Ke+"=redacted&")}}}else B=null;else B=O;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+d+`
`+f+`
`+B})}function cx(a,d,f,v,P,O,B){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+d+`
`+f+`
`+O+" "+B})}function ss(a,d,f,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+hx(a,f)+(v?" "+v:"")})}function dx(a,d){a.info(function(){return"TIMEOUT: "+d})}Pn.prototype.info=function(){};function hx(a,d){if(!a.g)return d;if(!d)return null;try{const O=JSON.parse(d);if(O){for(a=0;a<O.length;a++)if(Array.isArray(O[a])){var f=O[a];if(!(f.length<2)){var v=f[1];if(Array.isArray(v)&&!(v.length<1)){var P=v[0];if(P!="noop"&&P!="stop"&&P!="close")for(let B=1;B<v.length;B++)v[B]=""}}}}return di(O)}catch{return d}}var Yo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Af;function Cu(){}p(Cu,Ko),Cu.prototype.g=function(){return new XMLHttpRequest},Af=new Cu;function mi(a){return encodeURIComponent(String(a))}function fx(a){var d=1;a=a.split(":");const f=[];for(;d>0&&a.length;)f.push(a.shift()),d--;return a.length&&f.push(a.join(":")),f}function Vn(a,d,f,v){this.j=a,this.i=d,this.l=f,this.S=v||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new kf}function kf(){this.i=null,this.g="",this.h=!1}var jf={},Au={};function ku(a,d,f){a.M=1,a.A=ea(Zt(d)),a.u=f,a.R=!0,Rf(a,null)}function Rf(a,d){a.F=Date.now(),Zo(a),a.B=Zt(a.A);var f=a.B,v=a.S;Array.isArray(v)||(v=[String(v)]),Hf(f.i,"t",v),a.C=0,f=a.j.L,a.h=new kf,a.g=um(a.j,f?d:null,!a.u),a.P>0&&(a.O=new Tu(h(a.Y,a,a.g),a.P)),d=a.V,f=a.g,v=a.ba;var P="readystatechange";Array.isArray(P)||(P&&(ui[0]=P.toString()),P=ui);for(let O=0;O<P.length;O++){const B=ni(f,P[O],v||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=a.J?ge(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),G(),ux(a.i,a.v,a.B,a.l,a.S,a.u)}Vn.prototype.ba=function(a){a=a.target;const d=this.O;d&&On(a)==3?d.j():this.Y(a)},Vn.prototype.Y=function(a){try{if(a==this.g)e:{const te=On(this.g),Ue=this.g.ya(),me=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||Yf(this.g)))){this.K||te!=4||Ue==7||(Ue==8||me<=0?G(3):G(2)),ju(this);var d=this.g.ca();this.X=d;var f=mx(this);if(this.o=d==200,cx(this.i,this.v,this.B,this.l,this.S,te,d),this.o){if(this.U&&!this.L){t:{if(this.g){var v,P=this.g;if((v=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(v)){var O=v;break t}}O=null}if(a=O)ss(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ru(this,a);else{this.o=!1,this.m=3,ue(12),br(this),pi(this);break e}}if(this.R){a=!0;let Ke;for(;!this.K&&this.C<f.length;)if(Ke=px(this,f),Ke==Au){te==4&&(this.m=4,ue(14),a=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==jf){this.m=4,ue(15),ss(this.i,this.l,f,"[Invalid Chunk]"),a=!1;break}else ss(this.i,this.l,Ke,null),Ru(this,Ke);if(Pf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||f.length!=0||this.h.h||(this.m=1,ue(16),a=!1),this.o=this.o&&a,!a)ss(this.i,this.l,f,"[Invalid Chunked Response]"),br(this),pi(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Uu(B),B.P=!0,ue(11))}}else ss(this.i,this.l,f,null),Ru(this,f);te==4&&br(this),this.o&&!this.K&&(te==4?im(this.j,this):(this.o=!1,Zo(this)))}else Ax(this.g),d==400&&f.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),br(this),pi(this)}}}catch{}finally{}};function mx(a){if(!Pf(a))return a.g.la();const d=Yf(a.g);if(d==="")return"";let f="";const v=d.length,P=On(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return br(a),pi(a),"";a.h.i=new o.TextDecoder}for(let O=0;O<v;O++)a.h.h=!0,f+=a.h.i.decode(d[O],{stream:!(P&&O==v-1)});return d.length=0,a.h.g+=f,a.C=0,a.h.g}function Pf(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function px(a,d){var f=a.C,v=d.indexOf(`
`,f);return v==-1?Au:(f=Number(d.substring(f,v)),isNaN(f)?jf:(v+=1,v+f>d.length?Au:(d=d.slice(v,v+f),a.C=v+f,d)))}Vn.prototype.cancel=function(){this.K=!0,br(this)};function Zo(a){a.T=Date.now()+a.H,Vf(a,a.H)}function Vf(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=Se(h(a.aa,a),d)}function ju(a){a.D&&(o.clearTimeout(a.D),a.D=null)}Vn.prototype.aa=function(){this.D=null;const a=Date.now();a-this.T>=0?(dx(this.i,this.B),this.M!=2&&(G(),ue(17)),br(this),this.m=2,pi(this)):Vf(this,this.T-a)};function pi(a){a.j.I==0||a.K||im(a.j,a)}function br(a){ju(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,ci(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function Ru(a,d){try{var f=a.j;if(f.I!=0&&(f.g==a||Pu(f.h,a))){if(!a.L&&Pu(f.h,a)&&f.I==3){try{var v=f.Ba.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<a.F)ia(f),ra(f);else break e;Fu(f),ue(18)}}else f.xa=P[1],0<f.xa-f.K&&P[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Se(h(f.Va,f),6e3));Of(f.h)<=1&&f.ta&&(f.ta=void 0)}else Cr(f,11)}else if((a.L||f.g==a)&&ia(f),!b(d))for(P=f.Ba.g.parse(d),d=0;d<P.length;d++){let me=P[d];const Ke=me[0];if(!(Ke<=f.K))if(f.K=Ke,me=me[1],f.I==2)if(me[0]=="c"){f.M=me[1],f.ba=me[2];const en=me[3];en!=null&&(f.ka=en,f.j.info("VER="+f.ka));const Ar=me[4];Ar!=null&&(f.za=Ar,f.j.info("SVER="+f.za));const Ln=me[5];Ln!=null&&typeof Ln=="number"&&Ln>0&&(v=1.5*Ln,f.O=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const Fn=a.g;if(Fn){const aa=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var O=v.h;O.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Vu(O,O.h),O.h=null))}if(v.G){const zu=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;zu&&(v.wa=zu,ve(v.J,v.G,zu))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-a.F,f.j.info("Handshake RTT: "+f.T+"ms")),v=f;var B=a;if(v.na=lm(v,v.L?v.ba:null,v.W),B.L){Lf(v.h,B);var te=B,Ue=v.O;Ue&&(te.H=Ue),te.D&&(ju(te),Zo(te)),v.g=B}else rm(v);f.i.length>0&&sa(f)}else me[0]!="stop"&&me[0]!="close"||Cr(f,7);else f.I==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Cr(f,7):Lu(f):me[0]!="noop"&&f.l&&f.l.qa(me),f.A=0)}}G(4)}catch{}}var gx=class{constructor(a,d){this.g=a,this.map=d}};function Df(a){this.l=a||10,o.PerformanceNavigationTiming?(a=o.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Of(a){return a.h?1:a.g?a.g.size:0}function Pu(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Vu(a,d){a.g?a.g.add(d):a.h=d}function Lf(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Df.prototype.cancel=function(){if(this.i=Ff(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ff(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const f of a.g.values())d=d.concat(f.G);return d}return S(a.i)}var Uf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yx(a,d){if(a){a=a.split("&");for(let f=0;f<a.length;f++){const v=a[f].indexOf("=");let P,O=null;v>=0?(P=a[f].substring(0,v),O=a[f].substring(v+1)):P=a[f],d(P,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Dn(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof Dn?(this.l=a.l,gi(this,a.j),this.o=a.o,this.g=a.g,yi(this,a.u),this.h=a.h,Du(this,Wf(a.i)),this.m=a.m):a&&(d=String(a).match(Uf))?(this.l=!1,gi(this,d[1]||"",!0),this.o=vi(d[2]||""),this.g=vi(d[3]||"",!0),yi(this,d[4]),this.h=vi(d[5]||"",!0),Du(this,d[6]||"",!0),this.m=vi(d[7]||"")):(this.l=!1,this.i=new wi(null,this.l))}Dn.prototype.toString=function(){const a=[];var d=this.j;d&&a.push(xi(d,zf,!0),":");var f=this.g;return(f||d=="file")&&(a.push("//"),(d=this.o)&&a.push(xi(d,zf,!0),"@"),a.push(mi(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&a.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(xi(f,f.charAt(0)=="/"?wx:xx,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",xi(f,Ex)),a.join("")},Dn.prototype.resolve=function(a){const d=Zt(this);let f=!!a.j;f?gi(d,a.j):f=!!a.o,f?d.o=a.o:f=!!a.g,f?d.g=a.g:f=a.u!=null;var v=a.h;if(f)yi(d,a.u);else if(f=!!a.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var P=d.h.lastIndexOf("/");P!=-1&&(v=d.h.slice(0,P+1)+v)}if(P=v,P==".."||P==".")v="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){v=P.lastIndexOf("/",0)==0,P=P.split("/");const O=[];for(let B=0;B<P.length;){const te=P[B++];te=="."?v&&B==P.length&&O.push(""):te==".."?((O.length>1||O.length==1&&O[0]!="")&&O.pop(),v&&B==P.length&&O.push("")):(O.push(te),v=!0)}v=O.join("/")}else v=P}return f?d.h=v:f=a.i.toString()!=="",f?Du(d,Wf(a.i)):f=!!a.m,f&&(d.m=a.m),d};function Zt(a){return new Dn(a)}function gi(a,d,f){a.j=f?vi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function yi(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function Du(a,d,f){d instanceof wi?(a.i=d,Sx(a.i,a.l)):(f||(d=xi(d,_x)),a.i=new wi(d,a.l))}function ve(a,d,f){a.i.set(d,f)}function ea(a){return ve(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function vi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function xi(a,d,f){return typeof a=="string"?(a=encodeURI(a).replace(d,vx),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function vx(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var zf=/[#\/\?@]/g,xx=/[#\?:]/g,wx=/[#\?]/g,_x=/[#\?@]/g,Ex=/#/g;function wi(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Ir(a){a.g||(a.g=new Map,a.h=0,a.i&&yx(a.i,function(d,f){a.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=wi.prototype,t.add=function(a,d){Ir(this),this.i=null,a=is(this,a);let f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(d),this.h+=1,this};function $f(a,d){Ir(a),d=is(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Bf(a,d){return Ir(a),d=is(a,d),a.g.has(d)}t.forEach=function(a,d){Ir(this),this.g.forEach(function(f,v){f.forEach(function(P){a.call(d,P,v,this)},this)},this)};function qf(a,d){Ir(a);let f=[];if(typeof d=="string")Bf(a,d)&&(f=f.concat(a.g.get(is(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)f=f.concat(a[d]);return f}t.set=function(a,d){return Ir(this),this.i=null,a=is(this,a),Bf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=qf(this,a),a.length>0?String(a[0]):d):d};function Hf(a,d,f){$f(a,d),f.length>0&&(a.i=null,a.g.set(is(a,d),S(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(let v=0;v<d.length;v++){var f=d[v];const P=mi(f);f=qf(this,f);for(let O=0;O<f.length;O++){let B=P;f[O]!==""&&(B+="="+mi(f[O])),a.push(B)}}return this.i=a.join("&")};function Wf(a){const d=new wi;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function is(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function Sx(a,d){d&&!a.j&&(Ir(a),a.i=null,a.g.forEach(function(f,v){const P=v.toLowerCase();v!=P&&($f(this,v),Hf(this,P,f))},a)),a.j=d}function Nx(a,d){const f=new Pn;if(o.Image){const v=new Image;v.onload=m(Mn,f,"TestLoadImage: loaded",!0,d,v),v.onerror=m(Mn,f,"TestLoadImage: error",!1,d,v),v.onabort=m(Mn,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=m(Mn,f,"TestLoadImage: timeout",!1,d,v),o.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function Tx(a,d){const f=new Pn,v=new AbortController,P=setTimeout(()=>{v.abort(),Mn(f,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(O=>{clearTimeout(P),O.ok?Mn(f,"TestPingServer: ok",!0,d):Mn(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Mn(f,"TestPingServer: error",!1,d)})}function Mn(a,d,f,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(f)}catch{}}function bx(){this.g=new Iu}function Mu(a){this.i=a.Sb||null,this.h=a.ab||!1}p(Mu,Ko),Mu.prototype.g=function(){return new ta(this.i,this.h)};function ta(a,d){Ge.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(ta,Ge),t=ta.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,Ei(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||o).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},t.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gf(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gf(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}t.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?_i(this):Ei(this),this.readyState==3&&Gf(this)}},t.Oa=function(a){this.g&&(this.response=this.responseText=a,_i(this))},t.Na=function(a){this.g&&(this.response=a,_i(this))},t.ga=function(){this.g&&_i(this)};function _i(a){a.readyState=4,a.l=null,a.j=null,a.B=null,Ei(a)}t.setRequestHeader=function(a,d){this.A.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=d.next();return a.join(`\r
`)};function Ei(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Qf(a){let d="";return J(a,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function Ou(a,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Qf(f),typeof a=="string"?f!=null&&mi(f):ve(a,d,f))}function ke(a){Ge.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(ke,Ge);var Ix=/^https?$/i,Cx=["POST","PUT"];t=ke.prototype,t.Fa=function(a){this.H=a},t.ea=function(a,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Af.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(O){Kf(this,O);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)f.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())f.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),P=o.FormData&&a instanceof o.FormData,!(Array.prototype.indexOf.call(Cx,d,void 0)>=0)||v||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of f)this.g.setRequestHeader(O,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(O){Kf(this,O)}};function Kf(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,Jf(a),na(a)}function Jf(a){a.A||(a.A=!0,Qe(a,"complete"),Qe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,Qe(this,"complete"),Qe(this,"abort"),na(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),na(this,!0)),ke.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Xf(this):this.Xa())},t.Xa=function(){Xf(this)};function Xf(a){if(a.h&&typeof i<"u"){if(a.v&&On(a)==4)setTimeout(a.Ca.bind(a),0);else if(Qe(a,"readystatechange"),On(a)==4){a.h=!1;try{const O=a.ca();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=O===0){let B=String(a.D).match(Uf)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),v=!Ix.test(B?B.toLowerCase():"")}f=v}if(f)Qe(a,"complete"),Qe(a,"success");else{a.o=6;try{var P=On(a)>2?a.g.statusText:""}catch{P=""}a.l=P+" ["+a.ca()+"]",Jf(a)}}finally{na(a)}}}}function na(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);const f=a.g;a.g=null,d||Qe(a,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function On(a){return a.g?a.g.readyState:0}t.ca=function(){try{return On(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),bu(d)}};function Yf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function Ax(a){const d={};a=(a.g&&On(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(b(a[v]))continue;var f=fx(a[v]);const P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=d[P]||[];d[P]=O,O.push(f)}Y(d,function(v){return v.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(a,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||d}function Zf(a){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,a),this.Za=Si("retryDelaySeedMs",1e4,a),this.Ta=Si("forwardChannelMaxRetries",2,a),this.va=Si("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Df(a&&a.concurrentRequestLimit),this.Ba=new bx,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zf.prototype,t.ka=8,t.I=1,t.connect=function(a,d,f,v){ue(0),this.W=a,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.J=lm(this,null,this.W),sa(this)};function Lu(a){if(em(a),a.I==3){var d=a.V++,f=Zt(a.J);if(ve(f,"SID",a.M),ve(f,"RID",d),ve(f,"TYPE","terminate"),Ni(a,f),d=new Vn(a,a.j,d),d.M=2,d.A=ea(Zt(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(d.A.toString(),"")}catch{}!f&&o.Image&&(new Image().src=d.A,f=!0),f||(d.g=um(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Zo(d)}am(a)}function ra(a){a.g&&(Uu(a),a.g.cancel(),a.g=null)}function em(a){ra(a),a.v&&(o.clearTimeout(a.v),a.v=null),ia(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&o.clearTimeout(a.m),a.m=null)}function sa(a){if(!Mf(a.h)&&!a.m){a.m=!0;var d=a.Ea;M||y(),F||(M(),F=!0),x.add(d,a),a.D=0}}function kx(a,d){return Of(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=Se(h(a.Ea,a,d),om(a,a.D)),a.D++,!0)}t.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;const P=new Vn(this,this.j,a);let O=this.o;if(this.U&&(O?(O=ge(O),$t(O,this.U)):O=this.U),this.u!==null||this.R||(P.J=O,O=null),this.S)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,d>4096){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=nm(this,P,d),f=Zt(this.J),ve(f,"RID",a),ve(f,"CVER",22),this.G&&ve(f,"X-HTTP-Session-Id",this.G),Ni(this,f),O&&(this.R?d="headers="+mi(Qf(O))+"&"+d:this.u&&Ou(f,this.u,O)),Vu(this.h,P),this.Ra&&ve(f,"TYPE","init"),this.S?(ve(f,"$req",d),ve(f,"SID","null"),P.U=!0,ku(P,f,null)):ku(P,f,d),this.I=2}}else this.I==3&&(a?tm(this,a):this.i.length==0||Mf(this.h)||tm(this))};function tm(a,d){var f;d?f=d.l:f=a.V++;const v=Zt(a.J);ve(v,"SID",a.M),ve(v,"RID",f),ve(v,"AID",a.K),Ni(a,v),a.u&&a.o&&Ou(v,a.u,a.o),f=new Vn(a,a.j,f,a.D+1),a.u===null&&(f.J=a.o),d&&(a.i=d.G.concat(a.i)),d=nm(a,f,1e3),f.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),Vu(a.h,f),ku(f,v,d)}function Ni(a,d){a.H&&J(a.H,function(f,v){ve(d,v,f)}),a.l&&J({},function(f,v){ve(d,v,f)})}function nm(a,d,f){f=Math.min(a.i.length,f);const v=a.l?h(a.l.Ka,a.l,a):null;e:{var P=a.i;let te=-1;for(;;){const Ue=["count="+f];te==-1?f>0?(te=P[0].g,Ue.push("ofs="+te)):te=0:Ue.push("ofs="+te);let me=!0;for(let Ke=0;Ke<f;Ke++){var O=P[Ke].g;const en=P[Ke].map;if(O-=te,O<0)te=Math.max(0,P[Ke].g-100),me=!1;else try{O="req"+O+"_"||"";try{var B=en instanceof Map?en:Object.entries(en);for(const[Ar,Ln]of B){let Fn=Ln;u(Ln)&&(Fn=di(Ln)),Ue.push(O+Ar+"="+encodeURIComponent(Fn))}}catch(Ar){throw Ue.push(O+"type="+encodeURIComponent("_badmap")),Ar}}catch{v&&v(en)}}if(me){B=Ue.join("&");break e}}B=void 0}return a=a.i.splice(0,f),d.G=a,B}function rm(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;M||y(),F||(M(),F=!0),x.add(d,a),a.A=0}}function Fu(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=Se(h(a.Da,a),om(a,a.A)),a.A++,!0)}t.Da=function(){if(this.v=null,sm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=Se(h(this.Wa,this),a)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),ra(this),sm(this))};function Uu(a){a.B!=null&&(o.clearTimeout(a.B),a.B=null)}function sm(a){a.g=new Vn(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=Zt(a.na);ve(d,"RID","rpc"),ve(d,"SID",a.M),ve(d,"AID",a.K),ve(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&ve(d,"TO",a.ia),ve(d,"TYPE","xmlhttp"),Ni(a,d),a.u&&a.o&&Ou(d,a.u,a.o),a.O&&(a.g.H=a.O);var f=a.g;a=a.ba,f.M=1,f.A=ea(Zt(d)),f.u=null,f.R=!0,Rf(f,a)}t.Va=function(){this.C!=null&&(this.C=null,ra(this),Fu(this),ue(19))};function ia(a){a.C!=null&&(o.clearTimeout(a.C),a.C=null)}function im(a,d){var f=null;if(a.g==d){ia(a),Uu(a),a.g=null;var v=2}else if(Pu(a.h,d))f=d.G,Lf(a.h,d),v=1;else return;if(a.I!=0){if(d.o)if(v==1){f=d.u?d.u.length:0,d=Date.now()-d.F;var P=a.D;v=V(),Qe(v,new Ae(v,f)),sa(a)}else rm(a);else if(P=d.m,P==3||P==0&&d.X>0||!(v==1&&kx(a,d)||v==2&&Fu(a)))switch(f&&f.length>0&&(d=a.h,d.i=d.i.concat(f)),P){case 1:Cr(a,5);break;case 4:Cr(a,10);break;case 3:Cr(a,6);break;default:Cr(a,2)}}}function om(a,d){let f=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(f*=2),f*d}function Cr(a,d){if(a.j.info("Error code "+d),d==2){var f=h(a.bb,a),v=a.Ua;const P=!v;v=new Dn(v||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||gi(v,"https"),ea(v),P?Nx(v.toString(),f):Tx(v.toString(),f)}else ue(2);a.I=0,a.l&&a.l.pa(d),am(a),em(a)}t.bb=function(a){a?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function am(a){if(a.I=0,a.ja=[],a.l){const d=Ff(a.h);(d.length!=0||a.i.length!=0)&&(A(a.ja,d),A(a.ja,a.i),a.h.i.length=0,S(a.i),a.i.length=0),a.l.oa()}}function lm(a,d,f){var v=f instanceof Dn?Zt(f):new Dn(f);if(v.g!="")d&&(v.g=d+"."+v.g),yi(v,v.u);else{var P=o.location;v=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;const O=new Dn(null);v&&gi(O,v),d&&(O.g=d),P&&yi(O,P),f&&(O.h=f),v=O}return f=a.G,d=a.wa,f&&d&&ve(v,f,d),ve(v,"VER",a.ka),Ni(a,v),v}function um(a,d,f){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new ke(new Mu({ab:f})):new ke(a.ma),d.Fa(a.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function cm(){}t=cm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function oa(){}oa.prototype.g=function(a,d){return new Tt(a,d)};function Tt(a,d){Ge.call(this),this.g=new Zf(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!b(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!b(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new os(this)}p(Tt,Ge),Tt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){Lu(this.g)},Tt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.v&&(f={},f.__data__=di(a),a=f);d.i.push(new gx(d.Ya++,a)),d.I==3&&sa(d)},Tt.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Tt.Z.N.call(this)};function dm(a){hi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const f in d){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}p(dm,hi);function hm(){fi.call(this),this.status=1}p(hm,fi);function os(a){this.g=a}p(os,cm),os.prototype.ra=function(){Qe(this.g,"a")},os.prototype.qa=function(a){Qe(this.g,new dm(a))},os.prototype.pa=function(a){Qe(this.g,new hm)},os.prototype.oa=function(){Qe(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,Fv=function(){return new oa},Lv=function(){return V()},Ov=pn,Vd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Qa=Yo,Cf.COMPLETE="complete",Mv=Cf,Jo.EventType=Tr,Tr.OPEN="a",Tr.CLOSE="b",Tr.ERROR="c",Tr.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Oi=Jo,ke.prototype.listenOnce=ke.prototype.K,ke.prototype.getLastError=ke.prototype.Ha,ke.prototype.getLastErrorCode=ke.prototype.ya,ke.prototype.getStatus=ke.prototype.ca,ke.prototype.getResponseJson=ke.prototype.La,ke.prototype.getResponseText=ke.prototype.la,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Fa,Dv=ke}).apply(typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{});const Jp="@firebase/firestore",Xp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ct.UNAUTHENTICATED=new ct(null),ct.GOOGLE_CREDENTIALS=new ct("google-credentials-uid"),ct.FIRST_PARTY=new ct("first-party-uid"),ct.MOCK_USER=new ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ys="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Cv("@firebase/firestore");function ls(){return Gr.logLevel}function H(t,...e){if(Gr.logLevel<=ae.DEBUG){const n=e.map(Jh);Gr.debug(`Firestore (${Ys}): ${t}`,...n)}}function An(t,...e){if(Gr.logLevel<=ae.ERROR){const n=e.map(Jh);Gr.error(`Firestore (${Ys}): ${t}`,...n)}}function zs(t,...e){if(Gr.logLevel<=ae.WARN){const n=e.map(Jh);Gr.warn(`Firestore (${Ys}): ${t}`,...n)}}function Jh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Uv(t,r,n)}function Uv(t,e,n){let r=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw An(r),new Error(r)}function de(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||Uv(e,s,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ct.UNAUTHENTICATED))}shutdown(){}}class zN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $N{constructor(e){this.t=e,this.currentUser=ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},u=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string",31837,{l:r}),new zv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string",2055,{h:e}),new ct(e)}}class BN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,TN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){de(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=WN(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function Dd(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Sc(s)===Sc(i)?se(s,i):Sc(s)?1:-1}return se(t.length,e.length)}const GN=55296,QN=57343;function Sc(t){const e=t.charCodeAt(0);return e>=GN&&e<=QN}function $s(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="__name__";class rn{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=rn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return se(e.length,n.length)}static compareSegments(e,n){const r=rn.isNumericId(e),s=rn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?rn.extractNumericId(e).compare(rn.extractNumericId(n)):Dd(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class Te extends rn{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const KN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends rn{construct(e,n,r){return new rt(e,n,r)}static isValidIdentifier(e){return KN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zp}static keyField(){return new rt([Zp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const u=e[s];if(u==="\\"){if(s+1===e.length)throw new Q(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else u==="`"?(o=!o,s++):u!=="."||o?(r+=u,s++):(i(),s++)}if(i(),o)throw new Q(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Te.fromString(e))}static fromName(e){return new K(Te.fromString(e).popFirst(5))}static empty(){return new K(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t,e,n){if(!n)throw new Q(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XN(t,e,n,r){if(e===!0&&r===!0)throw new Q(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eg(t){if(!K.isDocumentKey(t))throw new Q(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $v(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function No(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yh(t);throw new Q(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){const n={typeString:t};return e&&(n.value=e),n}function zo(t,e){if(!$v(t))throw new Q(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Q(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-62135596800,ng=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ng);return new we(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tg)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ng}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zo(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tg;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:Me("string",we._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new we(0,0))}static max(){return new Z(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function YN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new fr(s,K.empty(),e)}function ZN(t){return new fr(t.readTime,t.key,To)}class fr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fr(Z.min(),K.empty(),To)}static max(){return new fr(Z.max(),K.empty(),To)}}function eT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==tT)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(u=>{++s,u.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let u=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(m=>{o[h]=m,++u,u===i&&r(o)},m=>s(m))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function rT(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ei(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}du.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=-1;function hu(t){return t==null}function Vl(t){return t===0&&1/t==-1/0}function sT(t){return typeof t=="number"&&Number.isInteger(t)&&!Vl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="";function iT(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rg(e)),e=oT(t.get(n),e);return rg(e)}function oT(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Bv:n+="";break;default:n+=i}}return n}function rg(t){return t+Bv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.comparator=e,this.root=n||nt.EMPTY}insert(e,n){return new Ce(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nt.BLACK,null,null))}remove(e){return new Ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Aa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Aa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Aa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Aa(this.root,e,this.comparator,!0)}}class Aa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??nt.RED,this.left=s??nt.EMPTY,this.right=i??nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new nt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}nt.EMPTY=null,nt.RED=!0,nt.BLACK=!1;nt.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.comparator=e,this.data=new Ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ig(this.data.getIterator())}getIteratorFrom(e){return new ig(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new He(this.comparator);return n.data=e,n}}class ig{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new He(rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $s(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Hv("Invalid base64 string: "+i):i}}(e);return new ot(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const aT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(de(!!t,39018),typeof t=="string"){let e=0;const n=aT.exec(t);if(de(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Re(t.seconds),nanos:Re(t.nanos)}}function Re(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="server_timestamp",Gv="__type__",Qv="__previous_value__",Kv="__local_write_time__";function ef(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Gv])==null?void 0:r.stringValue)===Wv}function fu(t){const e=t.mapValue.fields[Qv];return ef(e)?fu(e):e}function bo(t){const e=mr(t.mapValue.fields[Kv].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r,s,i,o,u,c,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=m}}const Dl="(default)";class Io{constructor(e,n){this.projectId=e,this.database=n||Dl}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database===Dl}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__type__",uT="__max__",ka={mapValue:{}},Xv="__vector__",Ml="value";function gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ef(t)?4:dT(t)?9007199254740991:cT(t)?10:11:X(28295,{value:t})}function fn(t,e){if(t===e)return!0;const n=gr(t);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bo(t).isEqual(bo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=mr(s.timestampValue),u=mr(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return pr(s.bytesValue).isEqual(pr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Re(s.geoPointValue.latitude)===Re(i.geoPointValue.latitude)&&Re(s.geoPointValue.longitude)===Re(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Re(s.integerValue)===Re(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Re(s.doubleValue),u=Re(i.doubleValue);return o===u?Vl(o)===Vl(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return $s(t.arrayValue.values||[],e.arrayValue.values||[],fn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},u=i.mapValue.fields||{};if(sg(o)!==sg(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!fn(o[c],u[c])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Co(t,e){return(t.values||[]).find(n=>fn(n,e))!==void 0}function Bs(t,e){if(t===e)return 0;const n=gr(t),r=gr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const u=Re(i.integerValue||i.doubleValue),c=Re(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return og(t.timestampValue,e.timestampValue);case 4:return og(bo(t),bo(e));case 5:return Dd(t.stringValue,e.stringValue);case 6:return function(i,o){const u=pr(i),c=pr(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),c=o.split("/");for(let h=0;h<u.length&&h<c.length;h++){const m=se(u[h],c[h]);if(m!==0)return m}return se(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const u=se(Re(i.latitude),Re(o.latitude));return u!==0?u:se(Re(i.longitude),Re(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ag(t.arrayValue,e.arrayValue);case 10:return function(i,o){var g,S,A,k;const u=i.fields||{},c=o.fields||{},h=(g=u[Ml])==null?void 0:g.arrayValue,m=(S=c[Ml])==null?void 0:S.arrayValue,p=se(((A=h==null?void 0:h.values)==null?void 0:A.length)||0,((k=m==null?void 0:m.values)==null?void 0:k.length)||0);return p!==0?p:ag(h,m)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ka.mapValue&&o===ka.mapValue)return 0;if(i===ka.mapValue)return 1;if(o===ka.mapValue)return-1;const u=i.fields||{},c=Object.keys(u),h=o.fields||{},m=Object.keys(h);c.sort(),m.sort();for(let p=0;p<c.length&&p<m.length;++p){const g=Dd(c[p],m[p]);if(g!==0)return g;const S=Bs(u[c[p]],h[m[p]]);if(S!==0)return S}return se(c.length,m.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function og(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=mr(t),r=mr(e),s=se(n.seconds,r.seconds);return s!==0?s:se(n.nanos,r.nanos)}function ag(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Bs(n[s],r[s]);if(i)return i}return se(n.length,r.length)}function qs(t){return Md(t)}function Md(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Md(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Md(n.fields[o])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function Ka(t){switch(gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fu(t);return e?16+Ka(e):16;case 5:return 2*t.stringValue.length;case 6:return pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ka(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zr(r.fields,(i,o)=>{s+=i.length+Ka(o)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function Od(t){return!!t&&"integerValue"in t}function tf(t){return!!t&&"arrayValue"in t}function lg(t){return!!t&&"nullValue"in t}function ug(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ja(t){return!!t&&"mapValue"in t}function cT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Jv])==null?void 0:r.stringValue)===Xv}function Xi(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Zr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xi(t.arrayValue.values[n]);return e}return{...t}}function dT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===uT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xi(n)}setAll(e){let n=rt.emptyPath(),r={},s=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=u.popLast()}o?r[u.lastSegment()]=Xi(o):s.push(u.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ja(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zr(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(Xi(this.value))}}function Yv(t){const e=[];return Zr(t.fields,(n,r)=>{const s=new rt([n]);if(Ja(r)){const i=Yv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s,i,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new ht(e,0,Z.min(),Z.min(),Z.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new ht(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new ht(e,2,n,Z.min(),Z.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,Z.min(),Z.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.position=e,this.inclusive=n}}function cg(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Bs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function dg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n="asc"){this.field=e,this.dir=n}}function hT(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{}class Be extends Zv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mT(e,n,r):n==="array-contains"?new yT(e,r):n==="in"?new vT(e,r):n==="not-in"?new xT(e,r):n==="array-contains-any"?new wT(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new pT(e,r):new gT(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bs(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(Bs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends Zv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mn(e,n)}matches(e){return e1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function e1(t){return t.op==="and"}function t1(t){return fT(t)&&e1(t)}function fT(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Ld(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+qs(t.value);if(t1(t))return t.filters.map(e=>Ld(e)).join(",");{const e=t.filters.map(n=>Ld(n)).join(",");return`${t.op}(${e})`}}function n1(t,e){return t instanceof Be?function(r,s){return s instanceof Be&&r.op===s.op&&r.field.isEqual(s.field)&&fn(r.value,s.value)}(t,e):t instanceof mn?function(r,s){return s instanceof mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,u)=>i&&n1(o,s.filters[u]),!0):!1}(t,e):void X(19439)}function r1(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(r1).join(" ,")+"}"}(t):"Filter"}class mT extends Be{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class pT extends Be{constructor(e,n){super(e,"in",n),this.keys=s1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gT extends Be{constructor(e,n){super(e,"not-in",n),this.keys=s1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function s1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class yT extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tf(n)&&Co(n.arrayValue,this.value)}}class vT extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Co(this.value.arrayValue,n)}}class xT extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Co(this.value.arrayValue,n)}}class wT extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Co(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n=null,r=[],s=[],i=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=u,this.Te=null}}function hg(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _T(t,e,n,r,s,i,o)}function nf(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ld(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qs(r)).join(",")),e.Te=n}return e.Te}function rf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!hT(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!n1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dg(t.startAt,e.startAt)&&dg(t.endAt,e.endAt)}function Fd(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n=null,r=[],s=[],i=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ET(t,e,n,r,s,i,o,u){return new mu(t,e,n,r,s,i,o,u)}function sf(t){return new mu(t)}function fg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ST(t){return t.collectionGroup!==null}function Yi(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new He(rt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(u=u.add(h.field))})}),u})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Ll(i,r))}),n.has(rt.keyField().canonicalString())||e.Ie.push(new Ll(rt.keyField(),r))}return e.Ie}function un(t){const e=ee(t);return e.Ee||(e.Ee=NT(e,Yi(t))),e.Ee}function NT(t,e){if(t.limitType==="F")return hg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Ll(s.field,i)});const n=t.endAt?new Ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ol(t.startAt.position,t.startAt.inclusive):null;return hg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ud(t,e,n){return new mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pu(t,e){return rf(un(t),un(e))&&t.limitType===e.limitType}function i1(t){return`${nf(un(t))}|lt:${t.limitType}`}function us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>r1(s)).join(", ")}]`),hu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>qs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>qs(s)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function gu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Yi(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,u,c){const h=cg(o,u,c);return o.inclusive?h<=0:h<0}(r.startAt,Yi(r),s)||r.endAt&&!function(o,u,c){const h=cg(o,u,c);return o.inclusive?h>=0:h>0}(r.endAt,Yi(r),s))}(t,e)}function TT(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function o1(t){return(e,n)=>{let r=!1;for(const s of Yi(t)){const i=bT(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function bT(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,u){const c=o.data.field(i),h=u.data.field(i);return c!==null&&h!==null?Bs(c,h):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zr(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return qv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Ce(K.comparator);function kn(){return IT}const a1=new Ce(K.comparator);function Li(...t){let e=a1;for(const n of t)e=e.insert(n.key,n);return e}function l1(t){let e=a1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Zi()}function u1(){return Zi()}function Zi(){return new es(t=>t.toString(),(t,e)=>t.isEqual(e))}const CT=new Ce(K.comparator),AT=new He(K.comparator);function ie(...t){let e=AT;for(const n of t)e=e.add(n);return e}const kT=new He(se);function jT(){return kT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(e)?"-0":e}}function c1(t){return{integerValue:""+t}}function RT(t,e){return sT(e)?c1(e):of(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this._=void 0}}function PT(t,e,n){return t instanceof Fl?function(s,i){const o={fields:{[Gv]:{stringValue:Wv},[Kv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ef(i)&&(i=fu(i)),i&&(o.fields[Qv]=i),{mapValue:o}}(n,e):t instanceof Ao?h1(t,e):t instanceof ko?f1(t,e):function(s,i){const o=d1(s,i),u=mg(o)+mg(s.Ae);return Od(o)&&Od(s.Ae)?c1(u):of(s.serializer,u)}(t,e)}function VT(t,e,n){return t instanceof Ao?h1(t,e):t instanceof ko?f1(t,e):n}function d1(t,e){return t instanceof Ul?function(r){return Od(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fl extends yu{}class Ao extends yu{constructor(e){super(),this.elements=e}}function h1(t,e){const n=m1(e);for(const r of t.elements)n.some(s=>fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ko extends yu{constructor(e){super(),this.elements=e}}function f1(t,e){let n=m1(e);for(const r of t.elements)n=n.filter(s=>!fn(s,r));return{arrayValue:{values:n}}}class Ul extends yu{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function mg(t){return Re(t.integerValue||t.doubleValue)}function m1(t){return tf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DT(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ao&&s instanceof Ao||r instanceof ko&&s instanceof ko?$s(r.elements,s.elements,fn):r instanceof Ul&&s instanceof Ul?fn(r.Ae,s.Ae):r instanceof Fl&&s instanceof Fl}(t.transform,e.transform)}class MT{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vu{}function p1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y1(t.key,En.none()):new $o(t.key,t.data,En.none());{const n=t.data,r=Mt.empty();let s=new He(rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ts(t.key,r,new Qt(s.toArray()),En.none())}}function OT(t,e,n){t instanceof $o?function(s,i,o){const u=s.value.clone(),c=gg(s.fieldTransforms,i,o.transformResults);u.setAll(c),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ts?function(s,i,o){if(!Xa(s.precondition,i))return void i.convertToUnknownDocument(o.version);const u=gg(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(g1(s)),c.setAll(u),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function eo(t,e,n,r){return t instanceof $o?function(i,o,u,c){if(!Xa(i.precondition,o))return u;const h=i.value.clone(),m=yg(i.fieldTransforms,c,o);return h.setAll(m),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof ts?function(i,o,u,c){if(!Xa(i.precondition,o))return u;const h=yg(i.fieldTransforms,c,o),m=o.data;return m.setAll(g1(i)),m.setAll(h),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),u===null?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,u){return Xa(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function LT(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=d1(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function pg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&$s(r,s,(i,o)=>DT(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $o extends vu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ts extends vu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function g1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gg(t,e,n){const r=new Map;de(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,u=e.data.field(i.field);r.set(i.field,VT(o,u,n[s]))}return r}function yg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,PT(i,o,e))}return r}class y1 extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FT extends vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&OT(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=eo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=u1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let u=this.applyToLocalView(o,i.mutatedFields);u=n.has(s.key)?null:u;const c=p1(o,u);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&$s(this.mutations,e.mutations,(n,r)=>pg(n,r))&&$s(this.baseMutations,e.baseMutations,(n,r)=>pg(n,r))}}class af{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){de(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return CT}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new af(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,oe;function BT(t){switch(t){case z.OK:return X(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function v1(t){if(t===void 0)return An("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ve.OK:return z.OK;case Ve.CANCELLED:return z.CANCELLED;case Ve.UNKNOWN:return z.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return z.INTERNAL;case Ve.UNAVAILABLE:return z.UNAVAILABLE;case Ve.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ve.NOT_FOUND:return z.NOT_FOUND;case Ve.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ve.ABORTED:return z.ABORTED;case Ve.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ve.DATA_LOSS:return z.DATA_LOSS;default:return X(39323,{code:t})}}(oe=Ve||(Ve={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new ur([4294967295,4294967295],0);function vg(t){const e=qT().encode(t),n=new Vv;return n.update(e),new Uint8Array(n.digest())}function xg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ur([n,r],0),new ur([s,i],0)]}class lf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fi(`Invalid padding: ${n}`);if(r<0)throw new Fi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fi(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ur.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(ur.fromNumber(r)));return s.compare(HT)===1&&(s=new ur([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vg(e),[r,s]=xg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new lf(i,s,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.ge===0)return;const n=vg(e),[r,s]=xg(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bo.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xu(Z.min(),s,new Ce(se),kn(),ie())}}class Bo{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bo(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class x1{constructor(e,n){this.targetId=e,this.Ce=n}}class w1{constructor(e,n,r=ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class wg{constructor(){this.ve=0,this.Fe=_g(),this.Me=ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X(38017,{changeType:i})}}),new Bo(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=_g()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,de(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WT{constructor(e){this.Ge=e,this.ze=new Map,this.je=kn(),this.Je=ja(),this.He=ja(),this.Ye=new Ce(se)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Fd(i))if(r===0){const o=new K(i.path);this.et(n,o,ht.newNoDocument(o,Z.min()))}else de(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const u=this.ut(e),c=u?this.ct(u,e,o):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,u;try{o=pr(r).toUint8Array()}catch(c){if(c instanceof Hv)return zs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new lf(o,s,i)}catch(c){return zs(c instanceof Fi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),u=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(u)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const u=this.ot(o);if(u){if(i.current&&Fd(u.target)){const c=new K(u.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ht.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ie();this.He.forEach((i,o)=>{let u=!0;o.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new xu(e,n,this.Ye,this.je,r);return this.je=kn(),this.Je=ja(),this.He=ja(),this.Ye=new Ce(se),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wg,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new He(se),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new He(se),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wg),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ja(){return new Ce(K.comparator)}function _g(){return new Ce(K.comparator)}const GT={asc:"ASCENDING",desc:"DESCENDING"},QT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KT={and:"AND",or:"OR"};class JT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zd(t,e){return t.useProto3Json||hu(e)?e:{value:e}}function zl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function XT(t,e){return zl(t,e.toTimestamp())}function cn(t){return de(!!t,49232),Z.fromTimestamp(function(n){const r=mr(n);return new we(r.seconds,r.nanos)}(t))}function uf(t,e){return $d(t,e).canonicalString()}function $d(t,e){const n=function(s){return new Te(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function E1(t){const e=Te.fromString(t);return de(I1(e),10190,{key:e.toString()}),e}function Bd(t,e){return uf(t.databaseId,e.path)}function Nc(t,e){const n=E1(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(N1(n))}function S1(t,e){return uf(t.databaseId,e)}function YT(t){const e=E1(t);return e.length===4?Te.emptyPath():N1(e)}function qd(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function N1(t){return de(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Eg(t,e,n){return{name:Bd(t,e),fields:n.value.mapValue.fields}}function ZT(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:X(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,m){return h.useProto3Json?(de(m===void 0||typeof m=="string",58123),ot.fromBase64String(m||"")):(de(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),ot.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(h){const m=h.code===void 0?z.UNKNOWN:v1(h.code);return new Q(m,h.message||"")}(o);n=new w1(r,s,i,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Nc(t,r.document.name),i=cn(r.document.updateTime),o=r.document.createTime?cn(r.document.createTime):Z.min(),u=new Mt({mapValue:{fields:r.document.fields}}),c=ht.newFoundDocument(s,i,o,u),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Ya(h,m,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Nc(t,r.document),i=r.readTime?cn(r.readTime):Z.min(),o=ht.newNoDocument(s,i),u=r.removedTargetIds||[];n=new Ya([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Nc(t,r.document),i=r.removedTargetIds||[];n=new Ya([],i,s,null)}else{if(!("filter"in e))return X(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new $T(s,i),u=r.targetId;n=new x1(u,o)}}return n}function eb(t,e){let n;if(e instanceof $o)n={update:Eg(t,e.key,e.value)};else if(e instanceof y1)n={delete:Bd(t,e.key)};else if(e instanceof ts)n={update:Eg(t,e.key,e.data),updateMask:ub(e.fieldMask)};else{if(!(e instanceof FT))return X(16599,{Vt:e.type});n={verify:Bd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof Fl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ao)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ko)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ul)return{fieldPath:o.field.canonicalString(),increment:u.Ae};throw X(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:XT(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function tb(t,e){return t&&t.length>0?(de(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?cn(s.updateTime):cn(i);return o.isEqual(Z.min())&&(o=cn(i)),new MT(o,s.transformResults||[])}(n,e))):[]}function nb(t,e){return{documents:[S1(t,e.path)]}}function rb(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=S1(t,s);const i=function(h){if(h.length!==0)return b1(mn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(m=>function(g){return{field:cs(g.field),direction:ob(g.dir)}}(m))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=zd(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:s}}function sb(t){let e=YT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){de(r===1,65062);const m=n.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let i=[];n.where&&(i=function(p){const g=T1(p);return g instanceof mn&&t1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(A){return new Ll(ds(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(n.orderBy));let u=null;n.limit&&(u=function(p){let g;return g=typeof p=="object"?p.value:p,hu(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(p){const g=!!p.before,S=p.values||[];return new Ol(S,g)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const g=!p.before,S=p.values||[];return new Ol(S,g)}(n.endAt)),ET(e,s,o,i,u,"F",c,h)}function ib(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ds(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ds(n.unaryFilter.field);return Be.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ds(n.unaryFilter.field);return Be.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ds(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Be.create(ds(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>T1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function ob(t){return GT[t]}function ab(t){return QT[t]}function lb(t){return KT[t]}function cs(t){return{fieldPath:t.canonicalString()}}function ds(t){return rt.fromServerFormat(t.fieldPath)}function b1(t){return t instanceof Be?function(n){if(n.op==="=="){if(ug(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NAN"}};if(lg(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ug(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NAN"}};if(lg(n.value))return{unaryFilter:{field:cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(n.field),op:ab(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(s=>b1(s));return r.length===1?r[0]:{compositeFilter:{op:lb(n.op),filters:r}}}(t):X(54877,{filter:t})}function ub(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function I1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r,s,i=Z.min(),o=Z.min(),u=ot.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Jn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.yt=e}}function db(t){const e=sb({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.Cn=new fb}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(fr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(fr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class fb{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new He(Te.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new He(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C1=41943040;class xt{static withCacheSize(e){return new xt(e,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.DEFAULT_COLLECTION_PERCENTILE=10,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xt.DEFAULT=new xt(C1,xt.DEFAULT_COLLECTION_PERCENTILE,xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xt.DISABLED=new xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hs(0)}static cr(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="LruGarbageCollector",mb=1048576;function Tg([t,e],[n,r]){const s=se(t,n);return s===0?se(e,r):s}class pb{constructor(e){this.Ir=e,this.buffer=new He(Tg),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tg(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gb{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(Ng,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ei(n)?H(Ng,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Vr(3e5)})}}class yb{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(du.ce);const r=new pb(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(Sg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sg):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,u,c,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,u=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(h=Date.now(),ls()<=ae.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-m}ms
	Determined least recently used ${s} in `+(u-o)+`ms
	Removed ${i} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(h-c)+`ms
Total Duration: ${h-m}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function vb(t,e){return new yb(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.changes=new es(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&eo(r.mutation,s,Qt.empty(),we.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const s=Or();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Li();return i.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,s){let i=kn();const o=Zi(),u=function(){return Zi()}();return n.forEach((c,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof ts)?i=i.insert(h.key,h):m!==void 0?(o.set(h.key,m.mutation.getFieldMask()),eo(m.mutation,h,m.mutation.getFieldMask(),we.now())):o.set(h.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,m)=>o.set(h,m)),n.forEach((h,m)=>u.set(h,new wb(m,o.get(h)??null))),u))}recalculateAndSaveOverlays(e,n){const r=Zi();let s=new Ce((o,u)=>o-u),i=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let m=r.get(c)||Qt.empty();m=u.applyToLocalView(h,m),r.set(c,m);const p=(s.get(u.batchId)||ie()).add(c);s=s.insert(u.batchId,p)})}).next(()=>{const o=[],u=s.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),h=c.key,m=c.value,p=u1();m.forEach(g=>{if(!i.has(g)){const S=p1(n.get(g),r.get(g));S!==null&&p.set(g,S),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ST(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Or());let u=To,c=i;return o.next(h=>U.forEach(h,(m,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),i.get(m)?U.resolve():this.remoteDocumentCache.getEntry(e,m).next(g=>{c=c.insert(m,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,ie())).next(m=>({batchId:u,changes:l1(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=Li();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Li();return this.indexManager.getCollectionParents(e,i).next(u=>U.forEach(u,c=>{const h=function(p,g){return new mu(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,h)=>{const m=h.getKey();o.get(m)===null&&(o=o.insert(m,ht.newInvalidDocument(m)))});let u=Li();return o.forEach((c,h)=>{const m=i.get(c);m!==void 0&&eo(m.mutation,h,Qt.empty(),we.now()),gu(n,h)&&(u=u.insert(c,h))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:cn(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:db(s.bundledQuery),readTime:cn(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(){this.overlays=new Ce(K.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Or(),i=n.length+1,o=new K(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ce((h,m)=>h-m);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=i.get(h.largestBatchId);m===null&&(m=Or(),i=i.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const u=Or(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,m)=>u.set(h,m)),!(u.size()>=s)););return U.resolve(u)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zT(n,r));let i=this.qr.get(n);i===void 0&&(i=ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(){this.Qr=new He(Xe.$r),this.Ur=new He(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Xe(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Xe(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new K(new Te([])),r=new Xe(n,e),s=new Xe(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new K(new Te([])),r=new Xe(n,e),s=new Xe(n,e+1);let i=ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Xe(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xe{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return K.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new He(Xe.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new UT(i,n,r,s);this.mutationQueue.push(o);for(const u of s)this.Zr=this.Zr.add(new Xe(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Zh:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xe(n,0),s=new Xe(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const u=this.Xr(o.Yr);i.push(u)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new He(se);return n.forEach(s=>{const i=new Xe(s,0),o=new Xe(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],u=>{r=r.add(u.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new Xe(new K(i),0);let u=new He(se);return this.Zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(u=u.add(c.Yr)),!0)},o),U.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){de(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new Xe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Xe(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.ri=e,this.docs=function(){return new Ce(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ht.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=kn();const o=n.path,u=new K(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:h,value:{document:m}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||eT(ZN(m),r)<=0||(s.has(m.key)||gu(n,m))&&(i=i.insert(m.key,m.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ib(this)}getSize(e){return U.resolve(this.size)}}class Ib extends xb{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.persistence=e,this.si=new es(n=>nf(n),rf),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.oi=0,this._i=new cf,this.targetCount=0,this.ai=Hs.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,u.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n){this.ui={},this.overlays={},this.ci=new du(0),this.li=!1,this.li=!0,this.hi=new Nb,this.referenceDelegate=e(this),this.Pi=new Cb(this),this.indexManager=new hb,this.remoteDocumentCache=function(s){return new bb(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new cb(n),this.Ii=new Eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Tb(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new Ab(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Ab extends nT{constructor(e){super(),this.currentSequenceNumber=e}}class df{constructor(e){this.persistence=e,this.Ri=new cf,this.Vi=null}static mi(e){return new df(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=K.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class $l{constructor(e,n){this.persistence=e,this.pi=new es(r=>iT(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vb(this,n)}static mi(e,n){return new $l(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(u=>{u||(r++,i.removeEntry(o,Z.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ka(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ie(),s=ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new hf(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return ES()?8:rT(wS())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new kb;return this.Ss(e,n,o).next(u=>{if(i.result=u,this.Vs)return this.bs(e,n,o,u.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ls()<=ae.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(ls()<=ae.DEBUG&&H("QueryEngine","Query:",us(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ls()<=ae.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):U.resolve())}ys(e,n){if(fg(n))return U.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ud(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ie(...i);return this.ps.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Ds(n,u);return this.Cs(n,h,o,c.readTime)?this.ys(e,Ud(n,null,"F")):this.vs(e,h,n,c)}))})))}ws(e,n,r,s){return fg(n)||s.isEqual(Z.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(ls()<=ae.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),us(n)),this.vs(e,o,n,YN(s,To)).next(u=>u))})}Ds(e,n){let r=new He(o1(e));return n.forEach((s,i)=>{gu(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return ls()<=ae.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",us(n)),this.ps.getDocumentsMatchingQuery(e,n,fr.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="LocalStore",Rb=3e8;class Pb{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new Ce(se),this.xs=new es(i=>nf(i),rf),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _b(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Vb(t,e,n,r){return new Pb(t,e,n,r)}async function k1(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],u=[];let c=ie();for(const h of s){o.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}for(const h of i){u.push(h.batchId);for(const m of h.mutations)c=c.add(m.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:u}))})})}function Db(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,c,h,m){const p=h.batch,g=p.keys();let S=U.resolve();return g.forEach(A=>{S=S.next(()=>m.getEntry(c,A)).next(k=>{const D=h.docVersions.get(A);de(D!==null,48541),k.version.compareTo(D)<0&&(p.applyToRemoteDocument(k,h),k.isValidDocument()&&(k.setReadTime(h.commitVersion),m.addEntry(k)))})}),S.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=ie();for(let h=0;h<u.mutationResults.length;++h)u.mutationResults[h].transformResults.length>0&&(c=c.add(u.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function j1(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Mb(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const u=[];e.targetChanges.forEach((m,p)=>{const g=s.get(p);if(!g)return;u.push(n.Pi.removeMatchingKeys(i,m.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(i,m.addedDocuments,p)));let S=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?S=S.withResumeToken(ot.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):m.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(m.resumeToken,r)),s=s.insert(p,S),function(k,D,E){return k.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=Rb?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,S,m)&&u.push(n.Pi.updateTargetData(i,S))});let c=kn(),h=ie();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(i,m))}),u.push(Ob(i,o,e.documentUpdates).next(m=>{c=m.ks,h=m.qs})),!r.isEqual(Z.min())){const m=n.Pi.getLastRemoteSnapshotVersion(i).next(p=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));u.push(m)}return U.waitFor(u).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ms=s,i))}function Ob(t,e,n){let r=ie(),s=ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=kn();return n.forEach((u,c)=>{const h=i.get(u);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(u)),c.isNoDocument()&&c.version.isEqual(Z.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):H(ff,"Ignoring outdated watch update for ",u,". Current version:",h.version," Watch version:",c.version)}),{ks:o,qs:s}})}function Lb(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Zh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Fb(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Jn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Hd(t,e,n){const r=ee(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ei(o))throw o;H(ff,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function bg(t,e,n){const r=ee(t);let s=Z.min(),i=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,m){const p=ee(c),g=p.xs.get(m);return g!==void 0?U.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,m)}(r,o,un(e)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,u.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:ie())).next(u=>(Ub(r,TT(e),u),{documents:u,Qs:i})))}function Ub(t,e,n){let r=t.Os.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ig{constructor(){this.activeTargetIds=jT()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zb{constructor(){this.Mo=new Ig,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ig,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="ConnectivityMonitor";class Ag{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(Cg,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(Cg,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra=null;function Wd(){return Ra===null?Ra=function(){return 268435456+Math.round(2147483648*Math.random())}():Ra++,"0x"+Ra.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="RestConnection",Bb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Dl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Wd(),u=this.zo(e,n.toUriEncodedString());H(Tc,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:h}=new URL(u),m=Qh(h);return this.Jo(e,u,c,r,m).then(p=>(H(Tc,`Received RPC '${e}' ${o}: `,p),p),p=>{throw zs(Tc,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Bb[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut="WebChannelConnection";class Wb extends qb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Wd();return new Promise((u,c)=>{const h=new Dv;h.setWithCredentials(!0),h.listenOnce(Mv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Qa.NO_ERROR:const p=h.getResponseJson();H(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case Qa.TIMEOUT:H(ut,`RPC '${e}' ${o} timed out`),c(new Q(z.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const g=h.getStatus();if(H(ut,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const A=S==null?void 0:S.error;if(A&&A.status&&A.message){const k=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(A.status);c(new Q(k,A.message))}else c(new Q(z.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Q(z.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(ut,`RPC '${e}' ${o} completed.`)}});const m=JSON.stringify(s);H(ut,`RPC '${e}' ${o} sending request:`,s),h.send(n,"POST",m,r,15)})}T_(e,n,r){const s=Wd(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Fv(),u=Lv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const m=i.join("");H(ut,`Creating RPC '${e}' stream ${s}: ${m}`,c);const p=o.createWebChannel(m,c);this.I_(p);let g=!1,S=!1;const A=new Hb({Yo:D=>{S?H(ut,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(g||(H(ut,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),H(ut,`RPC '${e}' stream ${s} sending:`,D),p.send(D))},Zo:()=>p.close()}),k=(D,E,w)=>{D.listen(E,N=>{try{w(N)}catch(C){setTimeout(()=>{throw C},0)}})};return k(p,Oi.EventType.OPEN,()=>{S||(H(ut,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),k(p,Oi.EventType.CLOSE,()=>{S||(S=!0,H(ut,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(p))}),k(p,Oi.EventType.ERROR,D=>{S||(S=!0,zs(ut,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),A.a_(new Q(z.UNAVAILABLE,"The operation could not be completed")))}),k(p,Oi.EventType.MESSAGE,D=>{var E;if(!S){const w=D.data[0];de(!!w,16349);const N=w,C=(N==null?void 0:N.error)||((E=N[0])==null?void 0:E.error);if(C){H(ut,`RPC '${e}' stream ${s} received error:`,C);const M=C.status;let F=function(_){const T=Ve[_];if(T!==void 0)return v1(T)}(M),x=C.message;F===void 0&&(F=z.INTERNAL,x="Unknown error status: "+M+" with message "+C.message),S=!0,A.a_(new Q(F,x)),p.close()}else H(ut,`RPC '${e}' stream ${s} received:`,w),A.u_(w)}}),k(u,Ov.STAT_EVENT,D=>{D.stat===Vd.PROXY?H(ut,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===Vd.NOPROXY&&H(ut,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function bc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t){return new JT(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="PersistentStream";class P1{constructor(e,n,r,s,i,o,u,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(An(n.toString()),An("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Q(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(kg,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(kg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gb extends P1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZT(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?cn(o.readTime):Z.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=qd(this.serializer),n.addTarget=function(i,o){let u;const c=o.target;if(u=Fd(c)?{documents:nb(i,c)}:{query:rb(i,c).ft},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=_1(i,o.resumeToken);const h=zd(i,o.expectedCount);h!==null&&(u.expectedCount=h)}else if(o.snapshotVersion.compareTo(Z.min())>0){u.readTime=zl(i,o.snapshotVersion.toTimestamp());const h=zd(i,o.expectedCount);h!==null&&(u.expectedCount=h)}return u}(this.serializer,e);const r=ib(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=qd(this.serializer),n.removeTarget=e,this.q_(n)}}class Qb extends P1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return de(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){de(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tb(e.writeResults,e.commitTime),r=cn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=qd(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eb(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Jb extends Kb{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,$d(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ho(e,$d(n,r),s,o,u,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Q(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Xb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(An(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="RemoteStore";class Yb{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{ns(this)&&(H(Qr,"Restarting streams for network reachability change."),await async function(c){const h=ee(c);h.Ea.add(4),await qo(h),h.Ra.set("Unknown"),h.Ea.delete(4),await _u(h)}(this))})}),this.Ra=new Xb(r,s)}}async function _u(t){if(ns(t))for(const e of t.da)await e(!0)}async function qo(t){for(const e of t.da)await e(!1)}function V1(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yf(n)?gf(n):ti(n).O_()&&pf(n,e))}function mf(t,e){const n=ee(t),r=ti(n);n.Ia.delete(e),r.O_()&&D1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ns(n)&&n.Ra.set("Unknown"))}function pf(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ti(t).Y_(e)}function D1(t,e){t.Va.Ue(e),ti(t).Z_(e)}function gf(t){t.Va=new WT({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ti(t).start(),t.Ra.ua()}function yf(t){return ns(t)&&!ti(t).x_()&&t.Ia.size>0}function ns(t){return ee(t).Ea.size===0}function M1(t){t.Va=void 0}async function Zb(t){t.Ra.set("Online")}async function eI(t){t.Ia.forEach((e,n)=>{pf(t,e)})}async function tI(t,e){M1(t),yf(t)?(t.Ra.ha(e),gf(t)):t.Ra.set("Unknown")}async function nI(t,e,n){if(t.Ra.set("Online"),e instanceof w1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const u of i.targetIds)s.Ia.has(u)&&(await s.remoteSyncer.rejectListen(u,o),s.Ia.delete(u),s.Va.removeTarget(u))}(t,e)}catch(r){H(Qr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bl(t,r)}else if(e instanceof Ya?t.Va.Ze(e):e instanceof x1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Z.min()))try{const r=await j1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const u=i.Va.Tt(o);return u.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const m=i.Ia.get(h);m&&i.Ia.set(h,m.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,h)=>{const m=i.Ia.get(c);if(!m)return;i.Ia.set(c,m.withResumeToken(ot.EMPTY_BYTE_STRING,m.snapshotVersion)),D1(i,c);const p=new Jn(m.target,c,h,m.sequenceNumber);pf(i,p)}),i.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){H(Qr,"Failed to raise snapshot:",r),await Bl(t,r)}}async function Bl(t,e,n){if(!ei(e))throw e;t.Ea.add(1),await qo(t),t.Ra.set("Offline"),n||(n=()=>j1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Qr,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _u(t)})}function O1(t,e){return e().catch(n=>Bl(t,n,e))}async function Eu(t){const e=ee(t),n=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zh;for(;rI(e);)try{const s=await Lb(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,sI(e,s)}catch(s){await Bl(e,s)}L1(e)&&F1(e)}function rI(t){return ns(t)&&t.Ta.length<10}function sI(t,e){t.Ta.push(e);const n=yr(t);n.O_()&&n.X_&&n.ea(e.mutations)}function L1(t){return ns(t)&&!yr(t).x_()&&t.Ta.length>0}function F1(t){yr(t).start()}async function iI(t){yr(t).ra()}async function oI(t){const e=yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function aI(t,e,n){const r=t.Ta.shift(),s=af.from(r,e,n);await O1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Eu(t)}async function lI(t,e){e&&yr(t).X_&&await async function(r,s){if(function(o){return BT(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();yr(r).B_(),await O1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Eu(r)}}(t,e),L1(t)&&F1(t)}async function jg(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),H(Qr,"RemoteStore received new credentials");const r=ns(n);n.Ea.add(3),await qo(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _u(n)}async function uI(t,e){const n=ee(t);e?(n.Ea.delete(2),await _u(n)):e||(n.Ea.add(2),await qo(n),n.Ra.set("Unknown"))}function ti(t){return t.ma||(t.ma=function(n,r,s){const i=ee(n);return i.sa(),new Gb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Zb.bind(null,t),t_:eI.bind(null,t),r_:tI.bind(null,t),H_:nI.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),yf(t)?gf(t):t.Ra.set("Unknown")):(await t.ma.stop(),M1(t))})),t.ma}function yr(t){return t.fa||(t.fa=function(n,r,s){const i=ee(n);return i.sa(),new Qb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iI.bind(null,t),r_:lI.bind(null,t),ta:oI.bind(null,t),na:aI.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Eu(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Qr,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,u=new vf(e,n,o,s,i);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xf(t,e){if(An("AsyncQueue",`${e}: ${t}`),ei(t))return new Q(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(e){return new js(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Li(),this.sortedSet=new Ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new js;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.ga=new Ce(K.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):X(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ws{constructor(e,n,r,s,i,o,u,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Ws(e,n,js.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dI{constructor(){this.queries=Pg(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ee(n),i=s.queries;s.queries=Pg(),i.forEach((o,u)=>{for(const c of u.Sa)c.onError(r)})})(this,new Q(z.ABORTED,"Firestore shutting down"))}}function Pg(){return new es(t=>i1(t),pu)}async function hI(t,e){const n=ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new cI,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const u=xf(o,`Initialization of query '${us(e.query)}' failed`);return void e.onError(u)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&wf(n)}async function fI(t,e){const n=ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mI(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const u of o.Sa)u.Fa(s)&&(r=!0);o.wa=s}}r&&wf(n)}function pI(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function wf(t){t.Ca.forEach(e=>{e.next()})}var Gd,Vg;(Vg=Gd||(Gd={})).Ma="default",Vg.Cache="cache";class gI{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.key=e}}class z1{constructor(e){this.key=e}}class yI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ie(),this.mutatedKeys=ie(),this.eu=o1(e),this.tu=new js(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Rg,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,u=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,p)=>{const g=s.get(m),S=gu(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),k=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;g&&S?g.data.isEqual(S.data)?A!==k&&(r.track({type:3,doc:S}),D=!0):this.su(g,S)||(r.track({type:2,doc:S}),D=!0,(c&&this.eu(S,c)>0||h&&this.eu(S,h)<0)&&(u=!0)):!g&&S?(r.track({type:0,doc:S}),D=!0):g&&!S&&(r.track({type:1,doc:g}),D=!0,(c||h)&&(u=!0)),D&&(S?(o=o.add(S),i=k?i.add(m):i.delete(m)):(o=o.delete(m),i=i.delete(m)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const m=this.query.limitType==="F"?o.last():o.first();o=o.delete(m.key),i=i.delete(m.key),r.track({type:1,doc:m})}return{tu:o,iu:r,Cs:u,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((m,p)=>function(S,A){const k=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Rt:D})}};return k(S)-k(A)}(m.type,p.type)||this.eu(m.doc,p.doc)),this.ou(r),s=s??!1;const u=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,h=c!==this.Za;return this.Za=c,o.length!==0||h?{snapshot:new Ws(this.query,e.tu,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rg,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new z1(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new U1(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const _f="SyncEngine";class vI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xI{constructor(e){this.key=e,this.hu=!1}}class wI{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new es(u=>i1(u),pu),this.Iu=new Map,this.Eu=new Set,this.du=new Ce(K.comparator),this.Au=new Map,this.Ru=new cf,this.Vu={},this.mu=new Map,this.fu=Hs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _I(t,e,n=!0){const r=G1(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await $1(r,e,n,!0),s}async function EI(t,e){const n=G1(t);await $1(n,e,!0,!1)}async function $1(t,e,n,r){const s=await Fb(t.localStore,un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let u;return r&&(u=await SI(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&V1(t.remoteStore,s),u}async function SI(t,e,n,r,s){t.pu=(p,g,S)=>async function(k,D,E,w){let N=D.view.ru(E);N.Cs&&(N=await bg(k.localStore,D.query,!1).then(({documents:x})=>D.view.ru(x,N)));const C=w&&w.targetChanges.get(D.targetId),M=w&&w.targetMismatches.get(D.targetId)!=null,F=D.view.applyChanges(N,k.isPrimaryClient,C,M);return Mg(k,D.targetId,F.au),F.snapshot}(t,p,g,S);const i=await bg(t.localStore,e,!0),o=new yI(e,i.Qs),u=o.ru(i.documents),c=Bo.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(u,t.isPrimaryClient,c);Mg(t,n,h.au);const m=new vI(e,n,o);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function NI(t,e,n){const r=ee(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!pu(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hd(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&mf(r.remoteStore,s.targetId),Qd(r,s.targetId)}).catch(Zs)):(Qd(r,s.targetId),await Hd(r.localStore,s.targetId,!0))}async function TI(t,e){const n=ee(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mf(n.remoteStore,r.targetId))}async function bI(t,e,n){const r=PI(t);try{const s=await function(o,u){const c=ee(o),h=we.now(),m=u.reduce((S,A)=>S.add(A.key),ie());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",S=>{let A=kn(),k=ie();return c.Ns.getEntries(S,m).next(D=>{A=D,A.forEach((E,w)=>{w.isValidDocument()||(k=k.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(S,A)).next(D=>{p=D;const E=[];for(const w of u){const N=LT(w,p.get(w.key).overlayedDocument);N!=null&&E.push(new ts(w.key,N,Yv(N.value.mapValue),En.exists(!0)))}return c.mutationQueue.addMutationBatch(S,h,E,u)}).next(D=>{g=D;const E=D.applyToLocalDocumentSet(p,k);return c.documentOverlayCache.saveOverlays(S,D.batchId,E)})}).then(()=>({batchId:g.batchId,changes:l1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,u,c){let h=o.Vu[o.currentUser.toKey()];h||(h=new Ce(se)),h=h.insert(u,c),o.Vu[o.currentUser.toKey()]=h}(r,s.batchId,n),await Ho(r,s.changes),await Eu(r.remoteStore)}catch(s){const i=xf(s,"Failed to persist write");n.reject(i)}}async function B1(t,e){const n=ee(t);try{const r=await Mb(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(de(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?de(o.hu,14607):s.removedDocuments.size>0&&(de(o.hu,42227),o.hu=!1))}),await Ho(n,r,e)}catch(r){await Zs(r)}}function Dg(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const u=o.view.va(e);u.snapshot&&s.push(u.snapshot)}),function(o,u){const c=ee(o);c.onlineState=u;let h=!1;c.queries.forEach((m,p)=>{for(const g of p.Sa)g.va(u)&&(h=!0)}),h&&wf(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function II(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Ce(K.comparator);o=o.insert(i,ht.newNoDocument(i,Z.min()));const u=ie().add(i),c=new xu(Z.min(),new Map,new Ce(se),o,u);await B1(r,c),r.du=r.du.remove(i),r.Au.delete(e),Ef(r)}else await Hd(r.localStore,e,!1).then(()=>Qd(r,e,n)).catch(Zs)}async function CI(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await Db(n.localStore,e);H1(n,r,null),q1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ho(n,s)}catch(s){await Zs(s)}}async function AI(t,e,n){const r=ee(t);try{const s=await function(o,u){const c=ee(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return c.mutationQueue.lookupMutationBatch(h,u).next(p=>(de(p!==null,37113),m=p.keys(),c.mutationQueue.removeMutationBatch(h,p))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,m,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>c.localDocuments.getDocuments(h,m))})}(r.localStore,e);H1(r,e,n),q1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ho(r,s)}catch(s){await Zs(s)}}function q1(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function H1(t,e,n){const r=ee(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Qd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||W1(t,r)})}function W1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(mf(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ef(t))}function Mg(t,e,n){for(const r of n)r instanceof U1?(t.Ru.addReference(r.key,e),kI(t,r)):r instanceof z1?(H(_f,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||W1(t,r.key)):X(19791,{wu:r})}function kI(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(H(_f,"New document in limbo: "+n),t.Eu.add(r),Ef(t))}function Ef(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new K(Te.fromString(e)),r=t.fu.next();t.Au.set(r,new xI(n)),t.du=t.du.insert(n,r),V1(t.remoteStore,new Jn(un(sf(n.path)),r,"TargetPurposeLimboResolution",du.ce))}}async function Ho(t,e,n){const r=ee(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((u,c)=>{o.push(r.pu(c,e,n).then(h=>{var m;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(h){s.push(h);const p=hf.As(c.targetId,h);i.push(p)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,h){const m=ee(c);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(h,g=>U.forEach(g.Es,S=>m.persistence.referenceDelegate.addReference(p,g.targetId,S)).next(()=>U.forEach(g.ds,S=>m.persistence.referenceDelegate.removeReference(p,g.targetId,S)))))}catch(p){if(!ei(p))throw p;H(ff,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const S=m.Ms.get(g),A=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(A);m.Ms=m.Ms.insert(g,k)}}}(r.localStore,i))}async function jI(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){H(_f,"User change. New user:",e.toKey());const r=await k1(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(u=>{u.forEach(c=>{c.reject(new Q(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ho(n,r.Ls)}}function RI(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let s=ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const u=n.Tu.get(o);s=s.unionWith(u.view.nu)}return s}}function G1(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=B1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=II.bind(null,e),e.Pu.H_=mI.bind(null,e.eventManager),e.Pu.yu=pI.bind(null,e.eventManager),e}function PI(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AI.bind(null,e),e}class ql{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Vb(this.persistence,new jb,e.initialUser,this.serializer)}Cu(e){return new A1(df.mi,this.serializer)}Du(e){return new zb}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ql.provider={build:()=>new ql};class VI extends ql{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){de(this.persistence.referenceDelegate instanceof $l,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gb(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xt.withCacheSize(this.cacheSizeBytes):xt.DEFAULT;return new A1(r=>$l.mi(r,n),this.serializer)}}class Kd{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await uI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dI}()}createDatastore(e){const n=wu(e.databaseInfo.databaseId),r=function(i){return new Wb(i)}(e.databaseInfo);return function(i,o,u,c){return new Jb(i,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,u){return new Yb(r,s,i,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Dg(this.syncEngine,n,0),function(){return Ag.v()?new Ag:new $b}())}createSyncEngine(e,n){return function(s,i,o,u,c,h,m){const p=new wI(s,i,o,u,c,h);return m&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ee(s);H(Qr,"RemoteStore shutting down."),i.Ea.add(5),await qo(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="FirestoreClient";class MI{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ct.UNAUTHENTICATED,this.clientId=Xh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{H(vr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(vr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ic(t,e){t.asyncQueue.verifyOperationInProgress(),H(vr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await k1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Og(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OI(t);H(vr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jg(e.remoteStore,s)),t._onlineComponents=e}async function OI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(vr,"Using user provided OfflineComponentProvider");try{await Ic(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;zs("Error using user provided cache. Falling back to memory cache: "+n),await Ic(t,new ql)}}else H(vr,"Using default OfflineComponentProvider"),await Ic(t,new VI(void 0));return t._offlineComponents}async function Q1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(vr,"Using user provided OnlineComponentProvider"),await Og(t,t._uninitializedComponentsProvider._online)):(H(vr,"Using default OnlineComponentProvider"),await Og(t,new Kd))),t._onlineComponents}function LI(t){return Q1(t).then(e=>e.syncEngine)}async function FI(t){const e=await Q1(t),n=e.eventManager;return n.onListen=_I.bind(null,e.syncEngine),n.onUnlisten=NI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TI.bind(null,e.syncEngine),n}function UI(t,e,n={}){const r=new cr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,u,c,h){const m=new DI({next:g=>{m.Nu(),o.enqueueAndForget(()=>fI(i,p));const S=g.docs.has(u);!S&&g.fromCache?h.reject(new Q(z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&g.fromCache&&c&&c.source==="server"?h.reject(new Q(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new gI(sf(u.path),m,{includeMetadataChanges:!0,qa:!0});return hI(i,p)}(await FI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firestore.googleapis.com",Fg=!0;class Ug{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J1,this.ssl=Fg}else this.host=e.host,this.ssl=e.ssl??Fg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=C1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mb)throw new Q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K1(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UN;switch(r.type){case"firstParty":return new qN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lg.get(n);r&&(H("ComponentProvider","Removing Datastore"),Lg.delete(n),r.terminate())}(this),Promise.resolve()}}function zI(t,e,n,r={}){var h;t=No(t,Sf);const s=Qh(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;s&&(pS(`https://${u}`),xS("Firestore",!0)),i.host!==J1&&i.host!==u&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:u,ssl:s,emulatorOptions:r};if(!kl(c,o)&&(t._setSettings(c),r.mockUserToken)){let m,p;if(typeof r.mockUserToken=="string")m=r.mockUserToken,p=ct.MOCK_USER;else{m=gS(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ct(g)}t._authCredentials=new zN(new zv(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(zo(n,Ze._jsonSchema))return new Ze(e,r||null,new K(Te.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Me("string",Ze._jsonSchemaVersion),referencePath:Me("string")};class jo extends Nf{constructor(e,n,r){super(e,n,sf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new K(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function X1(t,e,...n){if(t=jl(t),arguments.length===1&&(e=Xh.newId()),JN("doc","path",e),t instanceof Sf){const r=Te.fromString(e,...n);return eg(r),new Ze(t,null,new K(r))}{if(!(t instanceof Ze||t instanceof jo))throw new Q(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return eg(r),new Ze(t.firestore,t instanceof jo?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="AsyncQueue";class $g{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R1(this,"async_queue_retry"),this._c=()=>{const r=bc();r&&H(zg,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new cr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ei(e))throw e;H(zg,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,An("INTERNAL UNHANDLED ERROR: ",Bg(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=vf.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&X(47125,{Pc:Bg(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Bg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Tf extends Sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $g,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $g(e),this._firestoreClient=void 0,await e}}}function $I(t,e){const n=typeof t=="object"?t:AN(),r=typeof t=="string"?t:Dl,s=NN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fS("firestore");i&&zI(s,...i)}return s}function Y1(t){if(t._terminated)throw new Q(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BI(t),t._firestoreClient}function BI(t){var r,s,i;const e=t._freezeSettings(),n=function(u,c,h,m){return new lT(u,c,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,K1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MI(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ot(ot.fromBase64String(e))}catch(n){throw new Q(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ot(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ot._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zo(e,Ot._jsonSchema))return Ot.fromBase64String(e.bytes)}}Ot._jsonSchemaVersion="firestore/bytes/1.0",Ot._jsonSchema={type:Me("string",Ot._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dn._jsonSchemaVersion}}static fromJSON(e){if(zo(e,dn._jsonSchema))return new dn(e.latitude,e.longitude)}}dn._jsonSchemaVersion="firestore/geoPoint/1.0",dn._jsonSchema={type:Me("string",dn._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zo(e,hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new hn(e.vectorValues);throw new Q(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hn._jsonSchemaVersion="firestore/vectorValue/1.0",hn._jsonSchema={type:Me("string",hn._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=/^__.*__$/;class HI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}}function ex(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class If{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new If({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ex(this.Ac)&&qI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WI{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wu(e)}Cc(e,n,r,s=!1){return new If({Ac:e,methodName:n,Dc:r,path:rt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function GI(t){const e=t._freezeSettings(),n=wu(t._databaseId);return new WI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QI(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);sx("Data must be an object, but it was:",o,r);const u=nx(r,o);let c,h;if(i.merge)c=new Qt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const m=[];for(const p of i.mergeFields){const g=KI(e,p,n);if(!o.contains(g))throw new Q(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);XI(m,g)||m.push(g)}c=new Qt(m),h=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,h=o.fieldTransforms;return new HI(new Mt(u),c,h)}function tx(t,e){if(rx(t=jl(t)))return sx("Unsupported field value:",e,t),nx(t,e);if(t instanceof Z1)return function(r,s){if(!ex(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const u of r){let c=tx(u,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=jl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RT(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=we.fromDate(r);return{timestampValue:zl(s.serializer,i)}}if(r instanceof we){const i=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zl(s.serializer,i)}}if(r instanceof dn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ot)return{bytesValue:_1(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:uf(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hn)return function(o,u){return{mapValue:{fields:{[Jv]:{stringValue:Xv},[Ml]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw u.Sc("VectorValues must only contain numeric values.");return of(u.serializer,h)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Yh(r)}`)}(t,e)}function nx(t,e){const n={};return qv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zr(t,(r,s)=>{const i=tx(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function rx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof dn||t instanceof Ot||t instanceof Ze||t instanceof Z1||t instanceof hn)}function sx(t,e,n){if(!rx(n)||!$v(n)){const r=Yh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function KI(t,e,n){if((e=jl(e))instanceof bf)return e._internalPath;if(typeof e=="string")return ix(t,e);throw Hl("Field path arguments must be of type string or ",t,!1,void 0,n)}const JI=new RegExp("[~\\*/\\[\\]]");function ix(t,e,n){if(e.search(JI)>=0)throw Hl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw Hl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Q(z.INVALID_ARGUMENT,u+t+c)}function XI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ax("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YI extends ox{data(){return super.data()}}function ax(t,e){return typeof e=="string"?ix(t,e):e instanceof bf?e._internalPath:e._delegate._internalPath}class ZI{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Re(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zr(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ml].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Re(o.doubleValue));return new hn(n)}convertGeoPoint(e){return new dn(Re(e.latitude),Re(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const n=mr(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);de(I1(r),9688,{name:e});const s=new Io(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||An(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Ui{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ur extends ox{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Za(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ax("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ur._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ur._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ur._jsonSchema={type:Me("string",Ur._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Za extends Ur{data(e={}){return super.data(e)}}class to{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ui(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Za(this._firestore,this._userDataWriter,r.key,r,new Ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(u=>{const c=new Za(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ui(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>i||u.type!==3).map(u=>{const c=new Za(s._firestore,s._userDataWriter,u.doc.key,u.doc,new Ui(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return u.type!==0&&(h=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),m=o.indexOf(u.doc.key)),{type:tC(u.type),doc:c,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Q(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){t=No(t,Ze);const e=No(t.firestore,Tf);return UI(Y1(e),t._key).then(n=>oC(e,t,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:Me("string",to._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class rC extends ZI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ot(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function sC(t,e,n){t=No(t,Ze);const r=No(t.firestore,Tf),s=eC(t.converter,e);return iC(r,[QI(GI(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,En.none())])}function iC(t,e){return function(r,s){const i=new cr;return r.asyncQueue.enqueueAndForget(async()=>bI(await LI(r),s,i)),i.promise}(Y1(t),e)}function oC(t,e,n){const r=n.docs.get(e._key),s=new rC(t);return new Ur(t,s,e._key,r,new Ui(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ys=s})(CN),Pl(new Eo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),u=new Tf(new $N(r.getProvider("auth-internal")),new HN(o,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(h.options.projectId,m)}(o,s),o);return i={useFetchStreams:n,...i},u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),ks(Jp,Xp,e),ks(Jp,Xp,"esm2020")})();var aC="firebase",lC="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(aC,lC,"app");const uC={apiKey:"AIzaSyBqgrDp5C2N0VkD-7cLJWXY7YWGE7ka8LI",authDomain:"luz-espiritual-site.firebaseapp.com",projectId:"luz-espiritual-site",storageBucket:"luz-espiritual-site.firebasestorage.app",messagingSenderId:"700205930926",appId:"1:700205930926:web:272776be5b3b77e21e103f"},cC=jv(uC),lx=$I(cC),dC=async(t,e)=>{try{await sC(X1(lx,"app",t),{value:e}),console.log("Saved to Firebase:",t)}catch(n){console.error("Firebase save error:",n)}},hC=async t=>{try{const e=await nC(X1(lx,"app",t));return e.exists()?e.data().value:null}catch(e){return console.error("Firebase load error:",e),null}},Je=(t,e)=>{try{const n=typeof e=="string"?e:JSON.stringify(e);Je(t,n);let r;if(typeof e=="string")try{r=JSON.parse(e)}catch{r=e}else r=e;dC(t,r)}catch(n){console.error("setData error:",n)}},fC=({atabaqueEnabled:t,onToggleAtabaque:e,backgroundMusicEnabled:n,onToggleBackgroundMusic:r})=>{const[s,i]=j.useState("dashboard"),o=j.useRef(null),u=j.useRef(null),c=j.useRef(null),h=j.useRef(null),[m,p]=j.useState({title:"Luz Espiritual",slogan:"O destino fala, os bzios revelam, Exu transforma",phone:"(24) 99328-9778",address:"Av. N. Sra. do Amparo, 4700 - Santa Cruz, Volta Redonda - RJ",hours:"9h s 18h",email:"contato@luzespiritual.com",calendarEmail:"agenda@luzespiritual.com",logoImage:"",headerImage:""}),g=V=>{switch(V){case"Instagram":return l.jsx(p4,{className:"w-5 h-5"});case"Facebook":return l.jsx(u4,{className:"w-5 h-5"});case"TikTok":return l.jsx(Vp,{className:"w-5 h-5"});case"YouTube":return l.jsx(K4,{className:"w-5 h-5"});case"Twitter":return l.jsx(U4,{className:"w-5 h-5"});default:return l.jsx(Ga,{className:"w-5 h-5"})}},[S,A]=j.useState([{platform:"Instagram",username:"",url:"",active:!1,iconName:"Instagram"},{platform:"Facebook",username:"",url:"",active:!1,iconName:"Facebook"},{platform:"TikTok",username:"",url:"",active:!1,iconName:"TikTok"},{platform:"YouTube",username:"",url:"",active:!1,iconName:"YouTube"},{platform:"Twitter",username:"",url:"",active:!1,iconName:"Twitter"}]),k=[{id:1,title:"Consulta Espiritual",description:"Orientao espiritual personalizada com conexo direta aos Orixs. Inclui limpeza energtica e direcionamento para questes pessoais, profissionais e amorosas.",duration:"60 minutos",price:"R$ 120,00",active:!0,image:"https://images.pexels.com/photos/6980523/pexels-photo-6980523.jpeg?auto=compress&cs=tinysrgb&w=800"},{id:2,title:"Jogo de Bzios",description:"Revelao do destino atravs dos bzios sagrados. Consulta ancestral que desvenda caminhos, obstculos e oportunidades em sua jornada espiritual.",duration:"45 minutos",price:"R$ 90,00",active:!0,image:"https://images.pexels.com/photos/6980526/pexels-photo-6980526.jpeg?auto=compress&cs=tinysrgb&w=800"},{id:3,title:"Iniciao",description:"Cerimnias sagradas de iniciao na tradio If. Processo completo de conexo com seu Orix de cabea e desenvolvimento espiritual.",duration:"Processo completo",price:"Consultar",active:!0,image:"https://images.pexels.com/photos/6980528/pexels-photo-6980528.jpeg?auto=compress&cs=tinysrgb&w=800"}],[D,E]=j.useState([]),[w,N]=j.useState([]),[C,M]=j.useState([]),[F,x]=j.useState([]),[y,_]=j.useState(null),[T,I]=j.useState(null),[R,b]=j.useState(!1),[Le,vt]=j.useState(!1),[Sr,Yt]=j.useState(!1),[q,J]=j.useState(!1),[Y,ge]=j.useState("Rituais"),[fe,$t]=j.useState("file"),[Fe,Bt]=j.useState("url"),[We,Rt]=j.useState("url"),[Rn,ni]=j.useState(""),[ri,si]=j.useState(!1),Wo=[{id:"dashboard",label:"Dashboard",icon:l.jsx(Cd,{className:"w-5 h-5"})},{id:"services",label:"Servios",icon:l.jsx(ba,{className:"w-5 h-5"})},{id:"events",label:"Eventos",icon:l.jsx(Il,{className:"w-5 h-5"})},{id:"gallery",label:"Galeria",icon:l.jsx(Wa,{className:"w-5 h-5"})},{id:"schedule",label:"Agenda",icon:l.jsx(or,{className:"w-5 h-5"})},{id:"social",label:"Redes Sociais",icon:l.jsx(Ga,{className:"w-5 h-5"})},{id:"audio",label:"udio",icon:l.jsx(Mp,{className:"w-5 h-5"})},{id:"settings",label:"Configuraes",icon:l.jsx(b4,{className:"w-5 h-5"})}],ii=["Rituais","Iniciao","Eventos"],Go=()=>{Je("siteSettings",JSON.stringify(m)),pe.success("Configuraes salvas com sucesso!")},Su=()=>{Je("socialProfiles",JSON.stringify(S)),pe.success("Redes sociais salvas com sucesso!")},oi=V=>{let L;if(V.id&&D.find(G=>G.id===V.id))L=D.map(G=>G.id===V.id?V:G),pe.success("Servio atualizado!");else{const G={...V,id:V.id||Date.now()};L=[...D,G],pe.success("Servio salvo!")}E(L),Je("services",JSON.stringify(L)),b(!1),_(null)},ai=V=>{const L=D.filter(G=>G.id!==V);E(L),Je("services",JSON.stringify(L)),pe.success("Servio excludo!")},Qo=V=>{let L;if(V.id)L=F.map(G=>G.id===V.id?V:G),pe.success("Evento atualizado!");else{const G={...V,id:Date.now()};L=[...F,G],pe.success("Evento criado!")}x(L),Je("events",JSON.stringify(L)),vt(!1),I(null)},Ge=V=>{const L=F.filter(G=>G.id!==V);x(L),Je("events",JSON.stringify(L)),pe.success("Evento excludo!")},Qe=V=>{const L=V.target.files;L&&L.length>0&&(Array.from(L).forEach(G=>{const le=new FileReader;le.onload=ue=>{var Pn;const Ae={id:Date.now()+Math.random(),src:(Pn=ue.target)==null?void 0:Pn.result,category:Y,title:G.name.split(".")[0],description:`Imagem adicionada  seo ${Y}`},Se=[...w,Ae];N(Se),Je("galleryImages",JSON.stringify(Se))},le.readAsDataURL(G)}),pe.success(`${L.length} imagem(ns) adicionada(s)  seo ${Y}!`),Yt(!1))},rs=()=>{if(Rn.trim()){const V={id:Date.now(),src:Rn,category:Y,title:`Imagem ${Y}`,description:`Imagem adicionada  seo ${Y}`},L=[...w,V];N(L),Je("galleryImages",JSON.stringify(L)),pe.success("Imagem adicionada com sucesso!"),ni(""),Yt(!1)}},Nu=V=>{const L=w.filter(G=>G.id!==V);N(L),Je("galleryImages",JSON.stringify(L)),pe.success("Imagem excluda!")},li=(V,L,G)=>{A(le=>le.map((ue,Ae)=>{if(Ae===V){const Se={...ue,[L]:G};return(L==="username"||L==="url")&&(Se.active=G.trim()!==""),Se}return ue}))},Tu=V=>{V.preventDefault();const L=new FormData(V.currentTarget),G=L.get("isFullDay")==="on",le=L.get("customReason"),ue={id:Date.now(),date:L.get("date"),startTime:G?"":L.get("startTime"),endTime:G?"":L.get("endTime"),isFullDay:G,reason:ri?le:"Ocupado na agenda"},Ae=[...C,ue];M(Ae),Je("blockedTimes",JSON.stringify(Ae)),pe.success("Horrio bloqueado!"),J(!1),si(!1)},Nr=V=>{const L=C.filter(G=>G.id!==V);M(L),Je("blockedTimes",JSON.stringify(L)),pe.success("Bloqueio removido!")},ui=V=>{var G;const L=(G=V.target.files)==null?void 0:G[0];if(L&&y){const le=new FileReader;le.onload=ue=>{_(Ae=>{var Se;return Ae?{...Ae,image:(Se=ue.target)==null?void 0:Se.result}:null})},le.readAsDataURL(L)}},ci=V=>{var G;const L=(G=V.target.files)==null?void 0:G[0];if(L&&T){const le=new FileReader;le.onload=ue=>{I(Ae=>{var Se;return Ae?{...Ae,image:(Se=ue.target)==null?void 0:Se.result}:null})},le.readAsDataURL(L)}},di=V=>{var G;const L=(G=V.target.files)==null?void 0:G[0];if(L){const le=new FileReader;le.onload=ue=>{p(Ae=>{var Se;return{...Ae,logoImage:(Se=ue.target)==null?void 0:Se.result}})},le.readAsDataURL(L)}},bu=V=>{var G;const L=(G=V.target.files)==null?void 0:G[0];if(L){const le=new FileReader;le.onload=ue=>{p(Ae=>{var Se;return{...Ae,headerImage:(Se=ue.target)==null?void 0:Se.result}})},le.readAsDataURL(L)}};Cc.useEffect(()=>{(async()=>{try{const L=["siteSettings","socialProfiles","services","events","galleryImages","blockedTimes"];for(const G of L){const le=await hC(G);if(le!==null){switch(G){case"siteSettings":p(le);break;case"socialProfiles":A(le);break;case"services":E(le);break;case"events":x(le);break;case"galleryImages":N(le);break;case"blockedTimes":M(le);break;default:break}try{localStorage.setItem(G,JSON.stringify(le))}catch{}}}}catch(L){console.error("syncFromFirebase error:",L)}})()},[]),Cc.useEffect(()=>{const V=localStorage.getItem("siteSettings");V&&p(JSON.parse(V));const L=localStorage.getItem("socialProfiles");L&&A(JSON.parse(L));const G=localStorage.getItem("services");G?E(JSON.parse(G)):(E(k),Je("services",JSON.stringify(k)));const le=localStorage.getItem("events");le&&x(JSON.parse(le));const ue=localStorage.getItem("galleryImages");ue&&N(JSON.parse(ue));const Ae=localStorage.getItem("blockedTimes");Ae&&M(JSON.parse(Ae))},[]);const Iu=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Dashboard"}),l.jsxs("div",{className:"grid md:grid-cols-5 gap-6",children:[l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Servios Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:D.filter(V=>V.active).length})]}),l.jsx(ba,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Eventos Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:F.filter(V=>V.active).length})]}),l.jsx(Il,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Fotos na Galeria"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:w.length})]}),l.jsx(Wa,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Redes Ativas"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:S.filter(V=>V.active).length})]}),l.jsx(Ga,{className:"w-12 h-12 text-amber-600"})]})}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Bloqueios Ativos"}),l.jsx("p",{className:"text-3xl font-bold text-amber-900",children:C.length})]}),l.jsx(Dt,{className:"w-12 h-12 text-amber-600"})]})})]})]}),Ko=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Servios"}),l.jsxs("button",{onClick:()=>{_({id:0,title:"",description:"",duration:"",price:"",active:!0}),b(!0)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Dp,{className:"w-4 h-4 inline mr-2"}),"Novo Servio"]})]}),l.jsx("div",{className:"space-y-4",children:D.length===0?l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[l.jsx("p",{className:"text-amber-700 text-lg",children:"Nenhum servio cadastrado ainda."}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Novo Servio" para comear.'})]}):D.map(V=>l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex gap-4 flex-1",children:[V.image&&l.jsx("img",{src:V.image,alt:V.title,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900",children:V.title}),l.jsx("p",{className:"text-amber-700 mt-2",children:V.description}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("p",{className:"text-sm text-amber-600",children:["Durao: ",V.duration]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Preo: ",V.price]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{_(V),b(!0)},className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg",children:l.jsx(ba,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>ai(V.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(Ia,{className:"w-5 h-5"})})]})]})},V.id))}),R&&y&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:y.id?"Editar Servio":"Novo Servio"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo do servio",value:y.title,onChange:V=>_(L=>L?{...L,title:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("textarea",{placeholder:"Descrio",value:y.description,onChange:V=>_(L=>L?{...L,description:V.target.value}:null),className:"w-full p-3 border rounded-lg h-24"}),l.jsx("input",{type:"text",placeholder:"Durao",value:y.duration,onChange:V=>_(L=>L?{...L,duration:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"text",placeholder:"Preo",value:y.price,onChange:V=>_(L=>L?{...L,price:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900",children:"Foto do Servio"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>Bt("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Fe==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(yc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>Bt("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Fe==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(gc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>Bt("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${Fe==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(pc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),Fe==="url"&&l.jsx("input",{type:"url",placeholder:"URL da imagem",value:y.image||"",onChange:V=>_(L=>L?{...L,image:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),Fe==="file"&&l.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:ui,className:"w-full p-3 border rounded-lg"}),Fe==="camera"&&l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:ui,className:"w-full p-3 border rounded-lg"}),y.image&&l.jsx("img",{src:y.image,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{onClick:()=>oi(y),className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar"]}),l.jsx("button",{onClick:()=>{b(!1),_(null)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})})]}),Jo=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Eventos"}),l.jsxs("button",{onClick:()=>{I({id:0,title:"",description:"",date:"",time:"",location:"",active:!0}),vt(!0)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(Dp,{className:"w-4 h-4 inline mr-2"}),"Novo Evento"]})]}),l.jsx("div",{className:"space-y-4",children:F.length===0?l.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-lg text-center",children:[l.jsx("p",{className:"text-amber-700 text-lg",children:"Nenhum evento cadastrado ainda."}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Novo Evento" para comear.'})]}):F.map(V=>l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex gap-4 flex-1",children:[V.image&&l.jsx("img",{src:V.image,alt:V.title,className:"w-20 h-20 object-cover rounded-lg"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900",children:V.title}),l.jsx("p",{className:"text-amber-700 mt-2",children:V.description}),l.jsxs("div",{className:"flex gap-4 mt-2",children:[l.jsxs("p",{className:"text-sm text-amber-600",children:["Data: ",V.date]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Horrio: ",V.time]}),l.jsxs("p",{className:"text-sm text-amber-600",children:["Local: ",V.location]})]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{I(V),vt(!0)},className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg",children:l.jsx(ba,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>Ge(V.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:l.jsx(Ia,{className:"w-5 h-5"})})]})]})},V.id))}),l.jsxs("button",{onClick:()=>{Je("events",JSON.stringify(F)),pe.success("Eventos salvos com sucesso!")},className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar Eventos"]}),Le&&T&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:T.id?"Editar Evento":"Novo Evento"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("input",{type:"text",placeholder:"Ttulo do evento",value:T.title,onChange:V=>I(L=>L?{...L,title:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("textarea",{placeholder:"Descrio",value:T.description,onChange:V=>I(L=>L?{...L,description:V.target.value}:null),className:"w-full p-3 border rounded-lg h-24"}),l.jsx("input",{type:"date",placeholder:"Data",value:T.date,onChange:V=>I(L=>L?{...L,date:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"time",placeholder:"Horrio",value:T.time,onChange:V=>I(L=>L?{...L,time:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsx("input",{type:"text",placeholder:"Local",value:T.location,onChange:V=>I(L=>L?{...L,location:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900",children:"Foto do Evento"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>Rt("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${We==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(yc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>Rt("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${We==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(gc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>Rt("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${We==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(pc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),We==="url"&&l.jsx("input",{type:"url",placeholder:"URL da imagem",value:T.image||"",onChange:V=>I(L=>L?{...L,image:V.target.value}:null),className:"w-full p-3 border rounded-lg"}),We==="file"&&l.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:ci,className:"w-full p-3 border rounded-lg"}),We==="camera"&&l.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:ci,className:"w-full p-3 border rounded-lg"}),T.image&&l.jsx("img",{src:T.image,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{onClick:()=>Qo(T),className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar"]}),l.jsx("button",{onClick:()=>{vt(!1),I(null)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})})]}),Tr=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Galeria"}),l.jsxs("button",{onClick:()=>Yt(!0),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx($4,{className:"w-4 h-4 inline mr-2"}),"Adicionar Fotos"]})]}),l.jsx("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:w.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Wa,{className:"w-16 h-16 text-amber-400 mx-auto mb-4"}),l.jsx("p",{className:"text-xl text-amber-800 mb-2",children:"Nenhuma foto na galeria"}),l.jsx("p",{className:"text-amber-600",children:'Clique em "Adicionar Fotos" para comear.'})]}):l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:w.map(V=>l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:V.src,alt:V.title,className:"w-full aspect-square object-cover rounded-lg"}),l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("span",{className:"px-2 py-1 bg-amber-600 text-white text-xs rounded-full",children:V.category})}),l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-lg flex items-center justify-center",children:l.jsx("button",{onClick:()=>Nu(V.id),className:"p-2 bg-red-600 rounded-full text-white hover:bg-red-700",children:l.jsx(Ia,{className:"w-4 h-4"})})}),l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-sm font-semibold text-amber-900",children:V.title}),l.jsx("p",{className:"text-xs text-amber-700",children:V.description})]})]},V.id))})}),l.jsxs("button",{onClick:()=>{Je("galleryImages",JSON.stringify(w)),pe.success("Galeria salva com sucesso!")},className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar Galeria"]}),Sr&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Adicionar Fotos"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Selecionar Seo"}),l.jsx("select",{value:Y,onChange:V=>ge(V.target.value),className:"w-full p-3 border rounded-lg",children:ii.map(V=>l.jsx("option",{value:V,children:V},V))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Mtodo de Upload"}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("button",{type:"button",onClick:()=>$t("url"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="url"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(yc,{className:"w-4 h-4 inline mr-2"}),"URL"]}),l.jsxs("button",{type:"button",onClick:()=>$t("file"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="file"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(gc,{className:"w-4 h-4 inline mr-2"}),"Arquivo"]}),l.jsxs("button",{type:"button",onClick:()=>$t("camera"),className:`flex-1 p-2 rounded-lg border-2 transition-colors ${fe==="camera"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-300 text-gray-600"}`,children:[l.jsx(pc,{className:"w-4 h-4 inline mr-2"}),"Cmera"]})]}),fe==="url"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"url",placeholder:"Cole a URL da imagem aqui",value:Rn,onChange:V=>ni(V.target.value),className:"w-full p-3 border rounded-lg"}),l.jsx("button",{onClick:rs,disabled:!Rn.trim(),className:"w-full px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 disabled:bg-gray-300",children:"Adicionar Imagem"})]}),fe==="file"&&l.jsx("input",{ref:o,type:"file",multiple:!0,accept:"image/*",onChange:Qe,className:"w-full p-3 border rounded-lg"}),fe==="camera"&&l.jsx("input",{ref:u,type:"file",multiple:!0,accept:"image/*",capture:"environment",onChange:Qe,className:"w-full p-3 border rounded-lg"})]})]}),l.jsx("div",{className:"flex gap-4 mt-6",children:l.jsx("button",{onClick:()=>Yt(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})})]})})]}),hi=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Gerenciar Agenda"}),l.jsxs("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-300",children:[l.jsx(Dt,{className:"w-4 h-4 inline mr-2"}),"Bloquear Horrio"]})]}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Horrios Bloqueados"}),C.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Dt,{className:"w-12 h-12 text-amber-400 mx-auto mb-4"}),l.jsx("p",{className:"text-amber-700",children:"Nenhum horrio bloqueado"})]}):l.jsx("div",{className:"space-y-3",children:C.map(V=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-900",children:V.date}),l.jsx("p",{className:"text-sm text-red-700",children:V.isFullDay?"Dia inteiro":`${V.startTime} - ${V.endTime}`}),l.jsx("p",{className:"text-sm text-red-600",children:V.reason})]}),l.jsx("button",{onClick:()=>Nr(V.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:l.jsx(Ia,{className:"w-4 h-4"})})]},V.id))})]}),l.jsxs("button",{onClick:()=>{Je("blockedTimes",JSON.stringify(C)),pe.success("Agenda salva com sucesso!")},className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar Agenda"]}),q&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:l.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[l.jsx("h3",{className:"text-xl font-bold text-amber-900 mb-4",children:"Bloquear Horrio"}),l.jsxs("form",{onSubmit:Tu,children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Data"}),l.jsx("input",{type:"date",name:"date",required:!0,className:"w-full p-3 border rounded-lg"})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",name:"isFullDay"}),l.jsx("span",{className:"text-amber-900 font-semibold",children:"Bloquear dia inteiro"})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Hora Incio"}),l.jsx("input",{type:"time",name:"startTime",className:"w-full p-3 border rounded-lg"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Hora Fim"}),l.jsx("input",{type:"time",name:"endTime",className:"w-full p-3 border rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"flex items-center gap-2 mb-3",children:[l.jsx("input",{type:"checkbox",checked:ri,onChange:V=>si(V.target.checked)}),l.jsx("span",{className:"text-amber-900 font-semibold",children:"Adicionar motivo personalizado"})]}),ri?l.jsx("input",{type:"text",name:"customReason",placeholder:"Ex: Feriado, compromisso pessoal...",className:"w-full p-3 border rounded-lg"}):l.jsx("div",{className:"p-3 bg-gray-50 border rounded-lg",children:l.jsxs("p",{className:"text-gray-600 text-sm",children:["Motivo padro: ",l.jsx("strong",{children:'"Ocupado na agenda"'})]})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-6",children:[l.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[l.jsx(Dt,{className:"w-4 h-4 inline mr-2"}),"Bloquear"]}),l.jsx("button",{type:"button",onClick:()=>{J(!1),si(!1)},className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Cancelar"})]})]})]})})]}),fi=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Redes Sociais"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsx("p",{className:"text-amber-700 mb-6",children:"Configure os perfis das redes sociais. Apenas as redes com perfil preenchido aparecero no site."}),l.jsx("div",{className:"space-y-4",children:S.map((V,L)=>l.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[g(V.iconName),l.jsx("span",{className:"font-semibold text-amber-900 w-20",children:V.platform})]}),l.jsx("input",{type:"text",placeholder:"@usuario",value:V.username,onChange:G=>li(L,"username",G.target.value),className:"flex-1 p-2 border rounded"}),l.jsx("input",{type:"url",placeholder:"https://...",value:V.url,onChange:G=>li(L,"url",G.target.value),className:"flex-1 p-2 border rounded"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`w-3 h-3 rounded-full ${V.active?"bg-green-500":"bg-gray-300"}`}),l.jsx("span",{className:"text-sm text-gray-600",children:V.active?"Ativo":"Inativo"})]})]},V.platform))}),l.jsxs("button",{onClick:Su,className:"mt-6 px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar Redes Sociais"]})]})]}),pn=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Configuraes de udio"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[t?l.jsx(Mp,{className:"w-6 h-6 text-green-600"}):l.jsx(Op,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-amber-900",children:"Som de Atabaque"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Som que toca quando o usurio clica em qualquer lugar do site"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:t,onChange:V=>e(V.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[n?l.jsx(Vp,{className:"w-6 h-6 text-green-600"}):l.jsx(Op,{className:"w-6 h-6 text-red-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-amber-900",children:"Msica de Fundo"}),l.jsx("p",{className:"text-sm text-amber-700",children:"Msica ambiente que toca automaticamente quando o usurio interage com o site"})]})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:n,onChange:V=>r(V.target.checked),className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-amber-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-amber-600"})]})]})]}),l.jsxs("button",{onClick:()=>{Je("atabaqueEnabled",JSON.stringify(t)),Je("backgroundMusicEnabled",JSON.stringify(n)),pe.success("Configuraes de udio salvas!")},className:"mt-6 px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300",children:[l.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Salvar Configuraes de udio"]})]})]}),Xo=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Configuraes do Site"}),l.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-lg",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Ttulo do Site"}),l.jsx("input",{type:"text",value:m.title,onChange:V=>p(L=>({...L,title:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Slogan"}),l.jsx("input",{type:"text",value:m.slogan,onChange:V=>p(L=>({...L,slogan:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(Wr,{className:"w-4 h-4 inline mr-1"}),"Telefone/WhatsApp"]}),l.jsx("input",{type:"text",value:m.phone,onChange:V=>p(L=>({...L,phone:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(Dt,{className:"w-4 h-4 inline mr-1"}),"Horrio de Funcionamento"]}),l.jsx("input",{type:"text",value:m.hours,onChange:V=>p(L=>({...L,hours:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(Fs,{className:"w-4 h-4 inline mr-1"}),"Email Principal"]}),l.jsx("input",{type:"email",value:m.email,onChange:V=>p(L=>({...L,email:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(or,{className:"w-4 h-4 inline mr-1"}),"Email da Agenda"]}),l.jsx("input",{type:"email",value:m.calendarEmail,onChange:V=>p(L=>({...L,calendarEmail:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:[l.jsx(Us,{className:"w-4 h-4 inline mr-1"}),"Endereo"]}),l.jsx("input",{type:"text",value:m.address,onChange:V=>p(L=>({...L,address:V.target.value})),className:"w-full p-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Logo do Site"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"url",value:m.logoImage,onChange:V=>p(L=>({...L,logoImage:V.target.value})),className:"w-full p-3 border rounded-lg",placeholder:"URL da logo ou upload abaixo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:di,className:"w-full p-2 border rounded-lg"}),m.logoImage&&l.jsx("img",{src:m.logoImage,alt:"Logo Preview",className:"w-20 h-20 object-cover rounded-lg"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Imagem do Cabealho"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"url",value:m.headerImage,onChange:V=>p(L=>({...L,headerImage:V.target.value})),className:"w-full p-3 border rounded-lg",placeholder:"URL da imagem ou upload abaixo"}),l.jsx("input",{type:"file",accept:"image/*",onChange:bu,className:"w-full p-2 border rounded-lg"}),m.headerImage&&l.jsx("img",{src:m.headerImage,alt:"Header Preview",className:"w-full h-32 object-cover rounded-lg"})]})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsxs("button",{onClick:Go,className:"px-6 py-3 bg-amber-600 text-white font-semibold rounded-lg hover:bg-amber-700 transition-colors duration-300 flex items-center gap-2",children:[l.jsx(zn,{className:"w-4 h-4"}),"Salvar Configuraes"]})})]})]});return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 pt-8",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-4xl font-bold text-yellow-400 font-serif",children:"Painel Administrativo Completo"}),l.jsx("p",{className:"text-white mt-2",children:"Gerencie todo o contedo e configuraes do site Luz Espiritual"})]}),l.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[l.jsx("div",{className:"lg:w-64",children:l.jsx("div",{className:"bg-slate-800 rounded-lg shadow-lg p-4 border border-yellow-500/20",children:l.jsx("nav",{className:"space-y-2",children:Wo.map(V=>l.jsxs("button",{onClick:()=>i(V.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg font-medium transition-colors duration-300 ${s===V.id?"bg-yellow-500 text-slate-900":"text-white hover:bg-slate-700"}`,children:[V.icon,V.label]},V.id))})})}),l.jsxs("div",{className:"flex-1",children:[s==="dashboard"&&Iu(),s==="services"&&Ko(),s==="events"&&Jo(),s==="gallery"&&Tr(),s==="schedule"&&hi(),s==="social"&&fi(),s==="audio"&&pn(),s==="settings"&&Xo()]})]})]})})},mC=()=>{const[t,e]=j.useState(!1),[n,r]=j.useState({phone:"(24) 99328-9778"});j.useEffect(()=>{const i=()=>{const c=localStorage.getItem("siteSettings");c&&r(JSON.parse(c))};i();const o=()=>{i()};window.addEventListener("storage",o);const u=setInterval(i,1e3);return()=>{window.removeEventListener("storage",o),clearInterval(u)}},[]);const s=()=>{const i=encodeURIComponent("Ol! Gostaria de saber mais sobre os servios espirituais da Luz Espiritual."),o=`https://wa.me/55${n.phone.replace(/\D/g,"")}?text=${i}`;window.open(o,"_blank")};return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:l.jsxs("div",{className:"relative",children:[t&&l.jsxs("div",{className:"absolute bottom-16 right-0 bg-white rounded-lg shadow-2xl p-4 w-72 mb-2 transform transition-all duration-300 animate-in slide-in-from-bottom-5",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:l.jsx(bl,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900",children:"Luz Espiritual"}),l.jsx("p",{className:"text-xs text-green-600",children:"Online agora"})]})]}),l.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx(Uo,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"bg-gray-100 rounded-lg p-3 mb-3",children:l.jsx("p",{className:"text-sm text-gray-800",children:"Ol!  Como posso ajud-lo em sua jornada espiritual hoje?"})}),l.jsx("button",{onClick:s,className:"w-full bg-green-500 hover:bg-green-600 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-300",children:"Iniciar Conversa"})]}),l.jsx("button",{onClick:()=>e(!t),className:"bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-2xl transition-all duration-300 transform hover:scale-110 animate-pulse",children:l.jsx(bl,{className:"w-6 h-6"})}),l.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:"1"})]})}),t&&l.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>e(!1)})]})},pC=({onLogin:t,onClose:e})=>{const[n,r]=j.useState({username:"",password:""}),s=o=>{o.preventDefault(),t(n.username,n.password)?(pe.success("Login realizado com sucesso!"),e()):pe.error("Credenciais invlidas!")},i=o=>{const{name:u,value:c}=o.target;r(h=>({...h,[u]:c}))};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-amber-100 rounded-full",children:l.jsx(vc,{className:"w-6 h-6 text-amber-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-amber-900 font-serif",children:"Acesso Administrativo"})]}),l.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-300",children:l.jsx(Uo,{className:"w-5 h-5 text-gray-600"})})]}),l.jsxs("form",{onSubmit:s,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Usurio"}),l.jsxs("div",{className:"relative",children:[l.jsx(Cl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-amber-600 w-5 h-5"}),l.jsx("input",{type:"text",name:"username",value:n.username,onChange:i,className:"w-full pl-12 pr-4 py-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none transition-colors duration-300",placeholder:"Digite seu usurio",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold text-amber-900 mb-2",children:"Senha"}),l.jsxs("div",{className:"relative",children:[l.jsx(vc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-amber-600 w-5 h-5"}),l.jsx("input",{type:"password",name:"password",value:n.password,onChange:i,className:"w-full pl-12 pr-4 py-3 border-2 border-amber-200 rounded-lg focus:border-amber-500 focus:outline-none transition-colors duration-300",placeholder:"Digite sua senha",required:!0})]})]}),l.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-amber-600 to-orange-600 text-white font-bold rounded-lg hover:from-amber-700 hover:to-orange-700 transform hover:scale-105 transition-all duration-300 shadow-lg",children:"Entrar"})]}),l.jsx("div",{className:"mt-6 p-4 bg-amber-50 rounded-lg",children:l.jsxs("p",{className:"text-sm text-amber-800 text-center",children:[l.jsx(vc,{className:"w-4 h-4 inline mr-1"}),"rea restrita para administradores"]})})]})})};function gC(){const[t,e]=j.useState(!1),[n,r]=j.useState(!1),[s,i]=j.useState(0),[o,u]=j.useState(!1),[c,h]=j.useState(!0),[m,p]=j.useState(!0);j.useEffect(()=>{localStorage.getItem("isAdmin")==="true"&&e(!0)},[]);const g=j.useRef(null),S=j.useRef(null);j.useEffect(()=>{const C=new Audio;C.src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav",C.volume=.7,g.current=C;const M=new Audio;M.src="https://media.vocaroo.com/mp3/1hVSqVKdjS35",M.loop=!0,M.volume=.3,M.crossOrigin="anonymous",S.current=M;const F=localStorage.getItem("atabaqueEnabled");F!==null&&h(JSON.parse(F));const x=localStorage.getItem("backgroundMusicEnabled");x!==null&&p(JSON.parse(x))},[]);const A=()=>{const C=s+1;i(C),C===5&&(r(!0),i(0))},k=(C,M)=>C==="admin"&&M==="123456"?(e(!0),localStorage.setItem("isAdmin","true"),r(!1),!0):!1,D=()=>{e(!1),localStorage.removeItem("isAdmin")},E=()=>{c&&g.current&&(g.current.currentTime=0,g.current.play().catch(console.log)),!o&&m&&S.current&&(S.current.play().catch(console.log),u(!0))},w=C=>{h(C),localStorage.setItem("atabaqueEnabled",JSON.stringify(C))},N=C=>{p(C),localStorage.setItem("backgroundMusicEnabled",JSON.stringify(C)),S.current&&(C&&o?S.current.play().catch(console.log):S.current.pause())};return l.jsx(rE,{children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",onClick:E,onScroll:E,onMouseMove:E,style:{cursor:"default"},children:[l.jsx(J4,{onLogoClick:A,isAdmin:t,onLogout:D}),l.jsx("main",{className:"pt-20",children:l.jsxs(J2,{children:[l.jsx(Rr,{path:"/",element:l.jsx(Y4,{})}),l.jsx(Rr,{path:"/services",element:l.jsx(Z4,{})}),l.jsx(Rr,{path:"/gallery",element:l.jsx(eS,{})}),l.jsx(Rr,{path:"/contact",element:l.jsx(tS,{})}),l.jsx(Rr,{path:"/booking",element:l.jsx(nS,{})}),t&&l.jsx(Rr,{path:"/admin",element:l.jsx(fC,{atabaqueEnabled:c,onToggleAtabaque:w,backgroundMusicEnabled:m,onToggleBackgroundMusic:N})})]})}),l.jsx(X4,{}),l.jsx(mC,{}),n&&l.jsx(pC,{onLogin:k,onClose:()=>r(!1)}),l.jsx(QE,{position:"top-right"})]})})}nv(document.getElementById("root")).render(l.jsx(j.StrictMode,{children:l.jsx(gC,{})}));
